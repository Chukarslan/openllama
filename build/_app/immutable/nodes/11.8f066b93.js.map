{"version":3,"file":"11.8f066b93.js","sources":["../../../../../../src/routes/(app)/workspace/models/create/+page.svelte"],"sourcesContent":["<script>\r\n\timport { v4 as uuidv4 } from 'uuid';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { goto } from '$app/navigation';\r\n\timport { settings, user, config, models } from '$lib/stores';\r\n\r\n\timport { onMount, tick, getContext } from 'svelte';\r\n\timport { addNewModel, getModelById, getModelInfos } from '$lib/apis/models';\r\n\timport { getModels } from '$lib/apis';\r\n\r\n\timport AdvancedParams from '$lib/components/chat/Settings/Advanced/AdvancedParams.svelte';\r\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\r\n\timport Tags from '$lib/components/common/Tags.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet filesInputElement;\r\n\tlet inputFiles;\r\n\r\n\tlet showAdvanced = false;\r\n\tlet showPreview = false;\r\n\r\n\tlet loading = false;\r\n\tlet success = false;\r\n\r\n\t// ///////////\r\n\t// Model\r\n\t// ///////////\r\n\r\n\tlet id = '';\r\n\tlet name = '';\r\n\r\n\tlet params = {};\r\n\tlet capabilities = {\r\n\t\tvision: true\r\n\t};\r\n\r\n\tlet info = {\r\n\t\tid: '',\r\n\t\tbase_model_id: null,\r\n\t\tname: '',\r\n\t\tmeta: {\r\n\t\t\tprofile_image_url: null,\r\n\t\t\tdescription: '',\r\n\t\t\tsuggestion_prompts: [\r\n\t\t\t\t{\r\n\t\t\t\t\tcontent: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\tparams: {\r\n\t\t\tsystem: ''\r\n\t\t}\r\n\t};\r\n\r\n\t$: if (name) {\r\n\t\tid = name.replace(/\\s+/g, '-').toLowerCase();\r\n\t}\r\n\r\n\tlet baseModel = null;\r\n\t$: {\r\n\t\tbaseModel = $models.find((m) => m.id === info.base_model_id);\r\n\t\tconsole.log(baseModel);\r\n\t\tif (baseModel) {\r\n\t\t\tif (baseModel.owned_by === 'openai') {\r\n\t\t\t\tcapabilities.usage = baseModel.info?.meta?.capabilities?.usage ?? false;\r\n\t\t\t} else {\r\n\t\t\t\tdelete capabilities.usage;\r\n\t\t\t}\r\n\t\t\tcapabilities = capabilities;\r\n\t\t}\r\n\t}\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tloading = true;\r\n\r\n\t\tinfo.id = id;\r\n\t\tinfo.name = name;\r\n\t\tinfo.meta.capabilities = capabilities;\r\n\t\tinfo.params.stop = params.stop ? params.stop.split(',').filter((s) => s.trim()) : null;\r\n\r\n\t\tObject.keys(info.params).forEach((key) => {\r\n\t\t\tif (info.params[key] === '' || info.params[key] === null) {\r\n\t\t\t\tdelete info.params[key];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ($models.find((m) => m.id === info.id)) {\r\n\t\t\ttoast.error(\r\n\t\t\t\t`Error: A model with the ID '${info.id}' already exists. Please select a different ID to proceed.`\r\n\t\t\t);\r\n\t\t\tloading = false;\r\n\t\t\tsuccess = false;\r\n\t\t\treturn success;\r\n\t\t}\r\n\r\n\t\tif (info) {\r\n\t\t\tconst res = await addNewModel(localStorage.token, {\r\n\t\t\t\t...info,\r\n\t\t\t\tmeta: {\r\n\t\t\t\t\t...info.meta,\r\n\t\t\t\t\tprofile_image_url: info.meta.profile_image_url ?? '/favicon.png',\r\n\t\t\t\t\tsuggestion_prompts: info.meta.suggestion_prompts\r\n\t\t\t\t\t\t? info.meta.suggestion_prompts.filter((prompt) => prompt.content !== '')\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t},\r\n\t\t\t\tparams: { ...info.params, ...params }\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tawait models.set(await getModels(localStorage.token));\r\n\t\t\t\ttoast.success('Model created successfully!');\r\n\t\t\t\tawait goto('/workspace/models');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tloading = false;\r\n\t\tsuccess = false;\r\n\t};\r\n\r\n\tconst initModel = async (model) => {\r\n\t\tname = model.name;\r\n\t\tawait tick();\r\n\r\n\t\tid = model.id;\r\n\r\n\t\tparams = { ...params, ...model?.info?.params };\r\n\t\tparams.stop = params?.stop ? (params?.stop ?? []).join(',') : null;\r\n\r\n\t\tcapabilities = { ...capabilities, ...(model?.info?.meta?.capabilities ?? {}) };\r\n\r\n\t\tinfo = {\r\n\t\t\t...info,\r\n\t\t\t...model.info\r\n\t\t};\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\twindow.addEventListener('message', async (event) => {\r\n\t\t\tif (\r\n\t\t\t\t!['https://openwebui.com', 'https://www.openwebui.com', 'http://localhost:5173'].includes(\r\n\t\t\t\t\tevent.origin\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tconst model = JSON.parse(event.data);\r\n\t\t\tconsole.log(model);\r\n\r\n\t\t\tinitModel(model);\r\n\t\t});\r\n\r\n\t\tif (window.opener ?? false) {\r\n\t\t\twindow.opener.postMessage('loaded', '*');\r\n\t\t}\r\n\r\n\t\tif (sessionStorage.model) {\r\n\t\t\tconst model = JSON.parse(sessionStorage.model);\r\n\t\t\tsessionStorage.removeItem('model');\r\n\r\n\t\t\tconsole.log(model);\r\n\t\t\tinitModel(model);\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<div class=\"w-full max-h-full\">\r\n\t<input\r\n\t\tbind:this={filesInputElement}\r\n\t\tbind:files={inputFiles}\r\n\t\ttype=\"file\"\r\n\t\thidden\r\n\t\taccept=\"image/*\"\r\n\t\ton:change={() => {\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.onload = (event) => {\r\n\t\t\t\tlet originalImageUrl = `${event.target.result}`;\r\n\r\n\t\t\t\tconst img = new Image();\r\n\t\t\t\timg.src = originalImageUrl;\r\n\r\n\t\t\t\timg.onload = function () {\r\n\t\t\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\t\t\tconst ctx = canvas.getContext('2d');\r\n\r\n\t\t\t\t\t// Calculate the aspect ratio of the image\r\n\t\t\t\t\tconst aspectRatio = img.width / img.height;\r\n\r\n\t\t\t\t\t// Calculate the new width and height to fit within 100x100\r\n\t\t\t\t\tlet newWidth, newHeight;\r\n\t\t\t\t\tif (aspectRatio > 1) {\r\n\t\t\t\t\t\tnewWidth = 100 * aspectRatio;\r\n\t\t\t\t\t\tnewHeight = 100;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewWidth = 100;\r\n\t\t\t\t\t\tnewHeight = 100 / aspectRatio;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Set the canvas size\r\n\t\t\t\t\tcanvas.width = 100;\r\n\t\t\t\t\tcanvas.height = 100;\r\n\r\n\t\t\t\t\t// Calculate the position to center the image\r\n\t\t\t\t\tconst offsetX = (100 - newWidth) / 2;\r\n\t\t\t\t\tconst offsetY = (100 - newHeight) / 2;\r\n\r\n\t\t\t\t\t// Draw the image on the canvas\r\n\t\t\t\t\tctx.drawImage(img, offsetX, offsetY, newWidth, newHeight);\r\n\r\n\t\t\t\t\t// Get the base64 representation of the compressed image\r\n\t\t\t\t\tconst compressedSrc = canvas.toDataURL('image/jpeg');\r\n\r\n\t\t\t\t\t// Display the compressed image\r\n\t\t\t\t\tinfo.meta.profile_image_url = compressedSrc;\r\n\r\n\t\t\t\t\tinputFiles = null;\r\n\t\t\t\t};\r\n\t\t\t};\r\n\r\n\t\t\tif (\r\n\t\t\t\tinputFiles &&\r\n\t\t\t\tinputFiles.length > 0 &&\r\n\t\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png'].includes(inputFiles[0]['type'])\r\n\t\t\t) {\r\n\t\t\t\treader.readAsDataURL(inputFiles[0]);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`Unsupported File Type '${inputFiles[0]['type']}'.`);\r\n\t\t\t\tinputFiles = null;\r\n\t\t\t}\r\n\t\t}}\r\n\t/>\r\n\r\n\t<button\r\n\t\tclass=\"flex space-x-1\"\r\n\t\ton:click={() => {\r\n\t\t\thistory.back();\r\n\t\t}}\r\n\t>\r\n\t\t<div class=\" self-center\">\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\td=\"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z\"\r\n\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t\t<div class=\" self-center font-medium text-sm\">{$i18n.t('Back')}</div>\r\n\t</button>\r\n\t<!-- <hr class=\"my-3 dark:border-gray-700\" /> -->\r\n\r\n\t<form\r\n\t\tclass=\"flex flex-col max-w-2xl mx-auto mt-4 mb-10\"\r\n\t\ton:submit|preventDefault={() => {\r\n\t\t\tsubmitHandler();\r\n\t\t}}\r\n\t>\r\n\t\t<div class=\"flex justify-center my-4\">\r\n\t\t\t<div class=\"self-center\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\" {info.meta.profile_image_url\r\n\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t: 'p-4'} rounded-full dark:bg-gray-700 border border-dashed border-gray-200 flex items-center\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tfilesInputElement.click();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{#if info.meta.profile_image_url}\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={info.meta.profile_image_url}\r\n\t\t\t\t\t\t\talt=\"modelfile profile\"\r\n\t\t\t\t\t\t\tclass=\" rounded-full size-16 object-cover\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"size-8\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"my-2 flex space-x-2\">\r\n\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t<div class=\" text-sm font-semibold mb-2\">{$i18n.t('Name')}*</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\r\n\t\t\t\t\t\tplaceholder={$i18n.t('Name your model')}\r\n\t\t\t\t\t\tbind:value={name}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t<div class=\" text-sm font-semibold mb-2\">{$i18n.t('Model ID')}*</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\r\n\t\t\t\t\t\tplaceholder={$i18n.t('Add a model id')}\r\n\t\t\t\t\t\tbind:value={id}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"my-2\">\r\n\t\t\t<div class=\" text-sm font-semibold mb-2\">{$i18n.t('Base Model (From)')}</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<select\r\n\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\r\n\t\t\t\t\tplaceholder=\"Select a base model (e.g. llama3, gpt-4o)\"\r\n\t\t\t\t\tbind:value={info.base_model_id}\r\n\t\t\t\t\trequired\r\n\t\t\t\t>\r\n\t\t\t\t\t<option value={null} class=\" text-gray-900\">{$i18n.t('Select a base model')}</option>\r\n\t\t\t\t\t{#each $models.filter((m) => !m?.preset) as model}\r\n\t\t\t\t\t\t<option value={model.id} class=\" text-gray-900\">{model.name}</option>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"my-1\">\r\n\t\t\t<div class=\"flex w-full justify-between items-center mb-1\">\r\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Description')}</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"p-1 text-xs flex rounded transition\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tif (info.meta.description === null) {\r\n\t\t\t\t\t\t\tinfo.meta.description = '';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tinfo.meta.description = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{#if info.meta.description === null}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Default')}</span>\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Custom')}</span>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if info.meta.description !== null}\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\r\n\t\t\t\t\tplaceholder={$i18n.t('Add a short description about what this model does')}\r\n\t\t\t\t\tbind:value={info.meta.description}\r\n\t\t\t\t/>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850 my-1\" />\r\n\r\n\t\t<div class=\"my-2\">\r\n\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Model Params')}</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t<div class=\"my-1\">\r\n\t\t\t\t\t<div class=\" text-xs font-semibold mb-2\">{$i18n.t('System Prompt')}</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg -mb-1\"\r\n\t\t\t\t\t\t\tplaceholder={`Write your model system prompt content here\\ne.g.) You are Mario from Super Mario Bros, acting as an assistant.`}\r\n\t\t\t\t\t\t\trows=\"4\"\r\n\t\t\t\t\t\t\tbind:value={info.params.system}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-semibold\">\r\n\t\t\t\t\t\t{$i18n.t('Advanced Params')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tshowAdvanced = !showAdvanced;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{#if showAdvanced}\r\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Hide')}</span>\r\n\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Show')}</span>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if showAdvanced}\r\n\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t<AdvancedParams\r\n\t\t\t\t\t\t\tbind:params\r\n\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\tinfo.params = { ...info.params, ...params };\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850 my-1\" />\r\n\r\n\t\t<div class=\"my-1\">\r\n\t\t\t<div class=\"flex w-full justify-between items-center\">\r\n\t\t\t\t<div class=\"flex w-full justify-between items-center\">\r\n\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Prompt suggestions')}</div>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"p-1 text-xs flex rounded transition\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tif (info.meta.suggestion_prompts === null) {\r\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = [{ content: '' }];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{#if info.meta.suggestion_prompts === null}\r\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Default')}</span>\r\n\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Custom')}</span>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if info.meta.suggestion_prompts !== null}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"p-1 px-2 text-xs flex rounded transition\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.length === 0 ||\r\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.at(-1).content !== ''\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = [...info.meta.suggestion_prompts, { content: '' }];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if info.meta.suggestion_prompts}\r\n\t\t\t\t<div class=\"flex flex-col space-y-1 mt-2\">\r\n\t\t\t\t\t{#if info.meta.suggestion_prompts.length > 0}\r\n\t\t\t\t\t\t{#each info.meta.suggestion_prompts as prompt, promptIdx}\r\n\t\t\t\t\t\t\t<div class=\" flex border dark:border-gray-600 rounded-lg\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent outline-none border-r dark:border-gray-600\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Write a prompt suggestion (e.g. Who are you?)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={prompt.content}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"px-2\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.splice(promptIdx, 1);\r\n\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = info.meta.suggestion_prompts;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<div class=\"text-xs text-center\">No suggestion prompts</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\r\n\t\t<div class=\"my-1\">\r\n\t\t\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Capabilities')}</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t{#each Object.keys(capabilities) as capability}\r\n\t\t\t\t\t<div class=\" flex items-center gap-2\">\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\tstate={capabilities[capability] ? 'checked' : 'unchecked'}\r\n\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\tcapabilities[capability] = e.detail === 'checked';\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<div class=\" py-0.5 text-sm w-full capitalize\">\r\n\t\t\t\t\t\t\t{$i18n.t(capability)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"my-1\">\r\n\t\t\t<div class=\"flex w-full justify-between items-center\">\r\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Tags')}</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t<Tags\r\n\t\t\t\t\ttags={info?.meta?.tags ?? []}\r\n\t\t\t\t\tdeleteTag={(tagName) => {\r\n\t\t\t\t\t\tinfo.meta.tags = info.meta.tags.filter((tag) => tag.name !== tagName);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\taddTag={(tagName) => {\r\n\t\t\t\t\t\tconsole.log(tagName);\r\n\t\t\t\t\t\tif (!(info?.meta?.tags ?? null)) {\r\n\t\t\t\t\t\t\tinfo.meta.tags = [{ name: tagName }];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tinfo.meta.tags = [...info.meta.tags, { name: tagName }];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"my-2 text-gray-300 dark:text-gray-700\">\r\n\t\t\t<div class=\"flex w-full justify-between mb-2\">\r\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('JSON Preview')}</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tshowPreview = !showPreview;\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{#if showPreview}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Hide')}</span>\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Show')}</span>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if showPreview}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm w-full bg-transparent border dark:border-gray-600 outline-none rounded-lg\"\r\n\t\t\t\t\t\trows=\"10\"\r\n\t\t\t\t\t\tvalue={JSON.stringify(info, null, 2)}\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\treadonly\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\r\n\t\t<div class=\"my-2 flex justify-end mb-20\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\" text-sm px-3 py-2 transition rounded-xl {loading\r\n\t\t\t\t\t? ' cursor-not-allowed bg-gray-100 dark:bg-gray-800'\r\n\t\t\t\t\t: ' bg-gray-50 hover:bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-800'} flex\"\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tdisabled={loading}\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center font-medium\">{$i18n.t('Save & Create')}</div>\r\n\r\n\t\t\t\t{#if loading}\r\n\t\t\t\t\t<div class=\"ml-1.5 self-center\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</style><path\r\n\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t/><path\r\n\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</form>\r\n</div>\r\n"],"names":["insert_hydration","target","svg","anchor","append_hydration","path","ctx","attr","img_1","img_1_src_value","t_value","option","option_value_value","dirty","set_data","t","span","input","div","button","create_if_block_4","i","set_input_value","div1","div0","checkbox_changes","t1","t1_value","textarea","textarea_value_value","create_if_block_11","each_value_2","ensure_array_like","func","create_if_block_10","if_block2","create_if_block_9","create_if_block_8","create_if_block_7","create_if_block_6","if_block6","create_if_block_5","create_if_block_3","_b","_a","create_if_block_2","create_if_block_1","create_if_block","button1","button1_class_value","add_render_callback","select","div43","input0","button0","form","div3","div2","div10","div6","div4","div5","input1","div9","div7","div8","input2","div13","div11","div12","select_option","div16","div15","div14","button2","hr0","div25","div18","div17","div24","div21","div19","div20","div23","div22","button3","hr1","div29","div28","div27","div26","button4","div33","div31","div30","div32","div37","div35","div34","div36","div40","div39","div38","button5","div42","button6","div41","t2","t2_value","current","t5","t5_value","t9","t9_value","t13","t13_value","t15","t15_value","t17","t17_value","t22","t22_value","t24","t24_value","t27","t27_value","t32","t32_value","t37","t37_value","each_blocks","t40","t40_value","t43","t43_value","t47","t47_value","m","i18n","getContext","filesInputElement","inputFiles","showAdvanced","showPreview","loading","success","id","name","params","capabilities","info","baseModel","submitHandler","$$invalidate","s","key","$models","toast","addNewModel","prompt","models","getModels","goto","initModel","model","tick","_c","onMount","event","$$value","reader","originalImageUrl","img","canvas","aspectRatio","newWidth","newHeight","offsetX","offsetY","compressedSrc","select_value","e","promptIdx","capability","tagName","tag"],"mappings":"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"}