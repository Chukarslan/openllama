import{s as ut,f as d,a as C,l as N,g as h,h as p,c as x,O as ye,d as c,m as B,j as i,P as us,i as U,r as n,Q as _e,u as ee,n as R,C as Oe,v as tt,w as Pe,R as Et,o as Xt,p as Tt,e as gl,z as st,A as rt,k as pt,S as Cl,T as Yt,K as xt,U as Tl,V as Bt,W as xl,X as Wl,E as Cs,F as xs,G as Ss,H as Ms,Y as sn,Z as $l,t as rn}from"../chunks/scheduler.cd89c28a.js";import{S as ft,i as dt,b as Ve,d as Ce,m as xe,a as te,t as re,e as Se,g as Lt,c as Ot,f as Ut}from"../chunks/index.6bdb6009.js";import{a as Ze}from"../chunks/Toaster.svelte_svelte_type_style_lang.162bd233.js";import{f as As}from"../chunks/FileSaver.min.898eb36f.js";import{g as zl}from"../chunks/navigation.9cc06505.js";import{a as an,g as $a,b as Za,c as nn}from"../chunks/index.a5cf369b.js";import"../chunks/sha256.8dba905a.js";import{g as on}from"../chunks/index.f4478218.js";import{g as cn}from"../chunks/index.03cfb8d6.js";import{g as un,a as fn,b as fl,d as dn,c as ur,u as Wa,e as ps,f as qa,h as Ga,i as hn,j as vn,k as _n,l as pn,m as mn,n as Ya,o as gn}from"../chunks/index.2262060a.js";import{u as Dl,d as bn,W as Ka,e as Zl,f as cs,M as wn,g as El,h as dl,t as kn,c as Fl,i as ol,j as fr,k as ml,l as ms,m as dr,n as Is,a as yn,o as gs,p as En,q as In,r as Dn}from"../chunks/index.69ad1154.js";import{M as ql,d as fs}from"../chunks/dayjs.min.2d74aef4.js";import{a as Tn,u as Vn,b as Cn}from"../chunks/index.5015b128.js";import{g as xn}from"../chunks/index.791b2ed4.js";import{g as Kl,c as Sn,a as Mn,b as An,s as Ln,d as On,e as Hn}from"../chunks/index.b3b584e7.js";import{g as ds,a as Fa,b as Xa,c as Nn,d as Bn,e as Un,f as hr,h as Pn,u as vr,i as _r,j as pr,k as mr,l as jn}from"../chunks/index.fb611b71.js";import{T as hl}from"../chunks/Tooltip.46e9d31e.js";import{S as Ls}from"../chunks/Spinner.6f670aca.js";import{e as Ye}from"../chunks/each.454f9fee.js";import{g as zn}from"../chunks/index.e9235932.js";import{A as Rn}from"../chunks/AdvancedParams.17119079.js";import{s as $n,g as Zn}from"../chunks/index.fa0ff00a.js";import{g as Wn,u as qn,a as Gn,b as bs,c as Yn,d as Kn,e as Fn,f as Xn,h as Jn,i as gr,j as Qn,k as eo,l as to,m as lo,n as so}from"../chunks/index.da765736.js";import{f as Ja}from"../chunks/updater.e35c5ea7.js";import{S as Ds}from"../chunks/Switch.b5da2e35.js";import{a as ro,g as ws,d as ao,b as no,T as oo,A as io,S as co,U as uo}from"../chunks/UserMenu.293a9530.js";import"../chunks/index.c4ca6160.js";import{D as Qa,M as jl}from"../chunks/Dropdown.c9492fee.js";import{M as en}from"../chunks/menu-trigger.06dda4e4.js";import{D as fo,S as ho,G as vo}from"../chunks/DocumentDuplicate.e3b7ee36.js";const _o=(s,e)=>e.some(t=>s instanceof t);let br,wr;function po(){return br||(br=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mo(){return wr||(wr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tn=new WeakMap,Ts=new WeakMap,ln=new WeakMap,ks=new WeakMap,Os=new WeakMap;function go(s){const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("success",a),s.removeEventListener("error",o)},a=()=>{t(Il(s.result)),r()},o=()=>{l(s.error),r()};s.addEventListener("success",a),s.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&tn.set(t,s)}).catch(()=>{}),Os.set(e,s),e}function bo(s){if(Ts.has(s))return;const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("complete",a),s.removeEventListener("error",o),s.removeEventListener("abort",o)},a=()=>{t(),r()},o=()=>{l(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",a),s.addEventListener("error",o),s.addEventListener("abort",o)});Ts.set(s,e)}let Vs={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Ts.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ln.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Il(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function wo(s){Vs=s(Vs)}function ko(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(ys(this),e,...t);return ln.set(l,e.sort?e.sort():[e]),Il(l)}:mo().includes(s)?function(...e){return s.apply(ys(this),e),Il(tn.get(this))}:function(...e){return Il(s.apply(ys(this),e))}}function yo(s){return typeof s=="function"?ko(s):(s instanceof IDBTransaction&&bo(s),_o(s,po())?new Proxy(s,Vs):s)}function Il(s){if(s instanceof IDBRequest)return go(s);if(ks.has(s))return ks.get(s);const e=yo(s);return e!==s&&(ks.set(s,e),Os.set(e,s)),e}const ys=s=>Os.get(s);function Eo(s,e,{blocked:t,upgrade:l,blocking:r,terminated:a}={}){const o=indexedDB.open(s,e),u=Il(o);return l&&o.addEventListener("upgradeneeded",f=>{l(Il(o.result),f.oldVersion,f.newVersion,Il(o.transaction),f)}),t&&o.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),r&&f.addEventListener("versionchange",v=>r(v.oldVersion,v.newVersion,v))}).catch(()=>{}),u}function kr(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),Il(t).then(()=>{})}const Io=["get","getKey","getAll","getAllKeys","count"],Do=["put","add","delete","clear"],Es=new Map;function yr(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Es.get(e))return Es.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,r=Do.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(r||Io.includes(t)))return;const a=async function(o,...u){const f=this.transaction(o,r?"readwrite":"readonly");let v=f.store;return l&&(v=v.index(u.shift())),(await Promise.all([v[t](...u),r&&f.done]))[0]};return Es.set(e,a),a}wo(s=>({...s,get:(e,t,l)=>yr(e,t)||s.get(e,t,l),has:(e,t)=>!!yr(e,t)||s.has(e,t)}));function To(s){let e,t,l,r,a,o,u,f,v,_,g,m,w,k='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',E,y,b,D=s[7].t("Profile Image")+"",I,M,T,S,V=s[7].t("Use Initials")+"",j,P,$,z=s[7].t("Use Gravatar")+"",A,O,L,G=s[7].t("Remove")+"",H,W,q,Y,Z,K=s[7].t("Name")+"",X,J,ue,fe,pe,ge,Ee,Le,be,le,he=s[7].t("Save")+"",me,ae,oe;return{c(){e=d("div"),t=d("div"),l=d("input"),r=C(),a=d("div"),o=d("div"),u=d("div"),f=d("div"),v=d("button"),_=d("img"),m=C(),w=d("div"),w.innerHTML=k,E=C(),y=d("div"),b=d("div"),I=N(D),M=C(),T=d("div"),S=d("button"),j=N(V),P=C(),$=d("button"),A=N(z),O=C(),L=d("button"),H=N(G),W=C(),q=d("div"),Y=d("div"),Z=d("div"),X=N(K),J=C(),ue=d("div"),fe=d("input"),pe=C(),ge=d("hr"),Ee=C(),Le=C(),be=d("div"),le=d("button"),me=N(he),this.h()},l(ce){e=h(ce,"DIV",{class:!0});var ne=p(e);t=h(ne,"DIV",{class:!0});var ve=p(t);l=h(ve,"INPUT",{id:!0,type:!0,accept:!0}),r=x(ve),a=h(ve,"DIV",{class:!0});var ie=p(a);o=h(ie,"DIV",{class:!0});var Me=p(o);u=h(Me,"DIV",{class:!0});var de=p(u);f=h(de,"DIV",{class:!0});var Te=p(f);v=h(Te,"BUTTON",{class:!0,type:!0});var Q=p(v);_=h(Q,"IMG",{src:!0,alt:!0,class:!0}),m=x(Q),w=h(Q,"DIV",{class:!0,"data-svelte-h":!0}),ye(w)!=="svelte-11ivb2j"&&(w.innerHTML=k),Q.forEach(c),Te.forEach(c),de.forEach(c),E=x(Me),y=h(Me,"DIV",{class:!0});var F=p(y);b=h(F,"DIV",{class:!0});var ke=p(b);I=B(ke,D),ke.forEach(c),M=x(F),T=h(F,"DIV",{});var Ie=p(T);S=h(Ie,"BUTTON",{class:!0});var He=p(S);j=B(He,V),He.forEach(c),P=x(Ie),$=h(Ie,"BUTTON",{class:!0});var Ae=p($);A=B(Ae,z),Ae.forEach(c),O=x(Ie),L=h(Ie,"BUTTON",{class:!0});var je=p(L);H=B(je,G),je.forEach(c),Ie.forEach(c),F.forEach(c),Me.forEach(c),W=x(ie),q=h(ie,"DIV",{class:!0});var Qe=p(q);Y=h(Qe,"DIV",{class:!0});var ze=p(Y);Z=h(ze,"DIV",{class:!0});var Re=p(Z);X=B(Re,K),Re.forEach(c),J=x(ze),ue=h(ze,"DIV",{class:!0});var We=p(ue);fe=h(We,"INPUT",{class:!0,type:!0}),We.forEach(c),ze.forEach(c),Qe.forEach(c),ie.forEach(c),pe=x(ve),ge=h(ve,"HR",{class:!0}),Ee=x(ve),ve.forEach(c),Le=x(ne),be=h(ne,"DIV",{class:!0});var Ne=p(be);le=h(Ne,"BUTTON",{class:!0});var Je=p(le);me=B(Je,he),Je.forEach(c),Ne.forEach(c),ne.forEach(c),this.h()},h(){i(l,"id","profile-image-input"),i(l,"type","file"),l.hidden=!0,i(l,"accept","image/*"),us(_.src,g=s[1]!==""?s[1]:Kl(s[2]))||i(_,"src",g),i(_,"alt","profile"),i(_,"class","rounded-full size-16 object-cover"),i(w,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),i(v,"class","relative rounded-full dark:bg-gray-700"),i(v,"type","button"),i(f,"class","self-center mt-2"),i(u,"class","flex flex-col"),i(b,"class","mb-0.5 text-sm font-medium"),i(S,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),i($,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-full px-4 py-0.5 bg-gray-100 dark:bg-gray-850"),i(L,"class","text-xs text-center text-gray-800 dark:text-gray-400 rounded-lg px-2 py-1"),i(y,"class","flex-1 flex flex-col self-center gap-0.5"),i(o,"class","flex space-x-5"),i(Z,"class","mb-1 text-xs font-medium"),i(fe,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(fe,"type","text"),fe.required=!0,i(ue,"class","flex-1"),i(Y,"class","flex flex-col w-full"),i(q,"class","pt-0.5"),i(a,"class","space-y-1"),i(ge,"class","dark:border-gray-700 my-4"),i(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),i(le,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),i(be,"class","flex justify-end pt-3 text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between text-sm")},m(ce,ne){U(ce,e,ne),n(e,t),n(t,l),s[10](l),n(t,r),n(t,a),n(a,o),n(o,u),n(u,f),n(f,v),n(v,_),n(v,m),n(v,w),n(o,E),n(o,y),n(y,b),n(b,I),n(y,M),n(y,T),n(T,S),n(S,j),n(T,P),n(T,$),n($,A),n(T,O),n(T,L),n(L,H),n(a,W),n(a,q),n(q,Y),n(Y,Z),n(Z,X),n(Y,J),n(Y,ue),n(ue,fe),_e(fe,s[2]),n(t,pe),n(t,ge),n(t,Ee),n(e,Le),n(e,be),n(be,le),n(le,me),ae||(oe=[ee(l,"change",s[11]),ee(v,"click",s[12]),ee(S,"click",s[13]),ee($,"click",s[14]),ee(L,"click",s[15]),ee(fe,"input",s[16]),ee(le,"click",s[19])],ae=!0)},p(ce,[ne]){ne&6&&!us(_.src,g=ce[1]!==""?ce[1]:Kl(ce[2]))&&i(_,"src",g),ne&128&&D!==(D=ce[7].t("Profile Image")+"")&&R(I,D),ne&128&&V!==(V=ce[7].t("Use Initials")+"")&&R(j,V),ne&128&&z!==(z=ce[7].t("Use Gravatar")+"")&&R(A,z),ne&128&&G!==(G=ce[7].t("Remove")+"")&&R(H,G),ne&128&&K!==(K=ce[7].t("Name")+"")&&R(X,K),ne&4&&fe.value!==ce[2]&&_e(fe,ce[2]),ne&128&&he!==(he=ce[7].t("Save")+"")&&R(me,he)},i:Oe,o:Oe,d(ce){ce&&c(e),s[10](null),ae=!1,tt(oe)}}}function Vo(s,e,t){let l,r;Pe(s,Dl,V=>t(6,l=V));const a=Et("i18n");Pe(s,a,V=>t(7,r=V));let{saveHandler:o}=e,u="",f="",v=!1,_=!1,g;const m=async()=>{f!==l.name&&(u===Kl(l.name)||u==="")&&t(1,u=Kl(f));const V=await Vn(localStorage.token,f,u).catch(j=>{Ze.error(j)});return V?(await Dl.set(V),!0):!1};Xt(async()=>{t(2,f=l.name),t(1,u=l.profile_image_url),await Tn(localStorage.token).catch(V=>(console.log(V),""))});function w(V){Tt[V?"unshift":"push"](()=>{g=V,t(5,g)})}const k=V=>{const j=g.files??[];let P=new FileReader;P.onload=$=>{let z=`${$.target.result}`;const A=new Image;A.src=z,A.onload=function(){const O=document.createElement("canvas"),L=O.getContext("2d"),G=A.width/A.height;let H,W;G>1?(H=100*G,W=100):(H=100,W=100/G),O.width=100,O.height=100;const q=(100-H)/2,Y=(100-W)/2;L.drawImage(A,q,Y,H,W);const Z=O.toDataURL("image/jpeg");t(1,u=Z),t(5,g.files=null,g)}},j.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(j[0].type)&&P.readAsDataURL(j[0])},E=()=>{g.click()},y=async()=>{Sn()?t(1,u=Kl(f)):Ze.info(r.t("Fingerprint spoofing detected: Unable to use initials as avatar. Defaulting to default profile image."),{duration:1e3*10})},b=async()=>{const V=await xn(l.email);t(1,u=V)},D=async()=>{t(1,u="/user.png")};function I(){f=this.value,t(2,f)}const M=()=>{t(3,v=!v)},T=()=>{Mn(localStorage.token),t(4,_=!0),setTimeout(()=>{t(4,_=!1)},2e3)},S=async()=>{await m()&&o()};return s.$$set=V=>{"saveHandler"in V&&t(0,o=V.saveHandler)},[o,u,f,v,_,g,l,r,a,m,w,k,E,y,b,D,I,M,T,S]}class Co extends ft{constructor(e){super(),dt(this,e,Vo,To,ut,{saveHandler:0})}}function xo(s){let e,t;return{c(){e=N("v"),t=N(Zl)},l(l){e=B(l,"v"),t=B(l,Zl)},m(l,r){U(l,e,r),U(l,t,r)},p:Oe,d(l){l&&(c(e),c(t))}}}function Er(s){let e,t,l,r,a=s[4].t("Ollama Version")+"",o,u,f,v,_=(s[0]??"N/A")+"",g;return{c(){e=d("hr"),t=C(),l=d("div"),r=d("div"),o=N(a),u=C(),f=d("div"),v=d("div"),g=N(_),this.h()},l(m){e=h(m,"HR",{class:!0}),t=x(m),l=h(m,"DIV",{});var w=p(l);r=h(w,"DIV",{class:!0});var k=p(r);o=B(k,a),k.forEach(c),u=x(w),f=h(w,"DIV",{class:!0});var E=p(f);v=h(E,"DIV",{class:!0});var y=p(v);g=B(y,_),y.forEach(c),E.forEach(c),w.forEach(c),this.h()},h(){i(e,"class","dark:border-gray-700"),i(r,"class","mb-2.5 text-sm font-medium"),i(v,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),i(f,"class","flex w-full")},m(m,w){U(m,e,w),U(m,t,w),U(m,l,w),n(l,r),n(r,o),n(l,u),n(l,f),n(f,v),n(v,g)},p(m,w){w&16&&a!==(a=m[4].t("Ollama Version")+"")&&R(o,a),w&1&&_!==(_=(m[0]??"N/A")+"")&&R(g,_)},d(m){m&&(c(e),c(t),c(l))}}}function Ir(s){let e,t,l;return{c(){e=d("span"),t=N(s[3]),l=N(` -\r
			`),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);t=B(a,s[3]),a.forEach(c),l=B(r,` -\r
			`),this.h()},h(){i(e,"class","text-gray-500 dark:text-gray-300 font-medium")},m(r,a){U(r,e,a),n(e,t),U(r,l,a)},p(r,a){a&8&&R(t,r[3])},d(r){r&&(c(e),c(l))}}}function So(s){let e,t,l,r,a,o,u,f=s[4].t("Version")+"",v,_,g,m,w,k,E,y,b=(s[1]===null?s[4].t("Checking for updates..."):s[1]?`(v${s[2].latest} ${s[4].t("available!")})`:s[4].t("(latest)"))+"",D,I,M,T,S,V=s[4].t("See what's new")+"",j,P,$,z=s[4].t("Check for updates")+"",A,O,L,G,H,W,q='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',Y,Z,K=!s[3].includes("Open WebUI"),X=s[4].t("Created by")+"",J,ue,fe,pe="Timothy J. Baek",ge,Ee,Le;k=new hl({props:{content:bn,$$slots:{default:[xo]},$$scope:{ctx:s}}});let be=s[0]&&Er(s),le=K&&Ir(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),a=d("div"),o=N(s[3]),u=C(),v=N(f),_=C(),g=d("div"),m=d("div"),w=d("div"),Ve(k.$$.fragment),E=C(),y=d("a"),D=N(b),M=C(),T=d("button"),S=d("div"),j=N(V),P=C(),$=d("button"),A=N(z),O=C(),be&&be.c(),L=C(),G=d("hr"),H=C(),W=d("div"),W.innerHTML=q,Y=C(),Z=d("div"),le&&le.c(),J=N(X),ue=C(),fe=d("a"),fe.textContent=pe,this.h()},l(he){e=h(he,"DIV",{class:!0});var me=p(e);t=h(me,"DIV",{class:!0});var ae=p(t);l=h(ae,"DIV",{});var oe=p(l);r=h(oe,"DIV",{class:!0});var ce=p(r);a=h(ce,"DIV",{});var ne=p(a);o=B(ne,s[3]),u=x(ne),v=B(ne,f),ne.forEach(c),ce.forEach(c),_=x(oe),g=h(oe,"DIV",{class:!0});var ve=p(g);m=h(ve,"DIV",{class:!0});var ie=p(m);w=h(ie,"DIV",{class:!0});var Me=p(w);Ce(k.$$.fragment,Me),E=x(Me),y=h(Me,"A",{href:!0,target:!0});var de=p(y);D=B(de,b),de.forEach(c),Me.forEach(c),M=x(ie),T=h(ie,"BUTTON",{class:!0});var Te=p(T);S=h(Te,"DIV",{});var Q=p(S);j=B(Q,V),Q.forEach(c),Te.forEach(c),ie.forEach(c),P=x(ve),$=h(ve,"BUTTON",{class:!0});var F=p($);A=B(F,z),F.forEach(c),ve.forEach(c),oe.forEach(c),O=x(ae),be&&be.l(ae),L=x(ae),G=h(ae,"HR",{class:!0}),H=x(ae),W=h(ae,"DIV",{class:!0,"data-svelte-h":!0}),ye(W)!=="svelte-1hy20dm"&&(W.innerHTML=q),Y=x(ae),Z=h(ae,"DIV",{class:!0});var ke=p(Z);le&&le.l(ke),J=B(ke,X),ue=x(ke),fe=h(ke,"A",{class:!0,href:!0,target:!0,"data-svelte-h":!0}),ye(fe)!=="svelte-1tvrifl"&&(fe.textContent=pe),ke.forEach(c),ae.forEach(c),me.forEach(c),this.h()},h(){i(r,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),i(y,"href",I="https://github.com/open-webui/open-webui/releases/tag/v"+s[2].latest),i(y,"target","_blank"),i(w,"class","flex gap-1"),i(T,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),i(m,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),i($,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),i(g,"class","flex w-full justify-between items-center"),i(G,"class","dark:border-gray-700"),i(W,"class","flex space-x-1"),i(fe,"class","text-gray-500 dark:text-gray-300 font-medium"),i(fe,"href","https://github.com/tjbck"),i(fe,"target","_blank"),i(Z,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),i(t,"class","space-y-3"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(he,me){U(he,e,me),n(e,t),n(t,l),n(l,r),n(r,a),n(a,o),n(a,u),n(a,v),n(l,_),n(l,g),n(g,m),n(m,w),xe(k,w,null),n(w,E),n(w,y),n(y,D),n(m,M),n(m,T),n(T,S),n(S,j),n(g,P),n(g,$),n($,A),n(t,O),be&&be.m(t,null),n(t,L),n(t,G),n(t,H),n(t,W),n(t,Y),n(t,Z),le&&le.m(Z,null),n(Z,J),n(Z,ue),n(Z,fe),ge=!0,Ee||(Le=[ee(T,"click",s[7]),ee($,"click",s[8])],Ee=!0)},p(he,[me]){(!ge||me&8)&&R(o,he[3]),(!ge||me&16)&&f!==(f=he[4].t("Version")+"")&&R(v,f);const ae={};me&512&&(ae.$$scope={dirty:me,ctx:he}),k.$set(ae),(!ge||me&22)&&b!==(b=(he[1]===null?he[4].t("Checking for updates..."):he[1]?`(v${he[2].latest} ${he[4].t("available!")})`:he[4].t("(latest)"))+"")&&R(D,b),(!ge||me&4&&I!==(I="https://github.com/open-webui/open-webui/releases/tag/v"+he[2].latest))&&i(y,"href",I),(!ge||me&16)&&V!==(V=he[4].t("See what's new")+"")&&R(j,V),(!ge||me&16)&&z!==(z=he[4].t("Check for updates")+"")&&R(A,z),he[0]?be?be.p(he,me):(be=Er(he),be.c(),be.m(t,L)):be&&(be.d(1),be=null),me&8&&(K=!he[3].includes("Open WebUI")),K?le?le.p(he,me):(le=Ir(he),le.c(),le.m(Z,J)):le&&(le.d(1),le=null),(!ge||me&16)&&X!==(X=he[4].t("Created by")+"")&&R(J,X)},i(he){ge||(te(k.$$.fragment,he),ge=!0)},o(he){re(k.$$.fragment,he),ge=!1},d(he){he&&c(e),Se(k),be&&be.d(),le&&le.d(),Ee=!1,tt(Le)}}}function Mo(s,e,t){let l,r;Pe(s,Ka,m=>t(3,l=m));const a=Et("i18n");Pe(s,a,m=>t(4,r=m));let o="",u=null,f={current:"",latest:""};const v=async()=>{t(1,u=null),t(2,f=await an().catch(m=>({current:Zl,latest:Zl}))),console.log(f),t(1,u=An(f.latest,f.current)),console.log(u)};return Xt(async()=>{t(0,o=await ds(localStorage.token).catch(m=>"")),v()}),[o,u,f,l,r,a,v,()=>{cs.set(!0)},()=>{v()}]}class Ao extends ft{constructor(e){super(),dt(this,e,Mo,So,ut,{})}}function Lo(s){let e,t,l,r;return l=new Ls({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Ve(l.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=p(e);t=h(o,"DIV",{class:!0});var u=p(t);Ce(l.$$.fragment,u),u.forEach(c),o.forEach(c),this.h()},h(){i(t,"class","my-auto"),i(e,"class","flex h-full justify-center")},m(a,o){U(a,e,o),n(e,t),xe(l,t,null),r=!0},p:Oe,i(a){r||(te(l.$$.fragment,a),r=!0)},o(a){re(l.$$.fragment,a),r=!1},d(a){a&&c(e),Se(l)}}}function Oo(s){let e,t="Ollama API is disabled";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ye(e)!=="svelte-1rfxxvy"&&(e.textContent=t)},m(l,r){U(l,e,r)},p:Oe,i:Oe,o:Oe,d(l){l&&c(e)}}}function Ho(s){let e,t,l,r;const a=[Uo,Bo,No],o=[];function u(f,v){return f[1]!==null?0:f[1]===!1?1:2}return e=u(s),t=o[e]=a[e](s),{c(){t.c(),l=gl()},l(f){t.l(f),l=gl()},m(f,v){o[e].m(f,v),U(f,l,v),r=!0},p(f,v){let _=e;e=u(f),e===_?o[e].p(f,v):(Lt(),re(o[_],1,1,()=>{o[_]=null}),Ot(),t=o[e],t?t.p(f,v):(t=o[e]=a[e](f),t.c()),te(t,1),t.m(l.parentNode,l))},i(f){r||(te(t),r=!0)},o(f){re(t),r=!1},d(f){f&&c(l),o[e].d(f)}}}function No(s){let e,t,l,r;return l=new Ls({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Ve(l.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=p(e);t=h(o,"DIV",{class:!0});var u=p(t);Ce(l.$$.fragment,u),u.forEach(c),o.forEach(c),this.h()},h(){i(t,"class","my-auto"),i(e,"class","flex h-full justify-center")},m(a,o){U(a,e,o),n(e,t),xe(l,t,null),r=!0},p:Oe,i(a){r||(te(l.$$.fragment,a),r=!0)},o(a){re(l.$$.fragment,a),r=!1},d(a){a&&c(e),Se(l)}}}function Bo(s){let e,t="Ollama Not Detected";return{c(){e=d("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),ye(e)!=="svelte-1tqefd"&&(e.textContent=t)},m(l,r){U(l,e,r)},p:Oe,i:Oe,o:Oe,d(l){l&&c(e)}}}function Uo(s){let e,t,l,r,a=s[7].t("Create a model")+"",o,u,f,v,_,g,m,w,k,E,y,b,D,I,M,T,S,V=s[5]!==""&&Dr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),o=N(a),u=C(),f=d("div"),v=d("div"),_=d("input"),m=C(),w=d("textarea"),k=C(),E=d("div"),y=d("button"),b=st("svg"),D=st("path"),I=st("path"),M=C(),V&&V.c(),this.h()},l(j){e=h(j,"DIV",{class:!0});var P=p(e);t=h(P,"DIV",{class:!0});var $=p(t);l=h($,"DIV",{});var z=p(l);r=h(z,"DIV",{class:!0});var A=p(r);o=B(A,a),A.forEach(c),u=x(z),f=h(z,"DIV",{class:!0});var O=p(f);v=h(O,"DIV",{class:!0});var L=p(v);_=h(L,"INPUT",{class:!0,placeholder:!0}),m=x(L),w=h(L,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),p(w).forEach(c),L.forEach(c),k=x(O),E=h(O,"DIV",{class:!0});var G=p(E);y=h(G,"BUTTON",{class:!0});var H=p(y);b=rt(H,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var W=p(b);D=rt(W,"path",{d:!0}),p(D).forEach(c),I=rt(W,"path",{d:!0}),p(I).forEach(c),W.forEach(c),H.forEach(c),G.forEach(c),O.forEach(c),M=x(z),V&&V.l(z),z.forEach(c),$.forEach(c),P.forEach(c),this.h()},h(){i(r,"class","mb-2 text-sm font-medium"),i(_,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(_,"placeholder",g=s[7].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),_.disabled=s[2],i(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-100 dark:text-gray-100 dark:bg-gray-850 outline-none resize-none scrollbar-hidden"),i(w,"rows","6"),i(w,"placeholder",`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`),w.disabled=s[2],i(v,"class","flex-1 mr-2 flex flex-col gap-2"),i(D,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),i(I,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),i(b,"xmlns","http://www.w3.org/2000/svg"),i(b,"viewBox","0 0 16 16"),i(b,"fill","currentColor"),i(b,"class","size-4"),i(y,"class","px-2.5 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),y.disabled=s[2],i(E,"class","flex self-start"),i(f,"class","flex w-full"),i(t,"class","space-y-2"),i(e,"class","space-y-2 pr-1.5")},m(j,P){U(j,e,P),n(e,t),n(t,l),n(l,r),n(r,o),n(l,u),n(l,f),n(f,v),n(v,_),_e(_,s[3]),n(v,m),n(v,w),_e(w,s[4]),n(f,k),n(f,E),n(E,y),n(y,b),n(b,D),n(b,I),n(l,M),V&&V.m(l,null),T||(S=[ee(_,"input",s[11]),ee(w,"input",s[12]),ee(y,"click",s[13])],T=!0)},p(j,P){P[0]&128&&a!==(a=j[7].t("Create a model")+"")&&R(o,a),P[0]&128&&g!==(g=j[7].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"}))&&i(_,"placeholder",g),P[0]&4&&(_.disabled=j[2]),P[0]&8&&_.value!==j[3]&&_e(_,j[3]),P[0]&4&&(w.disabled=j[2]),P[0]&16&&_e(w,j[4]),P[0]&4&&(y.disabled=j[2]),j[5]!==""?V?V.p(j,P):(V=Dr(j),V.c(),V.m(l,null)):V&&(V.d(1),V=null)},i:Oe,o:Oe,d(j){j&&c(e),V&&V.d(),T=!1,tt(S)}}}function Dr(s){let e,t,l,r,a,o,u,f,v=(s[6]??0)+"",_,g,m,w=s[5]&&Tr(s);return{c(){e=d("div"),t=d("div"),l=N(s[3]),r=C(),a=d("div"),o=d("div"),u=d("div"),f=d("div"),_=N(v),g=N("%"),m=C(),w&&w.c(),this.h()},l(k){e=h(k,"DIV",{class:!0});var E=p(e);t=h(E,"DIV",{class:!0});var y=p(t);l=B(y,s[3]),y.forEach(c),r=x(E),a=h(E,"DIV",{class:!0});var b=p(a);o=h(b,"DIV",{class:!0});var D=p(o);u=h(D,"DIV",{class:!0});var I=p(u);f=h(I,"DIV",{class:!0,style:!0});var M=p(f);_=B(M,v),g=B(M,"%"),M.forEach(c),I.forEach(c),D.forEach(c),m=x(b),w&&w.l(b),b.forEach(c),E.forEach(c),this.h()},h(){i(t,"class","font-medium mb-1"),i(f,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),pt(f,"width",Math.max(15,s[6]??0)+"%"),i(u,"class","flex-1"),i(o,"class","flex flex-row justify-between space-x-4 pr-2"),i(a,"class",""),i(e,"class","flex flex-col mt-1")},m(k,E){U(k,e,E),n(e,t),n(t,l),n(e,r),n(e,a),n(a,o),n(o,u),n(u,f),n(f,_),n(f,g),n(a,m),w&&w.m(a,null)},p(k,E){E[0]&8&&R(l,k[3]),E[0]&64&&v!==(v=(k[6]??0)+"")&&R(_,v),E[0]&64&&pt(f,"width",Math.max(15,k[6]??0)+"%"),k[5]?w?w.p(k,E):(w=Tr(k),w.c(),w.m(a,null)):w&&(w.d(1),w=null)},d(k){k&&c(e),w&&w.d()}}}function Tr(s){let e,t;return{c(){e=d("div"),t=N(s[5]),this.h()},l(l){e=h(l,"DIV",{class:!0,style:!0});var r=p(e);t=B(r,s[5]),r.forEach(c),this.h()},h(){i(e,"class","mt-1 text-xs dark:text-gray-500"),pt(e,"font-size","0.5rem")},m(l,r){U(l,e,r),n(e,t)},p(l,r){r[0]&32&&R(t,l[5])},d(l){l&&c(e)}}}function Po(s){let e,t,l,r,a;const o=[Ho,Oo,Lo],u=[];function f(v,_){return v[0]?0:v[0]===!1?1:2}return l=f(s),r=u[l]=o[l](s),{c(){e=d("div"),t=d("div"),r.c(),this.h()},l(v){e=h(v,"DIV",{class:!0});var _=p(e);t=h(_,"DIV",{class:!0});var g=p(t);r.l(g),g.forEach(c),_.forEach(c),this.h()},h(){i(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[27rem]"),i(e,"class","flex flex-col h-full justify-between text-sm")},m(v,_){U(v,e,_),n(e,t),u[l].m(t,null),a=!0},p(v,_){let g=l;l=f(v),l===g?u[l].p(v,_):(Lt(),re(u[g],1,1,()=>{u[g]=null}),Ot(),r=u[l],r?r.p(v,_):(r=u[l]=o[l](v),r.c()),te(r,1),r.m(t,null))},i(v){a||(te(r),a=!0)},o(v){re(r),a=!1},d(v){v&&c(e),u[l].d()}}}function jo(s,e,t){let l;Pe(s,wn,I=>t(29,I)),Pe(s,El,I=>t(30,I));const r=Et("i18n");Pe(s,r,I=>t(7,l=I));let{getModels:a}=e,o=null,u=[],f=null,v=null,_=!1,g="",m="",w="",k=null;const E=async()=>{t(2,_=!0);const I=await Nn(localStorage.token,g,m,f).catch(M=>(Ze.error(M),null));if(I&&I.ok){const M=I.body.pipeThrough(new TextDecoderStream).pipeThrough(Ln(`
`)).getReader();for(;;){const{value:T,done:S}=await M.read();if(S)break;try{let V=T.split(`
`);for(const j of V)if(j!==""){console.log(j);let P=JSON.parse(j);if(console.log(P),P.error)throw P.error;if(P.detail)throw P.detail;P.status&&(!P.digest&&!P.status.includes("writing")&&!P.status.includes("sha256")?Ze.success(P.status):P.digest&&(t(5,w=P.digest),P.completed?t(6,k=Math.round(P.completed/P.total*1e3)/10):t(6,k=100)))}}catch(V){console.log(V),Ze.error(V)}}}El.set(await a()),t(2,_=!1),t(3,g=""),t(4,m=""),t(5,w=""),t(6,k=null)};Xt(async()=>{(await Fa(localStorage.token)).ENABLE_OLLAMA_API?(t(0,o=!0),await Promise.all([(async()=>{u=await Xa(localStorage.token).catch(M=>(Ze.error(M),[])),u.length>0&&(f=0)})(),(async()=>{t(1,v=await ds(localStorage.token).catch(M=>!1))})()])):(t(0,o=!1),Ze.error("Ollama API is disabled"))});function y(){g=this.value,t(3,g)}function b(){m=this.value,t(4,m)}const D=()=>{E()};return s.$$set=I=>{"getModels"in I&&t(10,a=I.getModels)},[o,v,_,g,m,w,k,l,r,E,a,y,b,D]}class zo extends ft{constructor(e){super(),dt(this,e,jo,Po,ut,{getModels:10},null,[-1,-1])}}function Vr(s,e,t){const l=s.slice();return l[32]=e[t],l}function Cr(s){let e,t=s[32].title+"",l,r;return{c(){e=d("option"),l=N(t),this.h()},l(a){e=h(a,"OPTION",{});var o=p(e);l=B(o,t),o.forEach(c),this.h()},h(){e.__value=r=s[32].code,_e(e,e.__value)},m(a,o){U(a,e,o),n(e,l)},p(a,o){o[0]&4&&t!==(t=a[32].title+"")&&R(l,t),o[0]&4&&r!==(r=a[32].code)&&(e.__value=r,_e(e,e.__value))},d(a){a&&c(e)}}}function xr(s){return{c:Oe,l:Oe,m:Oe,d:Oe}}function Ro(s){let e,t=s[10].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&1024&&t!==(t=r[10].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function $o(s){let e,t=s[10].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&1024&&t!==(t=r[10].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function Sr(s){let e,t,l,r,a,o,u,f,v=s[10].t("Keep Alive")+"",_,g,m,w,k,E,y,b,D=s[10].t("Request Mode")+"",I,M,T,S,V,j;function P(q){s[24](q)}let $={};s[9]!==void 0&&($.params=s[9]),e=new Rn({props:$}),Tt.push(()=>Ut(e,"params",P));function z(q,Y){return q[8]===null?Wo:Zo}let A=z(s),O=A(s),L=s[8]!==null&&Mr(s);function G(q,Y){if(q[7]==="")return Go;if(q[7]==="json")return qo}let H=G(s),W=H&&H(s);return{c(){Ve(e.$$.fragment),l=C(),r=d("hr"),a=C(),o=d("div"),u=d("div"),f=d("div"),_=N(v),g=C(),m=d("button"),O.c(),w=C(),L&&L.c(),k=C(),E=d("div"),y=d("div"),b=d("div"),I=N(D),M=C(),T=d("button"),W&&W.c(),this.h()},l(q){Ce(e.$$.fragment,q),l=x(q),r=h(q,"HR",{class:!0}),a=x(q),o=h(q,"DIV",{class:!0});var Y=p(o);u=h(Y,"DIV",{class:!0});var Z=p(u);f=h(Z,"DIV",{class:!0});var K=p(f);_=B(K,v),K.forEach(c),g=x(Z),m=h(Z,"BUTTON",{class:!0,type:!0});var X=p(m);O.l(X),X.forEach(c),Z.forEach(c),w=x(Y),L&&L.l(Y),Y.forEach(c),k=x(q),E=h(q,"DIV",{});var J=p(E);y=h(J,"DIV",{class:!0});var ue=p(y);b=h(ue,"DIV",{class:!0});var fe=p(b);I=B(fe,D),fe.forEach(c),M=x(ue),T=h(ue,"BUTTON",{class:!0});var pe=p(T);W&&W.l(pe),pe.forEach(c),ue.forEach(c),J.forEach(c),this.h()},h(){i(r,"class","dark:border-gray-700"),i(f,"class","self-center text-xs font-medium"),i(m,"class","p-1 px-3 text-xs flex rounded transition"),i(m,"type","button"),i(u,"class","flex w-full justify-between"),i(o,"class","py-1 w-full justify-between"),i(b,"class","self-center text-sm font-medium"),i(T,"class","p-1 px-3 text-xs flex rounded transition"),i(y,"class","py-1 flex w-full justify-between")},m(q,Y){xe(e,q,Y),U(q,l,Y),U(q,r,Y),U(q,a,Y),U(q,o,Y),n(o,u),n(u,f),n(f,_),n(u,g),n(u,m),O.m(m,null),n(o,w),L&&L.m(o,null),U(q,k,Y),U(q,E,Y),n(E,y),n(y,b),n(b,I),n(y,M),n(y,T),W&&W.m(T,null),S=!0,V||(j=[ee(m,"click",s[25]),ee(T,"click",s[27])],V=!0)},p(q,Y){const Z={};!t&&Y[0]&512&&(t=!0,Z.params=q[9],Bt(()=>t=!1)),e.$set(Z),(!S||Y[0]&1024)&&v!==(v=q[10].t("Keep Alive")+"")&&R(_,v),A===(A=z(q))&&O?O.p(q,Y):(O.d(1),O=A(q),O&&(O.c(),O.m(m,null))),q[8]!==null?L?L.p(q,Y):(L=Mr(q),L.c(),L.m(o,null)):L&&(L.d(1),L=null),(!S||Y[0]&1024)&&D!==(D=q[10].t("Request Mode")+"")&&R(I,D),H===(H=G(q))&&W?W.p(q,Y):(W&&W.d(1),W=H&&H(q),W&&(W.c(),W.m(T,null)))},i(q){S||(te(e.$$.fragment,q),S=!0)},o(q){re(e.$$.fragment,q),S=!1},d(q){q&&(c(l),c(r),c(a),c(o),c(k),c(E)),Se(e,q),O.d(),L&&L.d(),W&&W.d(),V=!1,tt(j)}}}function Zo(s){let e,t=s[10].t("Custom")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&1024&&t!==(t=r[10].t("Custom")+"")&&R(l,t)},d(r){r&&c(e)}}}function Wo(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&1024&&t!==(t=r[10].t("Default")+"")&&R(l,t)},d(r){r&&c(e)}}}function Mr(s){let e,t,l,r,a;return{c(){e=d("div"),t=d("input"),this.h()},l(o){e=h(o,"DIV",{class:!0});var u=p(e);t=h(u,"INPUT",{class:!0,type:!0,placeholder:!0}),u.forEach(c),this.h()},h(){i(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(t,"type","text"),i(t,"placeholder",l=s[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'.")),i(e,"class","flex mt-1 space-x-2")},m(o,u){U(o,e,u),n(e,t),_e(t,s[8]),r||(a=ee(t,"input",s[26]),r=!0)},p(o,u){u[0]&1024&&l!==(l=o[10].t("e.g. '30s','10m'. Valid time units are 's', 'm', 'h'."))&&i(t,"placeholder",l),u[0]&256&&t.value!==o[8]&&_e(t,o[8])},d(o){o&&c(e),r=!1,a()}}}function qo(s){let e,t=s[10].t("JSON")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&1024&&t!==(t=r[10].t("JSON")+"")&&R(l,t)},d(r){r&&c(e)}}}function Go(s){let e,t=s[10].t("Default")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&1024&&t!==(t=r[10].t("Default")+"")&&R(l,t)},d(r){r&&c(e)}}}function Yo(s){let e,t,l,r,a=s[10].t("Settings")+"",o,u,f,v,_=s[10].t("Theme")+"",g,m,w,k,E,y,b=s[10].t("System")+"",D,I,M,T=s[10].t("Dark")+"",S,V,j,P=s[10].t("OLED Dark")+"",$,z,A,O=s[10].t("Light")+"",L,G,H,W,q=s[10].t("Language")+"",Y,Z,K,X,J,ue,fe,pe,ge,Ee=s[10].t("Notifications")+"",Le,be,le,he,me,ae,oe,ce,ne=s[10].t("System Prompt")+"",ve,ie,Me,de,Te,Q,F,ke=s[10].t("Advanced Parameters")+"",Ie,He,Ae,je=(s[6]?s[10].t("Hide"):s[10].t("Show"))+"",Qe,ze,Re,We,Ne,Je=s[10].t("Save")+"",It,qe,mt,ot,St=Ye(s[2]),at=[];for(let we=0;we<St.length;we+=1)at[we]=Cr(Vr(s,St,we));let De=s[10].language==="en-US"&&xr();function Ke(we,$e){return we[4]===!0?$o:Ro}let it=Ke(s),ht=it(s),Fe=s[6]&&Sr(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),o=N(a),u=C(),f=d("div"),v=d("div"),g=N(_),m=C(),w=d("div"),k=d("select"),E=d("option"),y=N("⚙️ "),D=N(b),I=d("option"),M=N("🌑 "),S=N(T),V=d("option"),j=N("🌃 "),$=N(P),z=d("option"),A=N("☀️ "),L=N(O),G=C(),H=d("div"),W=d("div"),Y=N(q),Z=C(),K=d("div"),X=d("select");for(let we=0;we<at.length;we+=1)at[we].c();J=C(),De&&De.c(),ue=C(),fe=d("div"),pe=d("div"),ge=d("div"),Le=N(Ee),be=C(),le=d("button"),ht.c(),he=C(),me=d("hr"),ae=C(),oe=d("div"),ce=d("div"),ve=N(ne),ie=C(),Me=d("textarea"),de=C(),Te=d("div"),Q=d("div"),F=d("div"),Ie=N(ke),He=C(),Ae=d("button"),Qe=N(je),ze=C(),Fe&&Fe.c(),Re=C(),We=d("div"),Ne=d("button"),It=N(Je),this.h()},l(we){e=h(we,"DIV",{class:!0});var $e=p(e);t=h($e,"DIV",{class:!0});var Ge=p(t);l=h(Ge,"DIV",{class:!0});var lt=p(l);r=h(lt,"DIV",{class:!0});var ct=p(r);o=B(ct,a),ct.forEach(c),u=x(lt),f=h(lt,"DIV",{class:!0});var vt=p(f);v=h(vt,"DIV",{class:!0});var zt=p(v);g=B(zt,_),zt.forEach(c),m=x(vt),w=h(vt,"DIV",{class:!0});var Jt=p(w);k=h(Jt,"SELECT",{class:!0,placeholder:!0});var gt=p(k);E=h(gt,"OPTION",{});var ll=p(E);y=B(ll,"⚙️ "),D=B(ll,b),ll.forEach(c),I=h(gt,"OPTION",{});var Dt=p(I);M=B(Dt,"🌑 "),S=B(Dt,T),Dt.forEach(c),V=h(gt,"OPTION",{});var bt=p(V);j=B(bt,"🌃 "),$=B(bt,P),bt.forEach(c),z=h(gt,"OPTION",{});var Ht=p(z);A=B(Ht,"☀️ "),L=B(Ht,O),Ht.forEach(c),gt.forEach(c),Jt.forEach(c),vt.forEach(c),G=x(lt),H=h(lt,"DIV",{class:!0});var Pt=p(H);W=h(Pt,"DIV",{class:!0});var _t=p(W);Y=B(_t,q),_t.forEach(c),Z=x(Pt),K=h(Pt,"DIV",{class:!0});var Rt=p(K);X=h(Rt,"SELECT",{class:!0,placeholder:!0});var $t=p(X);for(let Xe=0;Xe<at.length;Xe+=1)at[Xe].l($t);$t.forEach(c),Rt.forEach(c),Pt.forEach(c),J=x(lt),De&&De.l(lt),ue=x(lt),fe=h(lt,"DIV",{});var vl=p(fe);pe=h(vl,"DIV",{class:!0});var sl=p(pe);ge=h(sl,"DIV",{class:!0});var Kt=p(ge);Le=B(Kt,Ee),Kt.forEach(c),be=x(sl),le=h(sl,"BUTTON",{class:!0,type:!0});var Nt=p(le);ht.l(Nt),Nt.forEach(c),sl.forEach(c),vl.forEach(c),lt.forEach(c),he=x(Ge),me=h(Ge,"HR",{class:!0}),ae=x(Ge),oe=h(Ge,"DIV",{});var jt=p(oe);ce=h(jt,"DIV",{class:!0});var rl=p(ce);ve=B(rl,ne),rl.forEach(c),ie=x(jt),Me=h(jt,"TEXTAREA",{class:!0,rows:!0}),p(Me).forEach(c),jt.forEach(c),de=x(Ge),Te=h(Ge,"DIV",{class:!0});var al=p(Te);Q=h(al,"DIV",{class:!0});var Zt=p(Q);F=h(Zt,"DIV",{class:!0});var Ft=p(F);Ie=B(Ft,ke),Ft.forEach(c),He=x(Zt),Ae=h(Zt,"BUTTON",{class:!0,type:!0});var _l=p(Ae);Qe=B(_l,je),_l.forEach(c),Zt.forEach(c),ze=x(al),Fe&&Fe.l(al),al.forEach(c),Ge.forEach(c),Re=x($e),We=h($e,"DIV",{class:!0});var bl=p(We);Ne=h(bl,"BUTTON",{class:!0});var nt=p(Ne);It=B(nt,Je),nt.forEach(c),bl.forEach(c),$e.forEach(c),this.h()},h(){i(r,"class","mb-1 text-sm font-medium"),i(v,"class","self-center text-xs font-medium"),E.__value="system",_e(E,E.__value),I.__value="dark",_e(I,I.__value),V.__value="oled-dark",_e(V,V.__value),z.__value="light",_e(z,z.__value),i(k,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),i(k,"placeholder","Select a theme"),s[1]===void 0&&Cl(()=>s[17].call(k)),i(w,"class","flex items-center relative"),i(f,"class","flex w-full justify-between"),i(W,"class","self-center text-xs font-medium"),i(X,"class","dark:bg-gray-900 w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),i(X,"placeholder","Select a language"),s[3]===void 0&&Cl(()=>s[19].call(X)),i(K,"class","flex items-center relative"),i(H,"class","flex w-full justify-between"),i(ge,"class","self-center text-xs font-medium"),i(le,"class","p-1 px-3 text-xs flex rounded transition"),i(le,"type","button"),i(pe,"class","py-0.5 flex w-full justify-between"),i(l,"class",""),i(me,"class","dark:border-gray-700 my-3"),i(ce,"class","my-2.5 text-sm font-medium"),i(Me,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),i(Me,"rows","4"),i(F,"class","font-medium"),i(Ae,"class","text-xs font-medium text-gray-500"),i(Ae,"type","button"),i(Q,"class","flex justify-between items-center text-sm"),i(Te,"class","mt-2 space-y-3 pr-1.5"),i(t,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),i(Ne,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),i(We,"class","flex justify-end pt-3 text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between text-sm")},m(we,$e){U(we,e,$e),n(e,t),n(t,l),n(l,r),n(r,o),n(l,u),n(l,f),n(f,v),n(v,g),n(f,m),n(f,w),n(w,k),n(k,E),n(E,y),n(E,D),n(k,I),n(I,M),n(I,S),n(k,V),n(V,j),n(V,$),n(k,z),n(z,A),n(z,L),Yt(k,s[1],!0),n(l,G),n(l,H),n(H,W),n(W,Y),n(H,Z),n(H,K),n(K,X);for(let Ge=0;Ge<at.length;Ge+=1)at[Ge]&&at[Ge].m(X,null);Yt(X,s[3],!0),n(l,J),De&&De.m(l,null),n(l,ue),n(l,fe),n(fe,pe),n(pe,ge),n(ge,Le),n(pe,be),n(pe,le),ht.m(le,null),n(t,he),n(t,me),n(t,ae),n(t,oe),n(oe,ce),n(ce,ve),n(oe,ie),n(oe,Me),_e(Me,s[5]),n(t,de),n(t,Te),n(Te,Q),n(Q,F),n(F,Ie),n(Q,He),n(Q,Ae),n(Ae,Qe),n(Te,ze),Fe&&Fe.m(Te,null),n(e,Re),n(e,We),n(We,Ne),n(Ne,It),qe=!0,mt||(ot=[ee(k,"change",s[17]),ee(k,"change",s[18]),ee(X,"change",s[19]),ee(X,"change",s[20]),ee(le,"click",s[21]),ee(Me,"input",s[22]),ee(Ae,"click",s[23]),ee(Ne,"click",s[28])],mt=!0)},p(we,$e){if((!qe||$e[0]&1024)&&a!==(a=we[10].t("Settings")+"")&&R(o,a),(!qe||$e[0]&1024)&&_!==(_=we[10].t("Theme")+"")&&R(g,_),(!qe||$e[0]&1024)&&b!==(b=we[10].t("System")+"")&&R(D,b),(!qe||$e[0]&1024)&&T!==(T=we[10].t("Dark")+"")&&R(S,T),(!qe||$e[0]&1024)&&P!==(P=we[10].t("OLED Dark")+"")&&R($,P),(!qe||$e[0]&1024)&&O!==(O=we[10].t("Light")+"")&&R(L,O),$e[0]&2&&Yt(k,we[1]),(!qe||$e[0]&1024)&&q!==(q=we[10].t("Language")+"")&&R(Y,q),$e[0]&4){St=Ye(we[2]);let Ge;for(Ge=0;Ge<St.length;Ge+=1){const lt=Vr(we,St,Ge);at[Ge]?at[Ge].p(lt,$e):(at[Ge]=Cr(lt),at[Ge].c(),at[Ge].m(X,null))}for(;Ge<at.length;Ge+=1)at[Ge].d(1);at.length=St.length}$e[0]&12&&Yt(X,we[3]),we[10].language==="en-US"?De||(De=xr(),De.c(),De.m(l,ue)):De&&(De.d(1),De=null),(!qe||$e[0]&1024)&&Ee!==(Ee=we[10].t("Notifications")+"")&&R(Le,Ee),it===(it=Ke(we))&&ht?ht.p(we,$e):(ht.d(1),ht=it(we),ht&&(ht.c(),ht.m(le,null))),(!qe||$e[0]&1024)&&ne!==(ne=we[10].t("System Prompt")+"")&&R(ve,ne),$e[0]&32&&_e(Me,we[5]),(!qe||$e[0]&1024)&&ke!==(ke=we[10].t("Advanced Parameters")+"")&&R(Ie,ke),(!qe||$e[0]&1088)&&je!==(je=(we[6]?we[10].t("Hide"):we[10].t("Show"))+"")&&R(Qe,je),we[6]?Fe?(Fe.p(we,$e),$e[0]&64&&te(Fe,1)):(Fe=Sr(we),Fe.c(),te(Fe,1),Fe.m(Te,null)):Fe&&(Lt(),re(Fe,1,1,()=>{Fe=null}),Ot()),(!qe||$e[0]&1024)&&Je!==(Je=we[10].t("Save")+"")&&R(It,Je)},i(we){qe||(te(Fe),qe=!0)},o(we){re(Fe),qe=!1},d(we){we&&c(e),xt(at,we),De&&De.d(),ht.d(),Fe&&Fe.d(),mt=!1,tt(ot)}}}function Ko(s,e,t){let l,r;Pe(s,dl,Y=>t(29,l=Y));const a=Tl(),o=Et("i18n");Pe(s,o,Y=>t(10,r=Y));let{saveSettings:u}=e,{getModels:f}=e,v=["dark","light","rose-pine dark","rose-pine-dawn light","oled-dark"],_="system",g=[],m=r.language,w=!1,k="",E=!1;const y=async()=>{await Notification.requestPermission()==="granted"?(t(4,w=!w),u({notificationEnabled:w})):Ze.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let b="",D=null,I={seed:0,temperature:"",frequency_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",stop:null,tfs_z:"",num_ctx:"",max_tokens:""};const M=async()=>{b===""?t(7,b="json"):t(7,b=""),u({requestFormat:b!==""?b:void 0})};Xt(async()=>{var Y,Z;t(1,_=localStorage.theme??"system"),t(2,g=await zn()),t(4,w=l.notificationEnabled??!1),t(5,k=l.system??""),t(7,b=l.requestFormat??""),t(8,D=l.keepAlive??null),t(9,I.seed=l.seed??0,I),t(9,I.temperature=l.temperature??"",I),t(9,I.frequency_penalty=l.frequency_penalty??"",I),t(9,I.top_k=l.top_k??"",I),t(9,I.top_p=l.top_p??"",I),t(9,I.num_ctx=l.num_ctx??"",I),t(9,I={...I,...l.params}),t(9,I.stop=(Y=l==null?void 0:l.params)!=null&&Y.stop?(((Z=l==null?void 0:l.params)==null?void 0:Z.stop)??[]).join(","):null,I)});const T=Y=>{let Z=Y==="oled-dark"?"dark":Y;Y==="system"&&(Z=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z==="dark"&&!Y.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#171717"),document.documentElement.style.setProperty("--color-gray-950","#0d0d0d")),v.filter(K=>K!==Z).forEach(K=>{K.split(" ").forEach(X=>{document.documentElement.classList.remove(X)})}),Z.split(" ").forEach(K=>{document.documentElement.classList.add(K)}),console.log(Y)},S=Y=>{kn.set(Y),localStorage.setItem("theme",Y),Y.includes("oled")&&(document.documentElement.style.setProperty("--color-gray-900","#000000"),document.documentElement.style.setProperty("--color-gray-950","#000000"),document.documentElement.classList.add("dark")),T(Y)};function V(){_=xl(this),t(1,_)}const j=()=>S(_);function P(){m=xl(this),t(3,m),t(2,g)}const $=Y=>{r.changeLanguage(m)},z=()=>{y()};function A(){k=this.value,t(5,k)}const O=()=>{t(6,E=!E)};function L(Y){I=Y,t(9,I)}const G=()=>{t(8,D=D===null?"5m":null)};function H(){D=this.value,t(8,D)}const W=()=>{M()},q=()=>{u({system:k!==""?k:void 0,params:{seed:(I.seed!==0?I.seed:void 0)??void 0,stop:I.stop?I.stop.split(",").filter(Y=>Y):void 0,temperature:I.temperature!==""?I.temperature:void 0,frequency_penalty:I.frequency_penalty!==""?I.frequency_penalty:void 0,repeat_last_n:I.repeat_last_n!==""?I.repeat_last_n:void 0,mirostat:I.mirostat!==""?I.mirostat:void 0,mirostat_eta:I.mirostat_eta!==""?I.mirostat_eta:void 0,mirostat_tau:I.mirostat_tau!==""?I.mirostat_tau:void 0,top_k:I.top_k!==""?I.top_k:void 0,top_p:I.top_p!==""?I.top_p:void 0,tfs_z:I.tfs_z!==""?I.tfs_z:void 0,num_ctx:I.num_ctx!==""?I.num_ctx:void 0,max_tokens:I.max_tokens!==""?I.max_tokens:void 0},keepAlive:D?isNaN(D)?D:parseInt(D):void 0}),a("save")};return s.$$set=Y=>{"saveSettings"in Y&&t(0,u=Y.saveSettings),"getModels"in Y&&t(16,f=Y.getModels)},[u,_,g,m,w,k,E,b,D,I,r,a,o,y,M,S,f,V,j,P,$,z,A,O,L,G,H,W,q]}class Fo extends ft{constructor(e){super(),dt(this,e,Ko,Yo,ut,{saveSettings:0,getModels:16},null,[-1,-1])}}function Ar(s,e,t){const l=s.slice();return l[44]=e[t],l[45]=e,l[46]=t,l}function Lr(s,e,t){const l=s.slice();return l[47]=e[t],l}function Or(s,e,t){const l=s.slice();return l[47]=e[t],l}function Hr(s,e,t){const l=s.slice();return l[47]=e[t],l}function Xo(s){let e,t=s[14].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function Jo(s){let e,t=s[14].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function Qo(s){let e,t=s[14].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function ei(s){let e,t=s[14].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function ti(s){let e,t=s[14].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function li(s){let e,t=s[14].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function si(s){let e,t=s[14].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function ri(s){let e,t=s[14].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function Nr(s){let e,t,l,r=s[14].t("Display the username instead of You in the Chat")+"",a,o,u,f,v;function _(w,k){return w[9]===!0?ni:ai}let g=_(s),m=g(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=N(r),o=C(),u=d("button"),m.c(),this.h()},l(w){e=h(w,"DIV",{});var k=p(e);t=h(k,"DIV",{class:!0});var E=p(t);l=h(E,"DIV",{class:!0});var y=p(l);a=B(y,r),y.forEach(c),o=x(E),u=h(E,"BUTTON",{class:!0,type:!0});var b=p(u);m.l(b),b.forEach(c),E.forEach(c),k.forEach(c),this.h()},h(){i(l,"class","self-center text-xs font-medium"),i(u,"class","p-1 px-3 text-xs flex rounded transition"),i(u,"type","button"),i(t,"class","py-0.5 flex w-full justify-between")},m(w,k){U(w,e,k),n(e,t),n(t,l),n(l,a),n(t,o),n(t,u),m.m(u,null),f||(v=ee(u,"click",s[31]),f=!0)},p(w,k){k[0]&16384&&r!==(r=w[14].t("Display the username instead of You in the Chat")+"")&&R(a,r),g===(g=_(w))&&m?m.p(w,k):(m.d(1),m=g(w),m&&(m.c(),m.m(u,null)))},d(w){w&&c(e),m.d(),f=!1,v()}}}function ai(s){let e,t=s[14].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function ni(s){let e,t=s[14].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function oi(s){let e,t=s[14].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function ii(s){let e,t=s[14].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function ci(s){let e,t=s[14].t("RTL")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("RTL")+"")&&R(l,t)},d(r){r&&c(e)}}}function ui(s){let e,t=s[14].t("LTR")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("LTR")+"")&&R(l,t)},d(r){r&&c(e)}}}function Br(s){let e,t=s[47].name+"",l,r;return{c(){e=d("option"),l=N(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=p(e);l=B(o,t),o.forEach(c),this.h()},h(){e.__value=r=s[47].id,_e(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700")},m(a,o){U(a,e,o),n(e,l)},p(a,o){o[0]&32768&&t!==(t=a[47].name+"")&&R(l,t),o[0]&32768&&r!==(r=a[47].id)&&(e.__value=r,_e(e,e.__value))},d(a){a&&c(e)}}}function fi(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=p(e);t=rt(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(t).forEach(c),r.forEach(c),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width","1.5"),i(e,"stroke","currentColor"),i(e,"class","w-5 h-5")},m(l,r){U(l,e,r),n(e,t)},p:Oe,d(l){l&&c(e)}}}function Ur(s){let e,t=s[47].name+"",l,r,a;return{c(){e=d("option"),l=N(t),r=C(),this.h()},l(o){e=h(o,"OPTION",{class:!0});var u=p(e);l=B(u,t),r=x(u),u.forEach(c),this.h()},h(){e.__value=a=s[47].id,_e(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,u){U(o,e,u),n(e,l),n(e,r)},p(o,u){u[0]&32768&&t!==(t=o[47].name+"")&&R(l,t),u[0]&32768&&a!==(a=o[47].id)&&(e.__value=a,_e(e,e.__value))},d(o){o&&c(e)}}}function Pr(s){let e,t=s[47].name+"",l,r,a;return{c(){e=d("option"),l=N(t),r=C(),this.h()},l(o){e=h(o,"OPTION",{class:!0});var u=p(e);l=B(u,t),r=x(u),u.forEach(c),this.h()},h(){e.__value=a=s[47].id,_e(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700")},m(o,u){U(o,e,u),n(e,l),n(e,r)},p(o,u){u[0]&32768&&t!==(t=o[47].name+"")&&R(l,t),u[0]&32768&&a!==(a=o[47].id)&&(e.__value=a,_e(e,e.__value))},d(o){o&&c(e)}}}function jr(s){let e,t,l,r,a,o=s[14].t("Default Prompt Suggestions")+"",u,f,v,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',g,m,w,k,E,y=Ye(s[8]),b=[];for(let I=0;I<y.length;I+=1)b[I]=zr(Ar(s,y,I));let D=s[8].length>0&&Rr(s);return{c(){e=d("hr"),t=C(),l=d("div"),r=d("div"),a=d("div"),u=N(o),f=C(),v=d("button"),v.innerHTML=_,g=C(),m=d("div");for(let I=0;I<b.length;I+=1)b[I].c();w=C(),D&&D.c(),this.h()},l(I){e=h(I,"HR",{class:!0}),t=x(I),l=h(I,"DIV",{class:!0});var M=p(l);r=h(M,"DIV",{class:!0});var T=p(r);a=h(T,"DIV",{class:!0});var S=p(a);u=B(S,o),S.forEach(c),f=x(T),v=h(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(v)!=="svelte-192kpg7"&&(v.innerHTML=_),T.forEach(c),g=x(M),m=h(M,"DIV",{class:!0});var V=p(m);for(let j=0;j<b.length;j+=1)b[j].l(V);V.forEach(c),w=x(M),D&&D.l(M),M.forEach(c),this.h()},h(){i(e,"class","dark:border-gray-700"),i(a,"class","self-center text-sm font-semibold"),i(v,"class","p-1 px-3 text-xs flex rounded transition"),i(v,"type","button"),i(r,"class","flex w-full justify-between mb-2"),i(m,"class","flex flex-col space-y-1"),i(l,"class","space-y-3 pr-1.5")},m(I,M){U(I,e,M),U(I,t,M),U(I,l,M),n(l,r),n(r,a),n(a,u),n(r,f),n(r,v),n(l,g),n(l,m);for(let T=0;T<b.length;T+=1)b[T]&&b[T].m(m,null);n(l,w),D&&D.m(l,null),k||(E=ee(v,"click",s[37]),k=!0)},p(I,M){if(M[0]&16384&&o!==(o=I[14].t("Default Prompt Suggestions")+"")&&R(u,o),M[0]&16640){y=Ye(I[8]);let T;for(T=0;T<y.length;T+=1){const S=Ar(I,y,T);b[T]?b[T].p(S,M):(b[T]=zr(S),b[T].c(),b[T].m(m,null))}for(;T<b.length;T+=1)b[T].d(1);b.length=y.length}I[8].length>0?D?D.p(I,M):(D=Rr(I),D.c(),D.m(l,null)):D&&(D.d(1),D=null)},d(I){I&&(c(e),c(t),c(l)),xt(b,I),D&&D.d(),k=!1,E()}}}function zr(s){let e,t,l,r,a,o,u,f,v,_,g,m,w,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',E,y,b;function D(){s[38].call(r,s[45],s[46])}function I(){s[39].call(u,s[45],s[46])}function M(){s[40].call(_,s[45],s[46])}function T(){return s[41](s[46])}return{c(){e=d("div"),t=d("div"),l=d("div"),r=d("input"),o=C(),u=d("input"),v=C(),_=d("input"),m=C(),w=d("button"),w.innerHTML=k,E=C(),this.h()},l(S){e=h(S,"DIV",{class:!0});var V=p(e);t=h(V,"DIV",{class:!0});var j=p(t);l=h(j,"DIV",{class:!0});var P=p(l);r=h(P,"INPUT",{class:!0,placeholder:!0}),o=x(P),u=h(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(c),v=x(j),_=h(j,"INPUT",{class:!0,placeholder:!0}),j.forEach(c),m=x(V),w=h(V,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(w)!=="svelte-1lkxdu6"&&(w.innerHTML=k),E=x(V),V.forEach(c),this.h()},h(){i(r,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),i(r,"placeholder",a=s[14].t("Title (e.g. Tell me a fun fact)")),i(u,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),i(u,"placeholder",f=s[14].t("Subtitle (e.g. about the Roman Empire)")),i(l,"class","flex border-b dark:border-gray-600 w-full"),i(_,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),i(_,"placeholder",g=s[14].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),i(t,"class","flex flex-col flex-1"),i(w,"class","px-2"),i(w,"type","button"),i(e,"class","flex border dark:border-gray-600 rounded-lg")},m(S,V){U(S,e,V),n(e,t),n(t,l),n(l,r),_e(r,s[44].title[0]),n(l,o),n(l,u),_e(u,s[44].title[1]),n(t,v),n(t,_),_e(_,s[44].content),n(e,m),n(e,w),n(e,E),y||(b=[ee(r,"input",D),ee(u,"input",I),ee(_,"input",M),ee(w,"click",T)],y=!0)},p(S,V){s=S,V[0]&16384&&a!==(a=s[14].t("Title (e.g. Tell me a fun fact)"))&&i(r,"placeholder",a),V[0]&256&&r.value!==s[44].title[0]&&_e(r,s[44].title[0]),V[0]&16384&&f!==(f=s[14].t("Subtitle (e.g. about the Roman Empire)"))&&i(u,"placeholder",f),V[0]&256&&u.value!==s[44].title[1]&&_e(u,s[44].title[1]),V[0]&16384&&g!==(g=s[14].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&i(_,"placeholder",g),V[0]&256&&_.value!==s[44].content&&_e(_,s[44].content)},d(S){S&&c(e),y=!1,tt(b)}}}function Rr(s){let e,t=s[14].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=d("div"),l=N(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","text-xs text-left w-full mt-2")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Adjusting these settings will apply changes universally to all users.")+"")&&R(l,t)},d(r){r&&c(e)}}}function di(s){let e,t,l,r,a=s[14].t("WebUI Add-ons")+"",o,u,f,v,_,g=s[14].t("Chat Bubble UI")+"",m,w,k,E,y,b,D,I=s[14].t("Title Auto-Generation")+"",M,T,S,V,j,P,$,z=s[14].t("Response AutoCopy to Clipboard")+"",A,O,L,G,H,W,q,Y=s[14].t("Widescreen Mode")+"",Z,K,X,J,ue,fe,pe,ge,Ee=s[14].t("Fluidly stream large external response chunks")+"",Le,be,le,he,me,ae,oe,ce=s[14].t("Chat direction")+"",ne,ve,ie,Me,de,Te,Q,F,ke,Ie,He=s[14].t("Default Model")+"",Ae,je,Qe,ze,Re,We=s[14].t("Select a model")+"",Ne,Je,It,qe,mt,ot,St,at=s[14].t("Set Task Model")+"",De,Ke,it,ht,Fe,we,$e,Ge="Local Models",lt,ct,vt,zt=s[14].t("Current Model")+"",Jt,gt,ll,Dt,bt,Ht="External Models",Pt,_t,Rt,$t=s[14].t("Current Model")+"",vl,sl,Kt,Nt,jt,rl=s[14].t("Title Generation Prompt")+"",al,Zt,Ft,_l,bl,nt,Xe,pl=s[14].t("Save")+"",Sl,wt,Vl,il;function Ml(se,Be){return se[10]===!0?Jo:Xo}let Al=Ml(s),Wt=Al(s);function Gl(se,Be){return se[0]===!0?ei:Qo}let wl=Gl(s),Qt=wl(s);function Ll(se,Be){return se[1]===!0?li:ti}let Ol=Ll(s),Vt=Ol(s);function Hl(se,Be){return se[4]===!0?ri:si}let Nl=Hl(s),qt=Nl(s),Mt=!s[12].chatBubble&&Nr(s);function Bl(se,Be){return se[6]===!0?ii:oi}let Ul=Bl(s),Gt=Ul(s);function Yl(se,Be){return se[11]==="LTR"?ui:ci}let Pl=Yl(s),el=Pl(s),kl=Ye(s[15].filter($r)),Ct=[];for(let se=0;se<kl.length;se+=1)Ct[se]=Br(Hr(s,kl,se));it=new hl({props:{content:s[14].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[fi]},$$scope:{ctx:s}}});let nl=Ye(s[15].filter(Zr)),kt=[];for(let se=0;se<nl.length;se+=1)kt[se]=Ur(Or(s,nl,se));let yl=Ye(s[15]),yt=[];for(let se=0;se<yl.length;se+=1)yt[se]=Pr(Lr(s,yl,se));let At=s[13].role==="admin"&&jr(s);return{c(){e=d("form"),t=d("div"),l=d("div"),r=d("div"),o=N(a),u=C(),f=d("div"),v=d("div"),_=d("div"),m=N(g),w=C(),k=d("button"),Wt.c(),E=C(),y=d("div"),b=d("div"),D=d("div"),M=N(I),T=C(),S=d("button"),Qt.c(),V=C(),j=d("div"),P=d("div"),$=d("div"),A=N(z),O=C(),L=d("button"),Vt.c(),G=C(),H=d("div"),W=d("div"),q=d("div"),Z=N(Y),K=C(),X=d("button"),qt.c(),J=C(),Mt&&Mt.c(),ue=C(),fe=d("div"),pe=d("div"),ge=d("div"),Le=N(Ee),be=C(),le=d("button"),Gt.c(),he=C(),me=d("div"),ae=d("div"),oe=d("div"),ne=N(ce),ve=C(),ie=d("button"),el.c(),Me=C(),de=d("hr"),Te=C(),Q=d("div"),F=d("div"),ke=d("div"),Ie=d("div"),Ae=N(He),je=C(),Qe=d("div"),ze=d("select"),Re=d("option"),Ne=N(We);for(let se=0;se<Ct.length;se+=1)Ct[se].c();Je=C(),It=d("hr"),qe=C(),mt=d("div"),ot=d("div"),St=d("div"),De=N(at),Ke=C(),Ve(it.$$.fragment),ht=C(),Fe=d("div"),we=d("div"),$e=d("div"),$e.textContent=Ge,lt=C(),ct=d("select"),vt=d("option"),Jt=N(zt);for(let se=0;se<kt.length;se+=1)kt[se].c();ll=C(),Dt=d("div"),bt=d("div"),bt.textContent=Ht,Pt=C(),_t=d("select"),Rt=d("option"),vl=N($t);for(let se=0;se<yt.length;se+=1)yt[se].c();Kt=C(),Nt=d("div"),jt=d("div"),al=N(rl),Zt=C(),Ft=d("textarea"),_l=C(),At&&At.c(),bl=C(),nt=d("div"),Xe=d("button"),Sl=N(pl),this.h()},l(se){e=h(se,"FORM",{class:!0});var Be=p(e);t=h(Be,"DIV",{class:!0});var et=p(t);l=h(et,"DIV",{});var Ue=p(l);r=h(Ue,"DIV",{class:!0});var cl=p(r);o=B(cl,a),cl.forEach(c),u=x(Ue),f=h(Ue,"DIV",{});var Hs=p(f);v=h(Hs,"DIV",{class:!0});var Xl=p(v);_=h(Xl,"DIV",{class:!0});var Ns=p(_);m=B(Ns,g),Ns.forEach(c),w=x(Xl),k=h(Xl,"BUTTON",{class:!0,type:!0});var Bs=p(k);Wt.l(Bs),Bs.forEach(c),Xl.forEach(c),Hs.forEach(c),E=x(Ue),y=h(Ue,"DIV",{});var Us=p(y);b=h(Us,"DIV",{class:!0});var Jl=p(b);D=h(Jl,"DIV",{class:!0});var Ps=p(D);M=B(Ps,I),Ps.forEach(c),T=x(Jl),S=h(Jl,"BUTTON",{class:!0,type:!0});var js=p(S);Qt.l(js),js.forEach(c),Jl.forEach(c),Us.forEach(c),V=x(Ue),j=h(Ue,"DIV",{});var zs=p(j);P=h(zs,"DIV",{class:!0});var Ql=p(P);$=h(Ql,"DIV",{class:!0});var Rs=p($);A=B(Rs,z),Rs.forEach(c),O=x(Ql),L=h(Ql,"BUTTON",{class:!0,type:!0});var $s=p(L);Vt.l($s),$s.forEach(c),Ql.forEach(c),zs.forEach(c),G=x(Ue),H=h(Ue,"DIV",{});var Zs=p(H);W=h(Zs,"DIV",{class:!0});var es=p(W);q=h(es,"DIV",{class:!0});var Ws=p(q);Z=B(Ws,Y),Ws.forEach(c),K=x(es),X=h(es,"BUTTON",{class:!0,type:!0});var qs=p(X);qt.l(qs),qs.forEach(c),es.forEach(c),Zs.forEach(c),J=x(Ue),Mt&&Mt.l(Ue),ue=x(Ue),fe=h(Ue,"DIV",{});var Gs=p(fe);pe=h(Gs,"DIV",{class:!0});var ts=p(pe);ge=h(ts,"DIV",{class:!0});var Ys=p(ge);Le=B(Ys,Ee),Ys.forEach(c),be=x(ts),le=h(ts,"BUTTON",{class:!0,type:!0});var Ks=p(le);Gt.l(Ks),Ks.forEach(c),ts.forEach(c),Gs.forEach(c),Ue.forEach(c),he=x(et),me=h(et,"DIV",{});var Fs=p(me);ae=h(Fs,"DIV",{class:!0});var ls=p(ae);oe=h(ls,"DIV",{class:!0});var Xs=p(oe);ne=B(Xs,ce),Xs.forEach(c),ve=x(ls),ie=h(ls,"BUTTON",{class:!0,type:!0});var Js=p(ie);el.l(Js),Js.forEach(c),ls.forEach(c),Fs.forEach(c),Me=x(et),de=h(et,"HR",{class:!0}),Te=x(et),Q=h(et,"DIV",{class:!0});var ss=p(Q);F=h(ss,"DIV",{class:!0});var Qs=p(F);ke=h(Qs,"DIV",{class:!0});var er=p(ke);Ie=h(er,"DIV",{class:!0});var tr=p(Ie);Ae=B(tr,He),tr.forEach(c),er.forEach(c),Qs.forEach(c),je=x(ss),Qe=h(ss,"DIV",{class:!0});var lr=p(Qe);ze=h(lr,"SELECT",{class:!0,placeholder:!0});var hs=p(ze);Re=h(hs,"OPTION",{});var sr=p(Re);Ne=B(sr,We),sr.forEach(c);for(let ul=0;ul<Ct.length;ul+=1)Ct[ul].l(hs);hs.forEach(c),lr.forEach(c),ss.forEach(c),Je=x(et),It=h(et,"HR",{class:!0}),qe=x(et),mt=h(et,"DIV",{});var Rl=p(mt);ot=h(Rl,"DIV",{class:!0});var rs=p(ot);St=h(rs,"DIV",{class:!0});var rr=p(St);De=B(rr,at),rr.forEach(c),Ke=x(rs),Ce(it.$$.fragment,rs),rs.forEach(c),ht=x(Rl),Fe=h(Rl,"DIV",{class:!0});var as=p(Fe);we=h(as,"DIV",{class:!0});var ns=p(we);$e=h(ns,"DIV",{class:!0,"data-svelte-h":!0}),ye($e)!=="svelte-lqo5l8"&&($e.textContent=Ge),lt=x(ns),ct=h(ns,"SELECT",{class:!0,placeholder:!0});var vs=p(ct);vt=h(vs,"OPTION",{});var ar=p(vt);Jt=B(ar,zt),ar.forEach(c);for(let ul=0;ul<kt.length;ul+=1)kt[ul].l(vs);vs.forEach(c),ns.forEach(c),ll=x(as),Dt=h(as,"DIV",{class:!0});var os=p(Dt);bt=h(os,"DIV",{class:!0,"data-svelte-h":!0}),ye(bt)!=="svelte-1gfxkt4"&&(bt.textContent=Ht),Pt=x(os),_t=h(os,"SELECT",{class:!0,placeholder:!0});var _s=p(_t);Rt=h(_s,"OPTION",{});var nr=p(Rt);vl=B(nr,$t),nr.forEach(c);for(let ul=0;ul<yt.length;ul+=1)yt[ul].l(_s);_s.forEach(c),os.forEach(c),as.forEach(c),Kt=x(Rl),Nt=h(Rl,"DIV",{class:!0});var is=p(Nt);jt=h(is,"DIV",{class:!0});var or=p(jt);al=B(or,rl),or.forEach(c),Zt=x(is),Ft=h(is,"TEXTAREA",{class:!0,rows:!0}),p(Ft).forEach(c),is.forEach(c),Rl.forEach(c),_l=x(et),At&&At.l(et),et.forEach(c),bl=x(Be),nt=h(Be,"DIV",{class:!0});var ir=p(nt);Xe=h(ir,"BUTTON",{class:!0,type:!0});var cr=p(Xe);Sl=B(cr,pl),cr.forEach(c),ir.forEach(c),Be.forEach(c),this.h()},h(){i(r,"class","mb-1 text-sm font-medium"),i(_,"class","self-center text-xs font-medium"),i(k,"class","p-1 px-3 text-xs flex rounded transition"),i(k,"type","button"),i(v,"class","py-0.5 flex w-full justify-between"),i(D,"class","self-center text-xs font-medium"),i(S,"class","p-1 px-3 text-xs flex rounded transition"),i(S,"type","button"),i(b,"class","py-0.5 flex w-full justify-between"),i($,"class","self-center text-xs font-medium"),i(L,"class","p-1 px-3 text-xs flex rounded transition"),i(L,"type","button"),i(P,"class","py-0.5 flex w-full justify-between"),i(q,"class","self-center text-xs font-medium"),i(X,"class","p-1 px-3 text-xs flex rounded transition"),i(X,"type","button"),i(W,"class","py-0.5 flex w-full justify-between"),i(ge,"class","self-center text-xs font-medium"),i(le,"class","p-1 px-3 text-xs flex rounded transition"),i(le,"type","button"),i(pe,"class","py-0.5 flex w-full justify-between"),i(oe,"class","self-center text-xs font-medium"),i(ie,"class","p-1 px-3 text-xs flex rounded transition"),i(ie,"type","button"),i(ae,"class","py-0.5 flex w-full justify-between"),i(de,"class","dark:border-gray-850"),i(Ie,"class","text-xs font-medium"),i(ke,"class","flex justify-between items-center text-xs"),i(F,"class","mb-2"),Re.__value="",_e(Re,Re.__value),Re.disabled=!0,Re.selected=!0,i(ze,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(ze,"placeholder","Select a model"),s[7]===void 0&&Cl(()=>s[33].call(ze)),i(Qe,"class","flex-1 mr-2"),i(Q,"class","space-y-1 mb-3"),i(It,"class","dark:border-gray-850"),i(St,"class","mr-1"),i(ot,"class","mb-2.5 text-sm font-medium flex"),i($e,"class","text-xs mb-1"),vt.__value="",_e(vt,vt.__value),vt.selected=!0,i(ct,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(ct,"placeholder",gt=s[14].t("Select a model")),s[2]===void 0&&Cl(()=>s[34].call(ct)),i(we,"class","flex-1"),i(bt,"class","text-xs mb-1"),Rt.__value="",_e(Rt,Rt.__value),Rt.selected=!0,i(_t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(_t,"placeholder",sl=s[14].t("Select a model")),s[3]===void 0&&Cl(()=>s[35].call(_t)),i(Dt,"class","flex-1"),i(Fe,"class","flex w-full gap-2 pr-2"),i(jt,"class","mb-2.5 text-sm font-medium"),i(Ft,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),i(Ft,"rows","3"),i(Nt,"class","mt-3 mr-2"),i(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),i(Xe,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),i(Xe,"type","submit"),i(nt,"class","flex justify-end text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(se,Be){U(se,e,Be),n(e,t),n(t,l),n(l,r),n(r,o),n(l,u),n(l,f),n(f,v),n(v,_),n(_,m),n(v,w),n(v,k),Wt.m(k,null),n(l,E),n(l,y),n(y,b),n(b,D),n(D,M),n(b,T),n(b,S),Qt.m(S,null),n(l,V),n(l,j),n(j,P),n(P,$),n($,A),n(P,O),n(P,L),Vt.m(L,null),n(l,G),n(l,H),n(H,W),n(W,q),n(q,Z),n(W,K),n(W,X),qt.m(X,null),n(l,J),Mt&&Mt.m(l,null),n(l,ue),n(l,fe),n(fe,pe),n(pe,ge),n(ge,Le),n(pe,be),n(pe,le),Gt.m(le,null),n(t,he),n(t,me),n(me,ae),n(ae,oe),n(oe,ne),n(ae,ve),n(ae,ie),el.m(ie,null),n(t,Me),n(t,de),n(t,Te),n(t,Q),n(Q,F),n(F,ke),n(ke,Ie),n(Ie,Ae),n(Q,je),n(Q,Qe),n(Qe,ze),n(ze,Re),n(Re,Ne);for(let et=0;et<Ct.length;et+=1)Ct[et]&&Ct[et].m(ze,null);Yt(ze,s[7],!0),n(t,Je),n(t,It),n(t,qe),n(t,mt),n(mt,ot),n(ot,St),n(St,De),n(ot,Ke),xe(it,ot,null),n(mt,ht),n(mt,Fe),n(Fe,we),n(we,$e),n(we,lt),n(we,ct),n(ct,vt),n(vt,Jt);for(let et=0;et<kt.length;et+=1)kt[et]&&kt[et].m(ct,null);Yt(ct,s[2],!0),n(Fe,ll),n(Fe,Dt),n(Dt,bt),n(Dt,Pt),n(Dt,_t),n(_t,Rt),n(Rt,vl);for(let et=0;et<yt.length;et+=1)yt[et]&&yt[et].m(_t,null);Yt(_t,s[3],!0),n(mt,Kt),n(mt,Nt),n(Nt,jt),n(jt,al),n(Nt,Zt),n(Nt,Ft),_e(Ft,s[5]),n(t,_l),At&&At.m(t,null),n(e,bl),n(e,nt),n(nt,Xe),n(Xe,Sl),wt=!0,Vl||(il=[ee(k,"click",s[27]),ee(S,"click",s[28]),ee(L,"click",s[29]),ee(X,"click",s[30]),ee(le,"click",s[32]),ee(ie,"click",s[24]),ee(ze,"change",s[33]),ee(ct,"change",s[34]),ee(_t,"change",s[35]),ee(Ft,"input",s[36]),ee(e,"submit",Wl(s[42]))],Vl=!0)},p(se,Be){if((!wt||Be[0]&16384)&&a!==(a=se[14].t("WebUI Add-ons")+"")&&R(o,a),(!wt||Be[0]&16384)&&g!==(g=se[14].t("Chat Bubble UI")+"")&&R(m,g),Al===(Al=Ml(se))&&Wt?Wt.p(se,Be):(Wt.d(1),Wt=Al(se),Wt&&(Wt.c(),Wt.m(k,null))),(!wt||Be[0]&16384)&&I!==(I=se[14].t("Title Auto-Generation")+"")&&R(M,I),wl===(wl=Gl(se))&&Qt?Qt.p(se,Be):(Qt.d(1),Qt=wl(se),Qt&&(Qt.c(),Qt.m(S,null))),(!wt||Be[0]&16384)&&z!==(z=se[14].t("Response AutoCopy to Clipboard")+"")&&R(A,z),Ol===(Ol=Ll(se))&&Vt?Vt.p(se,Be):(Vt.d(1),Vt=Ol(se),Vt&&(Vt.c(),Vt.m(L,null))),(!wt||Be[0]&16384)&&Y!==(Y=se[14].t("Widescreen Mode")+"")&&R(Z,Y),Nl===(Nl=Hl(se))&&qt?qt.p(se,Be):(qt.d(1),qt=Nl(se),qt&&(qt.c(),qt.m(X,null))),se[12].chatBubble?Mt&&(Mt.d(1),Mt=null):Mt?Mt.p(se,Be):(Mt=Nr(se),Mt.c(),Mt.m(l,ue)),(!wt||Be[0]&16384)&&Ee!==(Ee=se[14].t("Fluidly stream large external response chunks")+"")&&R(Le,Ee),Ul===(Ul=Bl(se))&&Gt?Gt.p(se,Be):(Gt.d(1),Gt=Ul(se),Gt&&(Gt.c(),Gt.m(le,null))),(!wt||Be[0]&16384)&&ce!==(ce=se[14].t("Chat direction")+"")&&R(ne,ce),Pl===(Pl=Yl(se))&&el?el.p(se,Be):(el.d(1),el=Pl(se),el&&(el.c(),el.m(ie,null))),(!wt||Be[0]&16384)&&He!==(He=se[14].t("Default Model")+"")&&R(Ae,He),(!wt||Be[0]&16384)&&We!==(We=se[14].t("Select a model")+"")&&R(Ne,We),Be[0]&32768){kl=Ye(se[15].filter($r));let Ue;for(Ue=0;Ue<kl.length;Ue+=1){const cl=Hr(se,kl,Ue);Ct[Ue]?Ct[Ue].p(cl,Be):(Ct[Ue]=Br(cl),Ct[Ue].c(),Ct[Ue].m(ze,null))}for(;Ue<Ct.length;Ue+=1)Ct[Ue].d(1);Ct.length=kl.length}Be[0]&32896&&Yt(ze,se[7]),(!wt||Be[0]&16384)&&at!==(at=se[14].t("Set Task Model")+"")&&R(De,at);const et={};if(Be[0]&16384&&(et.content=se[14].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),Be[1]&8388608&&(et.$$scope={dirty:Be,ctx:se}),it.$set(et),(!wt||Be[0]&16384)&&zt!==(zt=se[14].t("Current Model")+"")&&R(Jt,zt),Be[0]&32768){nl=Ye(se[15].filter(Zr));let Ue;for(Ue=0;Ue<nl.length;Ue+=1){const cl=Or(se,nl,Ue);kt[Ue]?kt[Ue].p(cl,Be):(kt[Ue]=Ur(cl),kt[Ue].c(),kt[Ue].m(ct,null))}for(;Ue<kt.length;Ue+=1)kt[Ue].d(1);kt.length=nl.length}if((!wt||Be[0]&16384&&gt!==(gt=se[14].t("Select a model")))&&i(ct,"placeholder",gt),Be[0]&32772&&Yt(ct,se[2]),(!wt||Be[0]&16384)&&$t!==($t=se[14].t("Current Model")+"")&&R(vl,$t),Be[0]&32768){yl=Ye(se[15]);let Ue;for(Ue=0;Ue<yl.length;Ue+=1){const cl=Lr(se,yl,Ue);yt[Ue]?yt[Ue].p(cl,Be):(yt[Ue]=Pr(cl),yt[Ue].c(),yt[Ue].m(_t,null))}for(;Ue<yt.length;Ue+=1)yt[Ue].d(1);yt.length=yl.length}(!wt||Be[0]&16384&&sl!==(sl=se[14].t("Select a model")))&&i(_t,"placeholder",sl),Be[0]&32776&&Yt(_t,se[3]),(!wt||Be[0]&16384)&&rl!==(rl=se[14].t("Title Generation Prompt")+"")&&R(al,rl),Be[0]&32&&_e(Ft,se[5]),se[13].role==="admin"?At?At.p(se,Be):(At=jr(se),At.c(),At.m(t,null)):At&&(At.d(1),At=null),(!wt||Be[0]&16384)&&pl!==(pl=se[14].t("Save")+"")&&R(Sl,pl)},i(se){wt||(te(it.$$.fragment,se),wt=!0)},o(se){re(it.$$.fragment,se),wt=!1},d(se){se&&c(e),Wt.d(),Qt.d(),Vt.d(),qt.d(),Mt&&Mt.d(),Gt.d(),el.d(),xt(Ct,se),Se(it),xt(kt,se),xt(yt,se),At&&At.d(),Vl=!1,tt(il)}}}const $r=s=>s.id,Zr=s=>s.owned_by==="ollama";function hi(s,e,t){let l,r,a,o,u;Pe(s,dl,le=>t(12,l=le)),Pe(s,Fl,le=>t(43,r=le)),Pe(s,Dl,le=>t(13,a=le)),Pe(s,El,le=>t(15,u=le));const f=Tl(),v=Et("i18n");Pe(s,v,le=>t(14,o=le));let{saveSettings:_}=e,g=!0,m=!1,w="",k="",E=!1,y="",b=!1,D="",I=[],M=!1,T=!0,S="LTR";const V=async()=>{t(6,b=!b),_({splitLargeChunks:b})},j=async()=>{t(4,E=!E),_({widescreenMode:E})},P=async()=>{t(10,T=!T),_({chatBubble:T})},$=async()=>{t(9,M=!M),_({showUsername:M})},z=async()=>{t(0,g=!g),_({title:{...l.title,auto:g}})},A=async()=>{const le=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(le),le==="granted"?(t(1,m=!m),_({responseAutoCopy:m})):Ze.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},O=async()=>{t(11,S=S==="LTR"?"RTL":"LTR"),_({chatDirection:S})},L=async()=>{a.role==="admin"&&(t(8,I=await $n(localStorage.token,I)),await Fl.set(await $a())),_({title:{...l.title,model:w!==""?w:void 0,modelExternal:k!==""?k:void 0,prompt:y||void 0},models:[D]})};Xt(async()=>{var le,he,me,ae;a.role==="admin"&&t(8,I=r==null?void 0:r.default_prompt_suggestions),t(0,g=((le=l==null?void 0:l.title)==null?void 0:le.auto)??!0),t(2,w=((he=l==null?void 0:l.title)==null?void 0:he.model)??""),t(3,k=((me=l==null?void 0:l.title)==null?void 0:me.modelExternal)??""),t(5,y=((ae=l==null?void 0:l.title)==null?void 0:ae.prompt)??"Create a concise, 3-5 word phrase as a header for the following query, strictly adhering to the 3-5 word limit and avoiding the use of the word 'title': {{prompt}}"),t(1,m=l.responseAutoCopy??!1),t(9,M=l.showUsername??!1),t(10,T=l.chatBubble??!0),t(4,E=l.widescreenMode??!1),t(6,b=l.splitLargeChunks??!1),t(11,S=l.chatDirection??"LTR"),t(7,D=((l==null?void 0:l.models)??[""]).at(0))});const G=()=>{P()},H=()=>{z()},W=()=>{A()},q=()=>{j()},Y=()=>{$()},Z=()=>{V()};function K(){D=xl(this),t(7,D)}function X(){w=xl(this),t(2,w)}function J(){k=xl(this),t(3,k)}function ue(){y=this.value,t(5,y)}const fe=()=>{(I.length===0||I.at(-1).content!=="")&&t(8,I=[...I,{content:"",title:["",""]}])};function pe(le,he){le[he].title[0]=this.value,t(8,I)}function ge(le,he){le[he].title[1]=this.value,t(8,I)}function Ee(le,he){le[he].content=this.value,t(8,I)}const Le=le=>{I.splice(le,1),t(8,I)},be=()=>{L(),f("save")};return s.$$set=le=>{"saveSettings"in le&&t(26,_=le.saveSettings)},[g,m,w,k,E,y,b,D,I,M,T,S,l,a,o,u,f,v,V,j,P,$,z,A,O,L,_,G,H,W,q,Y,Z,K,X,J,ue,fe,pe,ge,Ee,Le,be]}class vi extends ft{constructor(e){super(),dt(this,e,hi,di,ut,{saveSettings:26},null,[-1,-1])}}function Wr(s,e,t){const l=s.slice();return l[15]=e[t],l}function qr(s,e,t){const l=s.slice();return l[38]=e[t],l}function Gr(s,e,t){const l=s.slice();return l[38]=e[t],l}function _i(s){let e,t=s[14].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function pi(s){let e,t=s[14].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function mi(s){let e,t=s[14].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function gi(s){let e,t=s[14].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function Yr(s){let e,t=s[9]==="openai"&&Kr(s);return{c(){t&&t.c(),e=gl()},l(l){t&&t.l(l),e=gl()},m(l,r){t&&t.m(l,r),U(l,e,r)},p(l,r){l[9]==="openai"?t?t.p(l,r):(t=Kr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d(l)}}}function Kr(s){let e,t,l,r,a,o,u,f;return{c(){e=d("div"),t=d("input"),r=C(),a=d("input"),this.h()},l(v){e=h(v,"DIV",{class:!0});var _=p(e);t=h(_,"INPUT",{class:!0,placeholder:!0}),r=x(_),a=h(_,"INPUT",{class:!0,placeholder:!0}),_.forEach(c),this.h()},h(){i(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(t,"placeholder",l=s[14].t("API Base URL")),t.required=!0,i(a,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(a,"placeholder",o=s[14].t("API Key")),a.required=!0,i(e,"class","mt-1 flex gap-2 mb-1")},m(v,_){U(v,e,_),n(e,t),_e(t,s[1]),n(e,r),n(e,a),_e(a,s[2]),u||(f=[ee(t,"input",s[24]),ee(a,"input",s[25])],u=!0)},p(v,_){_[0]&16384&&l!==(l=v[14].t("API Base URL"))&&i(t,"placeholder",l),_[0]&2&&t.value!==v[1]&&_e(t,v[1]),_[0]&16384&&o!==(o=v[14].t("API Key"))&&i(a,"placeholder",o),_[0]&4&&a.value!==v[2]&&_e(a,v[2])},d(v){v&&c(e),u=!1,tt(f)}}}function bi(s){let e,t=s[14].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function wi(s){let e,t=s[14].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&16384&&t!==(t=r[14].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function ki(s){let e,t,l=s[14].t("Set Voice")+"",r,a,o,u,f,v,_,g,m,w,k=s[14].t("Set Model")+"",E,y,b,D,I,M,T,S,V,j=Ye(s[10]),P=[];for(let A=0;A<j.length;A+=1)P[A]=Fr(qr(s,j,A));let $=Ye(s[12]),z=[];for(let A=0;A<$.length;A+=1)z[A]=Xr(Wr(s,$,A));return{c(){e=d("div"),t=d("div"),r=N(l),a=C(),o=d("div"),u=d("div"),f=d("input"),v=C(),_=d("datalist");for(let A=0;A<P.length;A+=1)P[A].c();g=C(),m=d("div"),w=d("div"),E=N(k),y=C(),b=d("div"),D=d("div"),I=d("input"),M=C(),T=d("datalist");for(let A=0;A<z.length;A+=1)z[A].c();this.h()},l(A){e=h(A,"DIV",{});var O=p(e);t=h(O,"DIV",{class:!0});var L=p(t);r=B(L,l),L.forEach(c),a=x(O),o=h(O,"DIV",{class:!0});var G=p(o);u=h(G,"DIV",{class:!0});var H=p(u);f=h(H,"INPUT",{list:!0,class:!0,placeholder:!0}),v=x(H),_=h(H,"DATALIST",{id:!0});var W=p(_);for(let J=0;J<P.length;J+=1)P[J].l(W);W.forEach(c),H.forEach(c),G.forEach(c),O.forEach(c),g=x(A),m=h(A,"DIV",{});var q=p(m);w=h(q,"DIV",{class:!0});var Y=p(w);E=B(Y,k),Y.forEach(c),y=x(q),b=h(q,"DIV",{class:!0});var Z=p(b);D=h(Z,"DIV",{class:!0});var K=p(D);I=h(K,"INPUT",{list:!0,class:!0,placeholder:!0}),M=x(K),T=h(K,"DATALIST",{id:!0});var X=p(T);for(let J=0;J<z.length;J+=1)z[J].l(X);X.forEach(c),K.forEach(c),Z.forEach(c),q.forEach(c),this.h()},h(){i(t,"class","mb-2.5 text-sm font-medium"),i(f,"list","voice-list"),i(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(f,"placeholder","Select a voice"),i(_,"id","voice-list"),i(u,"class","flex-1"),i(o,"class","flex w-full"),i(w,"class","mb-2.5 text-sm font-medium"),i(I,"list","model-list"),i(I,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(I,"placeholder","Select a model"),i(T,"id","model-list"),i(D,"class","flex-1"),i(b,"class","flex w-full")},m(A,O){U(A,e,O),n(e,t),n(t,r),n(e,a),n(e,o),n(o,u),n(u,f),_e(f,s[3]),n(u,v),n(u,_);for(let L=0;L<P.length;L+=1)P[L]&&P[L].m(_,null);U(A,g,O),U(A,m,O),n(m,w),n(w,E),n(m,y),n(m,b),n(b,D),n(D,I),_e(I,s[15]),n(D,M),n(D,T);for(let L=0;L<z.length;L+=1)z[L]&&z[L].m(T,null);S||(V=[ee(f,"input",s[29]),ee(I,"input",s[30])],S=!0)},p(A,O){if(O[0]&16384&&l!==(l=A[14].t("Set Voice")+"")&&R(r,l),O[0]&8&&f.value!==A[3]&&_e(f,A[3]),O[0]&1024){j=Ye(A[10]);let L;for(L=0;L<j.length;L+=1){const G=qr(A,j,L);P[L]?P[L].p(G,O):(P[L]=Fr(G),P[L].c(),P[L].m(_,null))}for(;L<P.length;L+=1)P[L].d(1);P.length=j.length}if(O[0]&16384&&k!==(k=A[14].t("Set Model")+"")&&R(E,k),O[0]&32768&&I.value!==A[15]&&_e(I,A[15]),O[0]&4096){$=Ye(A[12]);let L;for(L=0;L<$.length;L+=1){const G=Wr(A,$,L);z[L]?z[L].p(G,O):(z[L]=Xr(G),z[L].c(),z[L].m(T,null))}for(;L<z.length;L+=1)z[L].d(1);z.length=$.length}},d(A){A&&(c(e),c(g),c(m)),xt(P,A),xt(z,A),S=!1,tt(V)}}}function yi(s){let e,t,l=s[14].t("Set Voice")+"",r,a,o,u,f,v,_=s[14].t("Default")+"",g,m,w,k,E=Ye(s[10].filter(s[27])),y=[];for(let b=0;b<E.length;b+=1)y[b]=Jr(Gr(s,E,b));return{c(){e=d("div"),t=d("div"),r=N(l),a=C(),o=d("div"),u=d("div"),f=d("select"),v=d("option"),g=N(_);for(let b=0;b<y.length;b+=1)y[b].c();this.h()},l(b){e=h(b,"DIV",{});var D=p(e);t=h(D,"DIV",{class:!0});var I=p(t);r=B(I,l),I.forEach(c),a=x(D),o=h(D,"DIV",{class:!0});var M=p(o);u=h(M,"DIV",{class:!0});var T=p(u);f=h(T,"SELECT",{class:!0});var S=p(f);v=h(S,"OPTION",{});var V=p(v);g=B(V,_),V.forEach(c);for(let j=0;j<y.length;j+=1)y[j].l(S);S.forEach(c),T.forEach(c),M.forEach(c),D.forEach(c),this.h()},h(){i(t,"class","mb-2.5 text-sm font-medium"),v.__value="",_e(v,v.__value),v.selected=m=s[11]!=="",i(f,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),s[11]===void 0&&Cl(()=>s[28].call(f)),i(u,"class","flex-1"),i(o,"class","flex w-full")},m(b,D){U(b,e,D),n(e,t),n(t,r),n(e,a),n(e,o),n(o,u),n(u,f),n(f,v),n(v,g);for(let I=0;I<y.length;I+=1)y[I]&&y[I].m(f,null);Yt(f,s[11],!0),w||(k=ee(f,"change",s[28]),w=!0)},p(b,D){if(D[0]&16384&&l!==(l=b[14].t("Set Voice")+"")&&R(r,l),D[0]&16384&&_!==(_=b[14].t("Default")+"")&&R(g,_),D[0]&3328&&m!==(m=b[11]!=="")&&(v.selected=m),D[0]&3328){E=Ye(b[10].filter(b[27]));let I;for(I=0;I<E.length;I+=1){const M=Gr(b,E,I);y[I]?y[I].p(M,D):(y[I]=Jr(M),y[I].c(),y[I].m(f,null))}for(;I<y.length;I+=1)y[I].d(1);y.length=E.length}D[0]&3328&&Yt(f,b[11])},d(b){b&&c(e),xt(y,b),w=!1,k()}}}function Fr(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),p(e).forEach(c),this.h()},h(){e.__value=t=s[38].name,_e(e,e.__value)},m(l,r){U(l,e,r)},p(l,r){r[0]&1024&&t!==(t=l[38].name)&&(e.__value=t,_e(e,e.__value))},d(l){l&&c(e)}}}function Xr(s){let e,t;return{c(){e=d("option"),this.h()},l(l){e=h(l,"OPTION",{}),p(e).forEach(c),this.h()},h(){e.__value=t=s[15].name,_e(e,e.__value)},m(l,r){U(l,e,r)},p(l,r){r[0]&4096&&t!==(t=l[15].name)&&(e.__value=t,_e(e,e.__value))},d(l){l&&c(e)}}}function Jr(s){let e,t=s[38].name+"",l,r,a;return{c(){e=d("option"),l=N(t),this.h()},l(o){e=h(o,"OPTION",{class:!0});var u=p(e);l=B(u,t),u.forEach(c),this.h()},h(){e.__value=r=s[38].name,_e(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=a=s[11]===s[38].name},m(o,u){U(o,e,u),n(e,l)},p(o,u){u[0]&1280&&t!==(t=o[38].name+"")&&R(l,t),u[0]&1280&&r!==(r=o[38].name)&&(e.__value=r,_e(e,e.__value)),u[0]&3328&&a!==(a=o[11]===o[38].name)&&(e.selected=a)},d(o){o&&c(e)}}}function Ei(s){let e,t,l,r,a=s[14].t("STT Settings")+"",o,u,f,v,_=s[14].t("Conversation Mode")+"",g,m,w,k,E,y,b=s[14].t("Auto-send input after 3 sec.")+"",D,I,M,T,S,V,j=s[14].t("TTS Settings")+"",P,$,z,A,O,L=s[14].t("Auto-playback response")+"",G,H,W,q,Y,Z,K,X,J,ue=s[14].t("Save")+"",fe,pe,ge;function Ee(de,Te){return de[5]===!0?pi:_i}let Le=Ee(s),be=Le(s);function le(de,Te){return de[6]===!0?gi:mi}let he=le(s),me=he(s),ae=s[13].role==="admin"&&Yr(s);function oe(de,Te){return de[7]===!0?wi:bi}let ce=oe(s),ne=ce(s);function ve(de,Te){if(de[9]==="")return yi;if(de[9]==="openai")return ki}let ie=ve(s),Me=ie&&ie(s);return{c(){e=d("form"),t=d("div"),l=d("div"),r=d("div"),o=N(a),u=C(),f=d("div"),v=d("div"),g=N(_),m=C(),w=d("button"),be.c(),k=C(),E=d("div"),y=d("div"),D=N(b),I=C(),M=d("button"),me.c(),T=C(),S=d("div"),V=d("div"),P=N(j),$=C(),ae&&ae.c(),z=C(),A=d("div"),O=d("div"),G=N(L),H=C(),W=d("button"),ne.c(),q=C(),Y=d("hr"),Z=C(),Me&&Me.c(),K=C(),X=d("div"),J=d("button"),fe=N(ue),this.h()},l(de){e=h(de,"FORM",{class:!0});var Te=p(e);t=h(Te,"DIV",{class:!0});var Q=p(t);l=h(Q,"DIV",{});var F=p(l);r=h(F,"DIV",{class:!0});var ke=p(r);o=B(ke,a),ke.forEach(c),u=x(F),f=h(F,"DIV",{class:!0});var Ie=p(f);v=h(Ie,"DIV",{class:!0});var He=p(v);g=B(He,_),He.forEach(c),m=x(Ie),w=h(Ie,"BUTTON",{class:!0,type:!0});var Ae=p(w);be.l(Ae),Ae.forEach(c),Ie.forEach(c),k=x(F),E=h(F,"DIV",{class:!0});var je=p(E);y=h(je,"DIV",{class:!0});var Qe=p(y);D=B(Qe,b),Qe.forEach(c),I=x(je),M=h(je,"BUTTON",{class:!0,type:!0});var ze=p(M);me.l(ze),ze.forEach(c),je.forEach(c),F.forEach(c),T=x(Q),S=h(Q,"DIV",{});var Re=p(S);V=h(Re,"DIV",{class:!0});var We=p(V);P=B(We,j),We.forEach(c),$=x(Re),ae&&ae.l(Re),z=x(Re),A=h(Re,"DIV",{class:!0});var Ne=p(A);O=h(Ne,"DIV",{class:!0});var Je=p(O);G=B(Je,L),Je.forEach(c),H=x(Ne),W=h(Ne,"BUTTON",{class:!0,type:!0});var It=p(W);ne.l(It),It.forEach(c),Ne.forEach(c),Re.forEach(c),q=x(Q),Y=h(Q,"HR",{class:!0}),Z=x(Q),Me&&Me.l(Q),Q.forEach(c),K=x(Te),X=h(Te,"DIV",{class:!0});var qe=p(X);J=h(qe,"BUTTON",{class:!0,type:!0});var mt=p(J);fe=B(mt,ue),mt.forEach(c),qe.forEach(c),Te.forEach(c),this.h()},h(){i(r,"class","mb-1 text-sm font-medium"),i(v,"class","self-center text-xs font-medium"),i(w,"class","p-1 px-3 text-xs flex rounded transition"),i(w,"type","button"),i(f,"class","py-0.5 flex w-full justify-between"),i(y,"class","self-center text-xs font-medium"),i(M,"class","p-1 px-3 text-xs flex rounded transition"),i(M,"type","button"),i(E,"class","py-0.5 flex w-full justify-between"),i(V,"class","mb-1 text-sm font-medium"),i(O,"class","self-center text-xs font-medium"),i(W,"class","p-1 px-3 text-xs flex rounded transition"),i(W,"type","button"),i(A,"class","py-0.5 flex w-full justify-between"),i(Y,"class","dark:border-gray-700"),i(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),i(J,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),i(J,"type","submit"),i(X,"class","flex justify-end text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(de,Te){U(de,e,Te),n(e,t),n(t,l),n(l,r),n(r,o),n(l,u),n(l,f),n(f,v),n(v,g),n(f,m),n(f,w),be.m(w,null),n(l,k),n(l,E),n(E,y),n(y,D),n(E,I),n(E,M),me.m(M,null),n(t,T),n(t,S),n(S,V),n(V,P),n(S,$),ae&&ae.m(S,null),n(S,z),n(S,A),n(A,O),n(O,G),n(A,H),n(A,W),ne.m(W,null),n(t,q),n(t,Y),n(t,Z),Me&&Me.m(t,null),n(e,K),n(e,X),n(X,J),n(J,fe),pe||(ge=[ee(w,"click",s[22]),ee(M,"click",s[23]),ee(W,"click",s[26]),ee(e,"submit",Wl(s[31]))],pe=!0)},p(de,Te){Te[0]&16384&&a!==(a=de[14].t("STT Settings")+"")&&R(o,a),Te[0]&16384&&_!==(_=de[14].t("Conversation Mode")+"")&&R(g,_),Le===(Le=Ee(de))&&be?be.p(de,Te):(be.d(1),be=Le(de),be&&(be.c(),be.m(w,null))),Te[0]&16384&&b!==(b=de[14].t("Auto-send input after 3 sec.")+"")&&R(D,b),he===(he=le(de))&&me?me.p(de,Te):(me.d(1),me=he(de),me&&(me.c(),me.m(M,null))),Te[0]&16384&&j!==(j=de[14].t("TTS Settings")+"")&&R(P,j),de[13].role==="admin"?ae?ae.p(de,Te):(ae=Yr(de),ae.c(),ae.m(S,z)):ae&&(ae.d(1),ae=null),Te[0]&16384&&L!==(L=de[14].t("Auto-playback response")+"")&&R(G,L),ce===(ce=oe(de))&&ne?ne.p(de,Te):(ne.d(1),ne=ce(de),ne&&(ne.c(),ne.m(W,null))),ie===(ie=ve(de))&&Me?Me.p(de,Te):(Me&&Me.d(1),Me=ie&&ie(de),Me&&(Me.c(),Me.m(t,null))),Te[0]&16384&&ue!==(ue=de[14].t("Save")+"")&&R(fe,ue)},i:Oe,o:Oe,d(de){de&&c(e),be.d(),me.d(),ae&&ae.d(),ne.d(),Me&&Me.d(),pe=!1,tt(ge)}}}function Ii(s,e,t){let l,r,a;Pe(s,Dl,J=>t(13,l=J)),Pe(s,dl,J=>t(32,r=J));const o=Tl(),u=Et("i18n");Pe(s,u,J=>t(14,a=J));let{saveSettings:f}=e,v="",_="",g="",m="",w=!1,k=!1,E=!1,y=!1,b="",D=[],I="",M=[],T="";const S=()=>{t(10,D=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},V=()=>{t(12,M=[{name:"tts-1"},{name:"tts-1-hd"}])},j=()=>{const J=setInterval(async()=>{t(10,D=await speechSynthesis.getVoices()),D.length>0&&clearInterval(J)},100)},P=async()=>{t(5,w=!w),w&&(t(7,E=!0),t(6,k=!0)),f({conversationMode:w,responseAutoPlayback:E,speechAutoSend:k})},$=async()=>{t(7,E=!E),f({responseAutoPlayback:E})},z=async()=>{t(6,k=!k),f({speechAutoSend:k})},A=async()=>{if(b==="openai"){const J=await qn(localStorage.token,{url:v,key:_,model:T,speaker:g});J&&(t(1,v=J.OPENAI_API_BASE_URL),t(2,_=J.OPENAI_API_KEY),t(15,T=J.OPENAI_API_MODEL),t(3,g=J.OPENAI_API_VOICE))}};Xt(async()=>{var J,ue,fe,pe,ge;if(t(5,w=r.conversationMode??!1),t(6,k=r.speechAutoSend??!1),t(7,E=r.responseAutoPlayback??!1),t(4,m=((J=r==null?void 0:r.audio)==null?void 0:J.STTEngine)??""),t(9,b=((ue=r==null?void 0:r.audio)==null?void 0:ue.TTSEngine)??""),t(8,y=((fe=r.audio)==null?void 0:fe.nonLocalVoices)??!1),t(11,I=((pe=r==null?void 0:r.audio)==null?void 0:pe.speaker)??""),t(15,T=((ge=r==null?void 0:r.audio)==null?void 0:ge.model)??""),b==="openai"?(S(),V()):j(),l.role==="admin"){const Ee=await Wn(localStorage.token);Ee&&(t(1,v=Ee.OPENAI_API_BASE_URL),t(2,_=Ee.OPENAI_API_KEY),t(15,T=Ee.OPENAI_API_MODEL),t(3,g=Ee.OPENAI_API_VOICE),b==="openai"&&t(11,I=g))}});const O=()=>{P()},L=()=>{z()};function G(){v=this.value,t(1,v)}function H(){_=this.value,t(2,_)}const W=()=>{$()},q=J=>y||J.localService===!0;function Y(){I=xl(this),t(11,I),t(10,D),t(8,y)}function Z(){g=this.value,t(3,g)}function K(){T=this.value,t(15,T)}const X=async()=>{l.role==="admin"&&await A(),f({audio:{STTEngine:m!==""?m:void 0,TTSEngine:b!==""?b:void 0,speaker:(b==="openai"?g:I)!==""?b==="openai"?g:I:void 0,model:T!==""?T:void 0,nonLocalVoices:y}}),o("save")};return s.$$set=J=>{"saveSettings"in J&&t(0,f=J.saveSettings)},[f,v,_,g,m,w,k,E,y,b,D,I,M,l,a,T,o,u,P,$,z,A,O,L,G,H,W,q,Y,Z,K,X]}class Di extends ft{constructor(e){super(),dt(this,e,Ii,Ei,ut,{saveSettings:0},null,[-1,-1])}}function Ti(s){let e,t,l,r,a,o=s[5].t("Off")+"",u;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=C(),a=d("span"),u=N(o),this.h()},l(f){e=rt(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var v=p(e);t=rt(v,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(c),l=rt(v,"path",{d:!0}),p(l).forEach(c),v.forEach(c),r=x(f),a=h(f,"SPAN",{class:!0});var _=p(a);u=B(_,o),_.forEach(c),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),i(t,"clip-rule","evenodd"),i(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 16 16"),i(e,"fill","currentColor"),i(e,"class","w-4 h-4"),i(a,"class","ml-2 self-center")},m(f,v){U(f,e,v),n(e,t),n(e,l),U(f,r,v),U(f,a,v),n(a,u)},p(f,v){v&32&&o!==(o=f[5].t("Off")+"")&&R(u,o)},d(f){f&&(c(e),c(r),c(a))}}}function Vi(s){let e,t,l,r,a,o=s[5].t("On")+"",u;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=C(),a=d("span"),u=N(o),this.h()},l(f){e=rt(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var v=p(e);t=rt(v,"path",{d:!0}),p(t).forEach(c),l=rt(v,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(l).forEach(c),v.forEach(c),r=x(f),a=h(f,"SPAN",{class:!0});var _=p(a);u=B(_,o),_.forEach(c),this.h()},h(){i(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),i(l,"fill-rule","evenodd"),i(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),i(l,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 16 16"),i(e,"fill","currentColor"),i(e,"class","w-4 h-4"),i(a,"class","ml-2 self-center")},m(f,v){U(f,e,v),n(e,t),n(e,l),U(f,r,v),U(f,a,v),n(a,u)},p(f,v){v&32&&o!==(o=f[5].t("On")+"")&&R(u,o)},d(f){f&&(c(e),c(r),c(a))}}}function Ci(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"></path><path fill-rule="evenodd" d="m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>',r,a,o=s[5].t("Archive All Chats")+"",u,f,v;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,r=C(),a=d("div"),u=N(o),this.h()},l(_){e=h(_,"BUTTON",{class:!0});var g=p(e);t=h(g,"DIV",{class:!0,"data-svelte-h":!0}),ye(t)!=="svelte-1duozwn"&&(t.innerHTML=l),r=x(g),a=h(g,"DIV",{class:!0});var m=p(a);u=B(m,o),m.forEach(c),g.forEach(c),this.h()},h(){i(t,"class","self-center mr-3"),i(a,"class","self-center text-sm font-medium"),i(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(_,g){U(_,e,g),n(e,t),n(e,r),n(e,a),n(a,u),f||(v=ee(e,"click",s[19]),f=!0)},p(_,g){g&32&&o!==(o=_[5].t("Archive All Chats")+"")&&R(u,o)},d(_){_&&c(e),f=!1,v()}}}function xi(s){let e,t,l,r,a,o,u,f=s[5].t("Are you sure?")+"",v,_,g,m,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',k,E,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,D;return{c(){e=d("div"),t=d("div"),l=st("svg"),r=st("path"),a=st("path"),o=C(),u=d("span"),v=N(f),_=C(),g=d("div"),m=d("button"),m.innerHTML=w,k=C(),E=d("button"),E.innerHTML=y,this.h()},l(I){e=h(I,"DIV",{class:!0});var M=p(e);t=h(M,"DIV",{class:!0});var T=p(t);l=rt(T,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var S=p(l);r=rt(S,"path",{d:!0}),p(r).forEach(c),a=rt(S,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(a).forEach(c),S.forEach(c),o=x(T),u=h(T,"SPAN",{});var V=p(u);v=B(V,f),V.forEach(c),T.forEach(c),_=x(M),g=h(M,"DIV",{class:!0});var j=p(g);m=h(j,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(m)!=="svelte-88c061"&&(m.innerHTML=w),k=x(j),E=h(j,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(E)!=="svelte-1601eo8"&&(E.innerHTML=y),j.forEach(c),M.forEach(c),this.h()},h(){i(r,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),i(a,"fill-rule","evenodd"),i(a,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),i(a,"clip-rule","evenodd"),i(l,"xmlns","http://www.w3.org/2000/svg"),i(l,"viewBox","0 0 16 16"),i(l,"fill","currentColor"),i(l,"class","w-4 h-4"),i(t,"class","flex items-center space-x-3"),i(m,"class","hover:text-white transition"),i(E,"class","hover:text-white transition"),i(g,"class","flex space-x-1.5 items-center"),i(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(I,M){U(I,e,M),n(e,t),n(t,l),n(l,r),n(l,a),n(t,o),n(t,u),n(u,v),n(e,_),n(e,g),n(g,m),n(g,k),n(g,E),b||(D=[ee(m,"click",s[17]),ee(E,"click",s[18])],b=!0)},p(I,M){M&32&&f!==(f=I[5].t("Are you sure?")+"")&&R(v,f)},d(I){I&&c(e),b=!1,tt(D)}}}function Si(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg>',r,a,o=s[5].t("Delete All Chats")+"",u,f,v;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,r=C(),a=d("div"),u=N(o),this.h()},l(_){e=h(_,"BUTTON",{class:!0});var g=p(e);t=h(g,"DIV",{class:!0,"data-svelte-h":!0}),ye(t)!=="svelte-15aqp4h"&&(t.innerHTML=l),r=x(g),a=h(g,"DIV",{class:!0});var m=p(a);u=B(m,o),m.forEach(c),g.forEach(c),this.h()},h(){i(t,"class","self-center mr-3"),i(a,"class","self-center text-sm font-medium"),i(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(_,g){U(_,e,g),n(e,t),n(e,r),n(e,a),n(a,u),f||(v=ee(e,"click",s[22]),f=!0)},p(_,g){g&32&&o!==(o=_[5].t("Delete All Chats")+"")&&R(u,o)},d(_){_&&c(e),f=!1,v()}}}function Mi(s){let e,t,l,r,a,o,u,f=s[5].t("Are you sure?")+"",v,_,g,m,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',k,E,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,D;return{c(){e=d("div"),t=d("div"),l=st("svg"),r=st("path"),a=st("path"),o=C(),u=d("span"),v=N(f),_=C(),g=d("div"),m=d("button"),m.innerHTML=w,k=C(),E=d("button"),E.innerHTML=y,this.h()},l(I){e=h(I,"DIV",{class:!0});var M=p(e);t=h(M,"DIV",{class:!0});var T=p(t);l=rt(T,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var S=p(l);r=rt(S,"path",{d:!0}),p(r).forEach(c),a=rt(S,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(a).forEach(c),S.forEach(c),o=x(T),u=h(T,"SPAN",{});var V=p(u);v=B(V,f),V.forEach(c),T.forEach(c),_=x(M),g=h(M,"DIV",{class:!0});var j=p(g);m=h(j,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(m)!=="svelte-19nv6qp"&&(m.innerHTML=w),k=x(j),E=h(j,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(E)!=="svelte-ekcykx"&&(E.innerHTML=y),j.forEach(c),M.forEach(c),this.h()},h(){i(r,"d","M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"),i(a,"fill-rule","evenodd"),i(a,"d","M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z"),i(a,"clip-rule","evenodd"),i(l,"xmlns","http://www.w3.org/2000/svg"),i(l,"viewBox","0 0 16 16"),i(l,"fill","currentColor"),i(l,"class","w-4 h-4"),i(t,"class","flex items-center space-x-3"),i(m,"class","hover:text-white transition"),i(E,"class","hover:text-white transition"),i(g,"class","flex space-x-1.5 items-center"),i(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(I,M){U(I,e,M),n(e,t),n(t,l),n(l,r),n(l,a),n(t,o),n(t,u),n(u,v),n(e,_),n(e,g),n(g,m),n(g,k),n(g,E),b||(D=[ee(m,"click",s[20]),ee(E,"click",s[21])],b=!0)},p(I,M){M&32&&f!==(f=I[5].t("Are you sure?")+"")&&R(v,f)},d(I){I&&c(e),b=!1,tt(D)}}}function Ai(s){let e,t,l,r,a,o=s[5].t("Chat History")+"",u,f,v,_,g,m=s[5].t("This setting does not sync across browsers or devices.")+"",w,k,E,y,b,D,I,M,T,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',V,j,P=s[5].t("Import Chats")+"",$,z,A,O,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',G,H,W=s[5].t("Export Chats")+"",q,Y,Z,K,X,J,ue,fe;function pe(oe,ce){return oe[1]===!0?Vi:Ti}let ge=pe(s),Ee=ge(s);function Le(oe,ce){return oe[2]?xi:Ci}let be=Le(s),le=be(s);function he(oe,ce){return oe[3]?Mi:Si}let me=he(s),ae=me(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),a=d("div"),u=N(o),f=C(),v=d("button"),Ee.c(),_=C(),g=d("div"),w=N(m),k=C(),E=d("hr"),y=C(),b=d("div"),D=d("input"),I=C(),M=d("button"),T=d("div"),T.innerHTML=S,V=C(),j=d("div"),$=N(P),z=C(),A=d("button"),O=d("div"),O.innerHTML=L,G=C(),H=d("div"),q=N(W),Y=C(),Z=d("hr"),K=C(),X=d("div"),le.c(),J=C(),ae.c(),this.h()},l(oe){e=h(oe,"DIV",{class:!0});var ce=p(e);t=h(ce,"DIV",{class:!0});var ne=p(t);l=h(ne,"DIV",{class:!0});var ve=p(l);r=h(ve,"DIV",{class:!0});var ie=p(r);a=h(ie,"DIV",{class:!0});var Me=p(a);u=B(Me,o),Me.forEach(c),f=x(ie),v=h(ie,"BUTTON",{class:!0,type:!0});var de=p(v);Ee.l(de),de.forEach(c),ie.forEach(c),_=x(ve),g=h(ve,"DIV",{class:!0});var Te=p(g);w=B(Te,m),Te.forEach(c),ve.forEach(c),k=x(ne),E=h(ne,"HR",{class:!0}),y=x(ne),b=h(ne,"DIV",{class:!0});var Q=p(b);D=h(Q,"INPUT",{id:!0,type:!0,accept:!0}),I=x(Q),M=h(Q,"BUTTON",{class:!0});var F=p(M);T=h(F,"DIV",{class:!0,"data-svelte-h":!0}),ye(T)!=="svelte-135keqh"&&(T.innerHTML=S),V=x(F),j=h(F,"DIV",{class:!0});var ke=p(j);$=B(ke,P),ke.forEach(c),F.forEach(c),z=x(Q),A=h(Q,"BUTTON",{class:!0});var Ie=p(A);O=h(Ie,"DIV",{class:!0,"data-svelte-h":!0}),ye(O)!=="svelte-7e4f4y"&&(O.innerHTML=L),G=x(Ie),H=h(Ie,"DIV",{class:!0});var He=p(H);q=B(He,W),He.forEach(c),Ie.forEach(c),Q.forEach(c),Y=x(ne),Z=h(ne,"HR",{class:!0}),K=x(ne),X=h(ne,"DIV",{class:!0});var Ae=p(X);le.l(Ae),J=x(Ae),ae.l(Ae),Ae.forEach(c),ne.forEach(c),ce.forEach(c),this.h()},h(){i(a,"class","self-center text-sm font-medium"),i(v,"class","p-1 px-3 text-xs flex rounded transition"),i(v,"type","button"),i(r,"class","flex w-full justify-between"),i(g,"class","text-xs text-left w-full font-medium mt-0.5"),i(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),i(E,"class","dark:border-gray-700"),i(D,"id","chat-import-input"),i(D,"type","file"),i(D,"accept",".json"),D.hidden=!0,i(T,"class","self-center mr-3"),i(j,"class","self-center text-sm font-medium"),i(M,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),i(O,"class","self-center mr-3"),i(H,"class","self-center text-sm font-medium"),i(A,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),i(b,"class","flex flex-col"),i(Z,"class","dark:border-gray-700"),i(X,"class","flex flex-col"),i(t,"class","space-y-2"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm max-h-[22rem]")},m(oe,ce){U(oe,e,ce),n(e,t),n(t,l),n(l,r),n(r,a),n(a,u),n(r,f),n(r,v),Ee.m(v,null),n(l,_),n(l,g),n(g,w),n(t,k),n(t,E),n(t,y),n(t,b),n(b,D),s[13](D),n(b,I),n(b,M),n(M,T),n(M,V),n(M,j),n(j,$),n(b,z),n(b,A),n(A,O),n(A,G),n(A,H),n(H,q),n(t,Y),n(t,Z),n(t,K),n(t,X),le.m(X,null),n(X,J),ae.m(X,null),ue||(fe=[ee(v,"click",s[12]),ee(D,"change",s[14]),ee(M,"click",s[15]),ee(A,"click",s[16])],ue=!0)},p(oe,[ce]){ce&32&&o!==(o=oe[5].t("Chat History")+"")&&R(u,o),ge===(ge=pe(oe))&&Ee?Ee.p(oe,ce):(Ee.d(1),Ee=ge(oe),Ee&&(Ee.c(),Ee.m(v,null))),ce&32&&m!==(m=oe[5].t("This setting does not sync across browsers or devices.")+"")&&R(w,m),ce&32&&P!==(P=oe[5].t("Import Chats")+"")&&R($,P),ce&32&&W!==(W=oe[5].t("Export Chats")+"")&&R(q,W),be===(be=Le(oe))&&le?le.p(oe,ce):(le.d(1),le=be(oe),le&&(le.c(),le.m(X,J))),me===(me=he(oe))&&ae?ae.p(oe,ce):(ae.d(1),ae=me(oe),ae&&(ae.c(),ae.m(X,null)))},i:Oe,o:Oe,d(oe){oe&&c(e),Ee.d(),s[13](null),le.d(),ae.d(),ue=!1,tt(fe)}}}function Li(s,e,t){let l,r;Pe(s,dl,O=>t(23,l=O));const{saveAs:a}=As,o=Et("i18n");Pe(s,o,O=>t(5,r=O));let{saveSettings:u}=e,f=!0,v,_=!1,g=!1,m;const w=async O=>{for(const L of O)console.log(L),L.chat?await ur(localStorage.token,L.chat):await ur(localStorage.token,L);await ol.set(await fl(localStorage.token))},k=async()=>{let O=new Blob([JSON.stringify(await un(localStorage.token))],{type:"application/json"});a(O,`chat-export-${Date.now()}.json`)},E=async()=>{await zl("/"),await fn(localStorage.token).catch(O=>{Ze.error(O)}),await ol.set(await fl(localStorage.token))},y=async()=>{await zl("/"),await dn(localStorage.token).catch(O=>{Ze.error(O)}),await ol.set(await fl(localStorage.token))},b=async()=>{t(1,f=!f),console.log(f),f===!1&&await zl("/"),u({saveChatHistory:f})};Xt(async()=>{t(1,f=l.saveChatHistory??!0)});const D=()=>{b()};function I(O){Tt[O?"unshift":"push"](()=>{m=O,t(4,m)})}function M(){v=this.files,t(0,v)}const T=()=>{m.click()},S=()=>{k()},V=()=>{E(),t(2,_=!1)},j=()=>{t(2,_=!1)},P=()=>{t(2,_=!0)},$=()=>{y(),t(3,g=!1)},z=()=>{t(3,g=!1)},A=()=>{t(3,g=!0)};return s.$$set=O=>{"saveSettings"in O&&t(11,u=O.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&v){console.log(v);let O=new FileReader;O.onload=L=>{let G=JSON.parse(L.target.result);if(console.log(G),On(G)=="openai")try{G=Hn(G)}catch(H){console.log("Unable to import chats:",H)}w(G)},v.length>0&&O.readAsText(v[0])}},[v,f,_,g,m,r,o,k,E,y,b,u,D,I,M,T,S,V,j,P,$,z,A]}class Oi extends ft{constructor(e){super(),dt(this,e,Li,Ai,ut,{saveSettings:11})}}function Qr(s,e,t){const l=s.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function ea(s,e,t){const l=s.slice();return l[29]=e[t],l[32]=e,l[31]=t,l}function Hi(s){let e,t,l,r;return l=new Ls({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),Ve(l.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=p(e);t=h(o,"DIV",{class:!0});var u=p(t);Ce(l.$$.fragment,u),u.forEach(c),o.forEach(c),this.h()},h(){i(t,"class","my-auto"),i(e,"class","flex h-full justify-center")},m(a,o){U(a,e,o),n(e,t),xe(l,t,null),r=!0},p:Oe,i(a){r||(te(l.$$.fragment,a),r=!0)},o(a){re(l.$$.fragment,a),r=!1},d(a){a&&c(e),Se(l)}}}function Ni(s){let e,t,l,r,a=s[6].t("OpenAI API")+"",o,u,f,v,_,g,m,w,k,E,y,b,D=s[6].t("Ollama API")+"",I,M,T,S,V,j,P;function $(H){s[14](H)}let z={};s[4]!==void 0&&(z.state=s[4]),v=new Ds({props:z}),Tt.push(()=>Ut(v,"state",$)),v.$on("change",s[15]);let A=s[4]&&ta(s);function O(H){s[21](H)}let L={};s[5]!==void 0&&(L.state=s[5]),S=new Ds({props:L}),Tt.push(()=>Ut(S,"state",O)),S.$on("change",s[22]);let G=s[5]&&ra(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),o=N(a),u=C(),f=d("div"),Ve(v.$$.fragment),g=C(),A&&A.c(),m=C(),w=d("hr"),k=C(),E=d("div"),y=d("div"),b=d("div"),I=N(D),M=C(),T=d("div"),Ve(S.$$.fragment),j=C(),G&&G.c(),this.h()},l(H){e=h(H,"DIV",{class:!0});var W=p(e);t=h(W,"DIV",{class:!0});var q=p(t);l=h(q,"DIV",{class:!0});var Y=p(l);r=h(Y,"DIV",{class:!0});var Z=p(r);o=B(Z,a),Z.forEach(c),u=x(Y),f=h(Y,"DIV",{class:!0});var K=p(f);Ce(v.$$.fragment,K),K.forEach(c),Y.forEach(c),g=x(q),A&&A.l(q),q.forEach(c),W.forEach(c),m=x(H),w=h(H,"HR",{class:!0}),k=x(H),E=h(H,"DIV",{class:!0});var X=p(E);y=h(X,"DIV",{class:!0});var J=p(y);b=h(J,"DIV",{class:!0});var ue=p(b);I=B(ue,D),ue.forEach(c),M=x(J),T=h(J,"DIV",{class:!0});var fe=p(T);Ce(S.$$.fragment,fe),fe.forEach(c),J.forEach(c),j=x(X),G&&G.l(X),X.forEach(c),this.h()},h(){i(r,"class","font-medium"),i(f,"class","mt-1"),i(l,"class","flex justify-between items-center text-sm"),i(t,"class","mt-2 space-y-2 pr-1.5"),i(e,"class","space-y-3"),i(w,"class","dark:border-gray-700"),i(b,"class","font-medium"),i(T,"class","mt-1"),i(y,"class","flex justify-between items-center text-sm"),i(E,"class","pr-1.5 space-y-2")},m(H,W){U(H,e,W),n(e,t),n(t,l),n(l,r),n(r,o),n(l,u),n(l,f),xe(v,f,null),n(t,g),A&&A.m(t,null),U(H,m,W),U(H,w,W),U(H,k,W),U(H,E,W),n(E,y),n(y,b),n(b,I),n(y,M),n(y,T),xe(S,T,null),n(E,j),G&&G.m(E,null),P=!0},p(H,W){(!P||W[0]&64)&&a!==(a=H[6].t("OpenAI API")+"")&&R(o,a);const q={};!_&&W[0]&16&&(_=!0,q.state=H[4],Bt(()=>_=!1)),v.$set(q),H[4]?A?(A.p(H,W),W[0]&16&&te(A,1)):(A=ta(H),A.c(),te(A,1),A.m(t,null)):A&&(Lt(),re(A,1,1,()=>{A=null}),Ot()),(!P||W[0]&64)&&D!==(D=H[6].t("Ollama API")+"")&&R(I,D);const Y={};!V&&W[0]&32&&(V=!0,Y.state=H[5],Bt(()=>V=!1)),S.$set(Y),H[5]?G?(G.p(H,W),W[0]&32&&te(G,1)):(G=ra(H),G.c(),te(G,1),G.m(E,null)):G&&(Lt(),re(G,1,1,()=>{G=null}),Ot())},i(H){P||(te(v.$$.fragment,H),te(A),te(S.$$.fragment,H),te(G),P=!0)},o(H){re(v.$$.fragment,H),re(A),re(S.$$.fragment,H),re(G),P=!1},d(H){H&&(c(e),c(m),c(w),c(k),c(E)),Se(v),A&&A.d(),Se(S),G&&G.d()}}}function ta(s){let e,t,l=Ye(s[2]),r=[];for(let o=0;o<l.length;o+=1)r[o]=sa(ea(s,l,o));const a=o=>re(r[o],1,1,()=>{r[o]=null});return{c(){e=d("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=h(o,"DIV",{class:!0});var u=p(e);for(let f=0;f<r.length;f+=1)r[f].l(u);u.forEach(c),this.h()},h(){i(e,"class","flex flex-col gap-1")},m(o,u){U(o,e,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);t=!0},p(o,u){if(u[0]&590){l=Ye(o[2]);let f;for(f=0;f<l.length;f+=1){const v=ea(o,l,f);r[f]?(r[f].p(v,u),te(r[f],1)):(r[f]=sa(v),r[f].c(),te(r[f],1),r[f].m(e,null))}for(Lt(),f=l.length;f<r.length;f+=1)a(f);Ot()}},i(o){if(!t){for(let u=0;u<l.length;u+=1)te(r[u]);t=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)re(r[u]);t=!1},d(o){o&&c(e),xt(r,o)}}}function la(s){let e,t,l;return t=new hl({props:{content:"Pipelines",$$slots:{default:[Bi]},$$scope:{ctx:s}}}),{c(){e=d("div"),Ve(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=p(e);Ce(t.$$.fragment,a),a.forEach(c),this.h()},h(){i(e,"class","absolute top-2.5 right-2.5")},m(r,a){U(r,e,a),xe(t,e,null),l=!0},i(r){l||(te(t.$$.fragment,r),l=!0)},o(r){re(t.$$.fragment,r),l=!1},d(r){r&&c(e),Se(t)}}}function Bi(s){let e,t,l,r;return{c(){e=st("svg"),t=st("path"),l=st("path"),r=st("path"),this.h()},l(a){e=rt(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var o=p(e);t=rt(o,"path",{d:!0}),p(t).forEach(c),l=rt(o,"path",{d:!0}),p(l).forEach(c),r=rt(o,"path",{d:!0}),p(r).forEach(c),o.forEach(c),this.h()},h(){i(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),i(l,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),i(r,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class","size-4")},m(a,o){U(a,e,o),n(e,t),n(e,l),n(e,r)},p:Oe,d(a){a&&c(e)}}}function Ui(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function a(){return s[19](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(e)!=="svelte-iasr25"&&(e.innerHTML=t),this.h()},h(){i(e,"class","px-1"),i(e,"type","button")},m(o,u){U(o,e,u),l||(r=ee(e,"click",a),l=!0)},p(o,u){s=o},d(o){o&&c(e),l=!1,r()}}}function Pi(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(e)!=="svelte-k8h0xz"&&(e.innerHTML=t),this.h()},h(){i(e,"class","px-1"),i(e,"type","button")},m(a,o){U(a,e,o),l||(r=ee(e,"click",s[18]),l=!0)},p:Oe,d(a){a&&c(e),l=!1,r()}}}function ji(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,r;function a(){return s[20](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1alsyga"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),i(e,"type","button")},m(o,u){U(o,e,u),l||(r=ee(e,"click",a),l=!0)},p(o,u){s=o},d(o){o&&c(e),l=!1,r()}}}function sa(s){let e,t,l,r,a,o,u,f,v,_,g,m,w,k,E,y,b,D=s[6].t("WebUI will make requests to")+"",I,M,T,S,V=s[29]+"",j,P,$,z,A,O;function L(){s[16].call(l,s[32],s[31])}let G=s[3][s[29]]&&la(s);function H(){s[17].call(v,s[31])}function W(Z,K){return Z[31]===0?Pi:Ui}let Y=W(s)(s);return E=new hl({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[ji]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("div"),l=d("input"),o=C(),G&&G.c(),u=C(),f=d("div"),v=d("input"),g=C(),m=d("div"),Y.c(),w=C(),k=d("div"),Ve(E.$$.fragment),y=C(),b=d("div"),I=N(D),M=C(),T=d("span"),S=N("'"),j=N(V),P=N("/models'"),$=C(),this.h()},l(Z){e=h(Z,"DIV",{class:!0});var K=p(e);t=h(K,"DIV",{class:!0});var X=p(t);l=h(X,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),o=x(X),G&&G.l(X),X.forEach(c),u=x(K),f=h(K,"DIV",{class:!0});var J=p(f);v=h(J,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),J.forEach(c),g=x(K),m=h(K,"DIV",{class:!0});var ue=p(m);Y.l(ue),ue.forEach(c),w=x(K),k=h(K,"DIV",{class:!0});var fe=p(k);Ce(E.$$.fragment,fe),fe.forEach(c),K.forEach(c),y=x(Z),b=h(Z,"DIV",{class:!0});var pe=p(b);I=B(pe,D),M=x(pe),T=h(pe,"SPAN",{class:!0});var ge=p(T);S=B(ge,"'"),j=B(ge,V),P=B(ge,"/models'"),ge.forEach(c),$=x(pe),pe.forEach(c),this.h()},h(){i(l,"class",r="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(l,"placeholder",a=s[6].t("API Base URL")),i(l,"autocomplete","off"),i(t,"class","flex-1 relative"),i(v,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(v,"placeholder",_=s[6].t("API Key")),i(v,"autocomplete","off"),i(f,"class","flex-1"),i(m,"class","self-center flex items-center"),i(k,"class","flex"),i(e,"class","flex w-full gap-2"),i(T,"class","text-gray-200"),i(b,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(Z,K){U(Z,e,K),n(e,t),n(t,l),_e(l,s[29]),n(t,o),G&&G.m(t,null),n(e,u),n(e,f),n(f,v),_e(v,s[1][s[31]]),n(e,g),n(e,m),Y.m(m,null),n(e,w),n(e,k),xe(E,k,null),U(Z,y,K),U(Z,b,K),n(b,I),n(b,M),n(b,T),n(T,S),n(T,j),n(T,P),n(b,$),z=!0,A||(O=[ee(l,"input",L),ee(v,"input",H)],A=!0)},p(Z,K){s=Z,(!z||K[0]&12&&r!==(r="w-full rounded-lg py-2 px-4 "+(s[3][s[29]]?"pr-8":"")+" text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"))&&i(l,"class",r),(!z||K[0]&64&&a!==(a=s[6].t("API Base URL")))&&i(l,"placeholder",a),K[0]&4&&l.value!==s[29]&&_e(l,s[29]),s[3][s[29]]?G?K[0]&12&&te(G,1):(G=la(s),G.c(),te(G,1),G.m(t,null)):G&&(Lt(),re(G,1,1,()=>{G=null}),Ot()),(!z||K[0]&64&&_!==(_=s[6].t("API Key")))&&i(v,"placeholder",_),K[0]&2&&v.value!==s[1][s[31]]&&_e(v,s[1][s[31]]),Y.p(s,K);const X={};K[1]&4&&(X.$$scope={dirty:K,ctx:s}),E.$set(X),(!z||K[0]&64)&&D!==(D=s[6].t("WebUI will make requests to")+"")&&R(I,D),(!z||K[0]&4)&&V!==(V=s[29]+"")&&R(j,V)},i(Z){z||(te(G),te(E.$$.fragment,Z),z=!0)},o(Z){re(G),re(E.$$.fragment,Z),z=!1},d(Z){Z&&(c(e),c(y),c(b)),G&&G.d(),Y.d(),Se(E),A=!1,tt(O)}}}function ra(s){let e,t,l,r,a=s[6].t("Trouble accessing Ollama?")+"",o,u,f,v=s[6].t("Click here for help.")+"",_,g,m=Ye(s[0]),w=[];for(let E=0;E<m.length;E+=1)w[E]=aa(Qr(s,m,E));const k=E=>re(w[E],1,1,()=>{w[E]=null});return{c(){e=d("div"),t=d("div");for(let E=0;E<w.length;E+=1)w[E].c();l=C(),r=d("div"),o=N(a),u=C(),f=d("a"),_=N(v),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=p(e);t=h(y,"DIV",{class:!0});var b=p(t);for(let M=0;M<w.length;M+=1)w[M].l(b);b.forEach(c),y.forEach(c),l=x(E),r=h(E,"DIV",{class:!0});var D=p(r);o=B(D,a),u=x(D),f=h(D,"A",{class:!0,href:!0,target:!0});var I=p(f);_=B(I,v),I.forEach(c),D.forEach(c),this.h()},h(){i(t,"class","flex-1 flex flex-col gap-2"),i(e,"class","flex w-full gap-1.5"),i(f,"class","text-gray-300 font-medium underline"),i(f,"href","https://github.com/open-webui/open-webui#troubleshooting"),i(f,"target","_blank"),i(r,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(E,y){U(E,e,y),n(e,t);for(let b=0;b<w.length;b+=1)w[b]&&w[b].m(t,null);U(E,l,y),U(E,r,y),n(r,o),n(r,u),n(r,f),n(f,_),g=!0},p(E,y){if(y[0]&1089){m=Ye(E[0]);let b;for(b=0;b<m.length;b+=1){const D=Qr(E,m,b);w[b]?(w[b].p(D,y),te(w[b],1)):(w[b]=aa(D),w[b].c(),te(w[b],1),w[b].m(t,null))}for(Lt(),b=m.length;b<w.length;b+=1)k(b);Ot()}(!g||y[0]&64)&&a!==(a=E[6].t("Trouble accessing Ollama?")+"")&&R(o,a),(!g||y[0]&64)&&v!==(v=E[6].t("Click here for help.")+"")&&R(_,v)},i(E){if(!g){for(let y=0;y<m.length;y+=1)te(w[y]);g=!0}},o(E){w=w.filter(Boolean);for(let y=0;y<w.length;y+=1)re(w[y]);g=!1},d(E){E&&(c(e),c(l),c(r)),xt(w,E)}}}function zi(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function a(){return s[25](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(e)!=="svelte-144k5uw"&&(e.innerHTML=t),this.h()},h(){i(e,"class","px-1"),i(e,"type","button")},m(o,u){U(o,e,u),l||(r=ee(e,"click",a),l=!0)},p(o,u){s=o},d(o){o&&c(e),l=!1,r()}}}function Ri(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(e)!=="svelte-oz6kvw"&&(e.innerHTML=t),this.h()},h(){i(e,"class","px-1"),i(e,"type","button")},m(a,o){U(a,e,o),l||(r=ee(e,"click",s[24]),l=!0)},p:Oe,d(a){a&&c(e),l=!1,r()}}}function $i(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,r;function a(){return s[26](s[31])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(e)!=="svelte-nntet2"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center p-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),i(e,"type","button")},m(o,u){U(o,e,u),l||(r=ee(e,"click",a),l=!0)},p(o,u){s=o},d(o){o&&c(e),l=!1,r()}}}function aa(s){let e,t,l,r,a,o,u,f,v,_,g,m;function w(){s[23].call(t,s[30],s[31])}function k(b,D){return b[31]===0?Ri:zi}let y=k(s)(s);return f=new hl({props:{content:"Verify connection",className:"self-start mt-0.5",$$slots:{default:[$i]},$$scope:{ctx:s}}}),{c(){e=d("div"),t=d("input"),r=C(),a=d("div"),y.c(),o=C(),u=d("div"),Ve(f.$$.fragment),v=C(),this.h()},l(b){e=h(b,"DIV",{class:!0});var D=p(e);t=h(D,"INPUT",{class:!0,placeholder:!0}),r=x(D),a=h(D,"DIV",{class:!0});var I=p(a);y.l(I),I.forEach(c),o=x(D),u=h(D,"DIV",{class:!0});var M=p(u);Ce(f.$$.fragment,M),M.forEach(c),v=x(D),D.forEach(c),this.h()},h(){i(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(t,"placeholder",l=s[6].t("Enter URL (e.g. http://localhost:11434)")),i(a,"class","self-center flex items-center"),i(u,"class","flex"),i(e,"class","flex gap-1.5")},m(b,D){U(b,e,D),n(e,t),_e(t,s[29]),n(e,r),n(e,a),y.m(a,null),n(e,o),n(e,u),xe(f,u,null),n(e,v),_=!0,g||(m=ee(t,"input",w),g=!0)},p(b,D){s=b,(!_||D[0]&64&&l!==(l=s[6].t("Enter URL (e.g. http://localhost:11434)")))&&i(t,"placeholder",l),D[0]&1&&t.value!==s[29]&&_e(t,s[29]),y.p(s,D);const I={};D[1]&4&&(I.$$scope={dirty:D,ctx:s}),f.$set(I)},i(b){_||(te(f.$$.fragment,b),_=!0)},o(b){re(f.$$.fragment,b),_=!1},d(b){b&&c(e),y.d(),Se(f),g=!1,m()}}}function Zi(s){let e,t,l,r,a,o,u,f=s[6].t("Save")+"",v,_,g,m;const w=[Ni,Hi],k=[];function E(y,b){return y[4]!==null&&y[5]!==null?0:1}return l=E(s),r=k[l]=w[l](s),{c(){e=d("form"),t=d("div"),r.c(),a=C(),o=d("div"),u=d("button"),v=N(f),this.h()},l(y){e=h(y,"FORM",{class:!0});var b=p(e);t=h(b,"DIV",{class:!0});var D=p(t);r.l(D),D.forEach(c),a=x(b),o=h(b,"DIV",{class:!0});var I=p(o);u=h(I,"BUTTON",{class:!0,type:!0});var M=p(u);v=B(M,f),M.forEach(c),I.forEach(c),b.forEach(c),this.h()},h(){i(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-[24rem] max-h-[25rem]"),i(u,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),i(u,"type","submit"),i(o,"class","flex justify-end pt-3 text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between text-sm")},m(y,b){U(y,e,b),n(e,t),k[l].m(t,null),n(e,a),n(e,o),n(o,u),n(u,v),_=!0,g||(m=ee(e,"submit",Wl(s[27])),g=!0)},p(y,b){let D=l;l=E(y),l===D?k[l].p(y,b):(Lt(),re(k[D],1,1,()=>{k[D]=null}),Ot(),r=k[l],r?r.p(y,b):(r=k[l]=w[l](y),r.c()),te(r,1),r.m(t,null)),(!_||b[0]&64)&&f!==(f=y[6].t("Save")+"")&&R(v,f)},i(y){_||(te(r),_=!0)},o(y){re(r),_=!1},d(y){y&&c(e),k[l].d(),g=!1,m()}}}function Wi(s,e,t){let l,r;Pe(s,Dl,H=>t(28,l=H));const a=Tl(),o=Et("i18n");Pe(s,o,H=>t(6,r=H));let{getModels:u}=e,f=[""],v=[""],_=[""],g={},m=null,w=null;const k=async H=>{t(2,_=await vr(localStorage.token,_)),t(1,v=await _r(localStorage.token,v));const W=await hr(localStorage.token,H).catch(q=>(Ze.error(q),null));W&&(Ze.success(r.t("Server connection verified")),W.pipelines&&t(3,g[_[H]]=!0,g)),await El.set(await u())},E=async H=>{t(0,f=await pr(localStorage.token,f)),await ds(localStorage.token,H).catch(q=>(Ze.error(q),null))&&Ze.success(r.t("Server connection verified")),await El.set(await u())},y=async()=>{if(v.length!==_.length&&(v.length>_.length&&t(1,v=v.slice(0,_.length)),v.length<_.length)){const H=_.length-v.length;for(let W=0;W<H;W++)v.push("")}t(2,_=await vr(localStorage.token,_)),t(1,v=await _r(localStorage.token,v)),await El.set(await u())},b=async()=>{t(0,f=f.filter(H=>H!=="")),console.log(f),f.length===0?(t(5,w=!1),await mr(localStorage.token,w),Ze.info(r.t("Ollama API disabled"))):(t(0,f=await pr(localStorage.token,f)),await ds(localStorage.token).catch(W=>(Ze.error(W),null))&&(Ze.success(r.t("Server connection verified")),await El.set(await u())))};Xt(async()=>{if(l.role==="admin"){await Promise.all([(async()=>{t(0,f=await Xa(localStorage.token))})(),(async()=>{t(2,_=await Bn(localStorage.token))})(),(async()=>{t(1,v=await Un(localStorage.token))})()]),_.forEach(async(q,Y)=>{(await hr(localStorage.token,Y)).pipelines&&t(3,g[q]=!0,g)});const H=await Fa(localStorage.token),W=await Pn(localStorage.token);t(4,m=W.ENABLE_OPENAI_API),t(5,w=H.ENABLE_OLLAMA_API)}});function D(H){m=H,t(4,m)}const I=async()=>{jn(localStorage.token,m)};function M(H,W){H[W]=this.value,t(2,_)}function T(H){v[H]=this.value,t(1,v)}const S=()=>{t(2,_=[..._,""]),t(1,v=[...v,""])},V=H=>{t(2,_=_.filter((W,q)=>H!==q)),t(1,v=v.filter((W,q)=>H!==q))},j=H=>{k(H)};function P(H){w=H,t(5,w)}const $=async()=>{mr(localStorage.token,w),f.length===0&&t(0,f=[""])};function z(H,W){H[W]=this.value,t(0,f)}const A=()=>{t(0,f=[...f,""])},O=H=>{t(0,f=f.filter((W,q)=>H!==q))},L=H=>{E(H)},G=()=>{y(),b(),a("save")};return s.$$set=H=>{"getModels"in H&&t(13,u=H.getModels)},[f,v,_,g,m,w,r,a,o,k,E,y,b,u,D,I,M,T,S,V,j,P,$,z,A,O,L,G]}class qi extends ft{constructor(e){super(),dt(this,e,Wi,Zi,ut,{getModels:13},null,[-1,-1])}}function na(s,e,t){const l=s.slice();return l[33]=e[t],l}function oa(s,e,t){const l=s.slice();return l[33]=e[t],l}function Gi(s){let e,t=s[11].t("Off")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&2048&&t!==(t=r[11].t("Off")+"")&&R(l,t)},d(r){r&&c(e)}}}function Yi(s){let e,t=s[11].t("On")+"",l;return{c(){e=d("span"),l=N(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","ml-2 self-center")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&2048&&t!==(t=r[11].t("On")+"")&&R(l,t)},d(r){r&&c(e)}}}function Ki(s){let e,t,l=s[11].t("OpenAI API Config")+"",r,a,o,u,f,v,_,g,m,w;return{c(){e=d("div"),t=d("div"),r=N(l),a=C(),o=d("div"),u=d("input"),v=C(),_=d("input"),this.h()},l(k){e=h(k,"DIV",{});var E=p(e);t=h(E,"DIV",{class:!0});var y=p(t);r=B(y,l),y.forEach(c),a=x(E),o=h(E,"DIV",{class:!0});var b=p(o);u=h(b,"INPUT",{class:!0,placeholder:!0}),v=x(b),_=h(b,"INPUT",{class:!0,placeholder:!0}),b.forEach(c),E.forEach(c),this.h()},h(){i(t,"class","mb-1.5 text-sm font-medium"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"placeholder",f=s[11].t("API Base URL")),u.required=!0,i(_,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(_,"placeholder",g=s[11].t("API Key")),_.required=!0,i(o,"class","flex gap-2 mb-1")},m(k,E){U(k,e,E),n(e,t),n(t,r),n(e,a),n(e,o),n(o,u),_e(u,s[5]),n(o,v),n(o,_),_e(_,s[6]),m||(w=[ee(u,"input",s[24]),ee(_,"input",s[25])],m=!0)},p(k,E){E[0]&2048&&l!==(l=k[11].t("OpenAI API Config")+"")&&R(r,l),E[0]&2048&&f!==(f=k[11].t("API Base URL"))&&i(u,"placeholder",f),E[0]&32&&u.value!==k[5]&&_e(u,k[5]),E[0]&2048&&g!==(g=k[11].t("API Key"))&&i(_,"placeholder",g),E[0]&64&&_.value!==k[6]&&_e(_,k[6])},d(k){k&&c(e),m=!1,tt(w)}}}function Fi(s){let e,t=s[11].t("ComfyUI Base URL")+"",l,r,a,o,u,f,v,_,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,w;return{c(){e=d("div"),l=N(t),r=C(),a=d("div"),o=d("div"),u=d("input"),v=C(),_=d("button"),_.innerHTML=g,this.h()},l(k){e=h(k,"DIV",{class:!0});var E=p(e);l=B(E,t),E.forEach(c),r=x(k),a=h(k,"DIV",{class:!0});var y=p(a);o=h(y,"DIV",{class:!0});var b=p(o);u=h(b,"INPUT",{class:!0,placeholder:!0}),b.forEach(c),v=x(y),_=h(y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(_)!=="svelte-md8ixs"&&(_.innerHTML=g),y.forEach(c),this.h()},h(){i(e,"class","mb-2.5 text-sm font-medium"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"placeholder",f=s[11].t("Enter URL (e.g. http://127.0.0.1:7860/)")),i(o,"class","flex-1 mr-2"),i(_,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),i(_,"type","button"),i(a,"class","flex w-full")},m(k,E){U(k,e,E),n(e,l),U(k,r,E),U(k,a,E),n(a,o),n(o,u),_e(u,s[4]),n(a,v),n(a,_),m||(w=[ee(u,"input",s[22]),ee(_,"click",s[23])],m=!0)},p(k,E){E[0]&2048&&t!==(t=k[11].t("ComfyUI Base URL")+"")&&R(l,t),E[0]&2048&&f!==(f=k[11].t("Enter URL (e.g. http://127.0.0.1:7860/)"))&&i(u,"placeholder",f),E[0]&16&&u.value!==k[4]&&_e(u,k[4])},d(k){k&&(c(e),c(r),c(a)),m=!1,tt(w)}}}function Xi(s){let e,t=s[11].t("AUTOMATIC1111 Base URL")+"",l,r,a,o,u,f,v,_,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,w,k=s[11].t("Include `--api` flag when running stable-diffusion-webui")+"",E,y,b,D=s[11].t("(e.g. `sh webui.sh --api`)")+"",I,M,T;return{c(){e=d("div"),l=N(t),r=C(),a=d("div"),o=d("div"),u=d("input"),v=C(),_=d("button"),_.innerHTML=g,m=C(),w=d("div"),E=N(k),y=C(),b=d("a"),I=N(D),this.h()},l(S){e=h(S,"DIV",{class:!0});var V=p(e);l=B(V,t),V.forEach(c),r=x(S),a=h(S,"DIV",{class:!0});var j=p(a);o=h(j,"DIV",{class:!0});var P=p(o);u=h(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(c),v=x(j),_=h(j,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ye(_)!=="svelte-md8ixs"&&(_.innerHTML=g),j.forEach(c),m=x(S),w=h(S,"DIV",{class:!0});var $=p(w);E=B($,k),y=x($),b=h($,"A",{class:!0,href:!0,target:!0});var z=p(b);I=B(z,D),z.forEach(c),$.forEach(c),this.h()},h(){i(e,"class","mb-2.5 text-sm font-medium"),i(u,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(u,"placeholder",f=s[11].t("Enter URL (e.g. http://127.0.0.1:7860/)")),i(o,"class","flex-1 mr-2"),i(_,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),i(_,"type","button"),i(a,"class","flex w-full"),i(b,"class","text-gray-300 font-medium"),i(b,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),i(b,"target","_blank"),i(w,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(S,V){U(S,e,V),n(e,l),U(S,r,V),U(S,a,V),n(a,o),n(o,u),_e(u,s[3]),n(a,v),n(a,_),U(S,m,V),U(S,w,V),n(w,E),n(w,y),n(w,b),n(b,I),M||(T=[ee(u,"input",s[20]),ee(_,"click",s[21])],M=!0)},p(S,V){V[0]&2048&&t!==(t=S[11].t("AUTOMATIC1111 Base URL")+"")&&R(l,t),V[0]&2048&&f!==(f=S[11].t("Enter URL (e.g. http://127.0.0.1:7860/)"))&&i(u,"placeholder",f),V[0]&8&&u.value!==S[3]&&_e(u,S[3]),V[0]&2048&&k!==(k=S[11].t("Include `--api` flag when running stable-diffusion-webui")+"")&&R(E,k),V[0]&2048&&D!==(D=S[11].t("(e.g. `sh webui.sh --api`)")+"")&&R(I,D)},d(S){S&&(c(e),c(r),c(a),c(m),c(w)),M=!1,tt(T)}}}function ia(s){let e,t,l,r,a=s[11].t("Set Default Model")+"",o,u,f,v,_,g,m,w,k=s[11].t("Set Image Size")+"",E,y,b,D,I,M,T,S,V,j=s[11].t("Set Steps")+"",P,$,z,A,O,L,G,H;function W(Z,K){return K[0]&34&&(_=null),_==null&&(_=Z[1]==="openai"&&!Z[5].includes("https://api.openai.com")),_?Qi:Ji}let q=W(s,[-1,-1]),Y=q(s);return{c(){e=d("hr"),t=C(),l=d("div"),r=d("div"),o=N(a),u=C(),f=d("div"),v=d("div"),Y.c(),g=C(),m=d("div"),w=d("div"),E=N(k),y=C(),b=d("div"),D=d("div"),I=d("input"),T=C(),S=d("div"),V=d("div"),P=N(j),$=C(),z=d("div"),A=d("div"),O=d("input"),this.h()},l(Z){e=h(Z,"HR",{class:!0}),t=x(Z),l=h(Z,"DIV",{});var K=p(l);r=h(K,"DIV",{class:!0});var X=p(r);o=B(X,a),X.forEach(c),u=x(K),f=h(K,"DIV",{class:!0});var J=p(f);v=h(J,"DIV",{class:!0});var ue=p(v);Y.l(ue),ue.forEach(c),J.forEach(c),K.forEach(c),g=x(Z),m=h(Z,"DIV",{});var fe=p(m);w=h(fe,"DIV",{class:!0});var pe=p(w);E=B(pe,k),pe.forEach(c),y=x(fe),b=h(fe,"DIV",{class:!0});var ge=p(b);D=h(ge,"DIV",{class:!0});var Ee=p(D);I=h(Ee,"INPUT",{class:!0,placeholder:!0}),Ee.forEach(c),ge.forEach(c),fe.forEach(c),T=x(Z),S=h(Z,"DIV",{});var Le=p(S);V=h(Le,"DIV",{class:!0});var be=p(V);P=B(be,j),be.forEach(c),$=x(Le),z=h(Le,"DIV",{class:!0});var le=p(z);A=h(le,"DIV",{class:!0});var he=p(A);O=h(he,"INPUT",{class:!0,placeholder:!0}),he.forEach(c),le.forEach(c),Le.forEach(c),this.h()},h(){i(e,"class","dark:border-gray-700"),i(r,"class","mb-2.5 text-sm font-medium"),i(v,"class","flex-1 mr-2"),i(f,"class","flex w-full"),i(w,"class","mb-2.5 text-sm font-medium"),i(I,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(I,"placeholder",M=s[11].t("Enter Image Size (e.g. 512x512)")),i(D,"class","flex-1 mr-2"),i(b,"class","flex w-full"),i(V,"class","mb-2.5 text-sm font-medium"),i(O,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(O,"placeholder",L=s[11].t("Enter Number of Steps (e.g. 50)")),i(A,"class","flex-1 mr-2"),i(z,"class","flex w-full")},m(Z,K){U(Z,e,K),U(Z,t,K),U(Z,l,K),n(l,r),n(r,o),n(l,u),n(l,f),n(f,v),Y.m(v,null),U(Z,g,K),U(Z,m,K),n(m,w),n(w,E),n(m,y),n(m,b),n(b,D),n(D,I),_e(I,s[9]),U(Z,T,K),U(Z,S,K),n(S,V),n(V,P),n(S,$),n(S,z),n(z,A),n(A,O),_e(O,s[10]),G||(H=[ee(I,"input",s[28]),ee(O,"input",s[29])],G=!0)},p(Z,K){K[0]&2048&&a!==(a=Z[11].t("Set Default Model")+"")&&R(o,a),q===(q=W(Z,K))&&Y?Y.p(Z,K):(Y.d(1),Y=q(Z),Y&&(Y.c(),Y.m(v,null))),K[0]&2048&&k!==(k=Z[11].t("Set Image Size")+"")&&R(E,k),K[0]&2048&&M!==(M=Z[11].t("Enter Image Size (e.g. 512x512)"))&&i(I,"placeholder",M),K[0]&512&&I.value!==Z[9]&&_e(I,Z[9]),K[0]&2048&&j!==(j=Z[11].t("Set Steps")+"")&&R(P,j),K[0]&2048&&L!==(L=Z[11].t("Enter Number of Steps (e.g. 50)"))&&i(O,"placeholder",L),K[0]&1024&&O.value!==Z[10]&&_e(O,Z[10])},d(Z){Z&&(c(e),c(t),c(l),c(g),c(m),c(T),c(S)),Y.d(),G=!1,tt(H)}}}function Ji(s){let e,t,l,r,a,o=!s[7]&&ca(s),u=Ye(s[8]??[]),f=[];for(let v=0;v<u.length;v+=1)f[v]=ua(na(s,u,v));return{c(){e=d("select"),o&&o.c(),t=gl();for(let v=0;v<f.length;v+=1)f[v].c();this.h()},l(v){e=h(v,"SELECT",{class:!0,placeholder:!0});var _=p(e);o&&o.l(_),t=gl();for(let g=0;g<f.length;g+=1)f[g].l(_);_.forEach(c),this.h()},h(){i(e,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(e,"placeholder",l=s[11].t("Select a model")),e.required=!0,s[7]===void 0&&Cl(()=>s[27].call(e))},m(v,_){U(v,e,_),o&&o.m(e,null),n(e,t);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(e,null);Yt(e,s[7],!0),r||(a=ee(e,"change",s[27]),r=!0)},p(v,_){if(v[7]?o&&(o.d(1),o=null):o?o.p(v,_):(o=ca(v),o.c(),o.m(e,t)),_[0]&256){u=Ye(v[8]??[]);let g;for(g=0;g<u.length;g+=1){const m=na(v,u,g);f[g]?f[g].p(m,_):(f[g]=ua(m),f[g].c(),f[g].m(e,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=u.length}_[0]&2048&&l!==(l=v[11].t("Select a model"))&&i(e,"placeholder",l),_[0]&384&&Yt(e,v[7])},d(v){v&&c(e),o&&o.d(),xt(f,v),r=!1,a()}}}function Qi(s){let e,t,l,r,a,o,u,f=Ye(s[8]??[]),v=[];for(let _=0;_<f.length;_+=1)v[_]=fa(oa(s,f,_));return{c(){e=d("div"),t=d("div"),l=d("input"),r=C(),a=d("datalist");for(let _=0;_<v.length;_+=1)v[_].c();this.h()},l(_){e=h(_,"DIV",{class:!0});var g=p(e);t=h(g,"DIV",{class:!0});var m=p(t);l=h(m,"INPUT",{list:!0,class:!0,placeholder:!0}),r=x(m),a=h(m,"DATALIST",{id:!0});var w=p(a);for(let k=0;k<v.length;k+=1)v[k].l(w);w.forEach(c),m.forEach(c),g.forEach(c),this.h()},h(){i(l,"list","model-list"),i(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),i(l,"placeholder","Select a model"),i(a,"id","model-list"),i(t,"class","flex-1"),i(e,"class","flex w-full")},m(_,g){U(_,e,g),n(e,t),n(t,l),_e(l,s[7]),n(t,r),n(t,a);for(let m=0;m<v.length;m+=1)v[m]&&v[m].m(a,null);o||(u=ee(l,"input",s[26]),o=!0)},p(_,g){if(g[0]&384&&l.value!==_[7]&&_e(l,_[7]),g[0]&256){f=Ye(_[8]??[]);let m;for(m=0;m<f.length;m+=1){const w=oa(_,f,m);v[m]?v[m].p(w,g):(v[m]=fa(w),v[m].c(),v[m].m(a,null))}for(;m<v.length;m+=1)v[m].d(1);v.length=f.length}},d(_){_&&c(e),xt(v,_),o=!1,u()}}}function ca(s){let e,t=s[11].t("Select a model")+"",l;return{c(){e=d("option"),l=N(t),this.h()},l(r){e=h(r,"OPTION",{});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){e.__value="",_e(e,e.__value),e.disabled=!0,e.selected=!0},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&2048&&t!==(t=r[11].t("Select a model")+"")&&R(l,t)},d(r){r&&c(e)}}}function ua(s){let e,t=s[33].name+"",l,r;return{c(){e=d("option"),l=N(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=p(e);l=B(o,t),o.forEach(c),this.h()},h(){e.__value=r=s[33].id,_e(e,e.__value),i(e,"class","bg-gray-100 dark:bg-gray-700")},m(a,o){U(a,e,o),n(e,l)},p(a,o){o[0]&256&&t!==(t=a[33].name+"")&&R(l,t),o[0]&256&&r!==(r=a[33].id)&&(e.__value=r,_e(e,e.__value))},d(a){a&&c(e)}}}function fa(s){let e,t=s[33].name+"",l,r;return{c(){e=d("option"),l=N(t),this.h()},l(a){e=h(a,"OPTION",{});var o=p(e);l=B(o,t),o.forEach(c),this.h()},h(){e.__value=r=s[33].id,_e(e,e.__value)},m(a,o){U(a,e,o),n(e,l)},p(a,o){o[0]&256&&t!==(t=a[33].name+"")&&R(l,t),o[0]&256&&r!==(r=a[33].id)&&(e.__value=r,_e(e,e.__value))},d(a){a&&c(e)}}}function da(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function ec(s){let e,t,l,r,a=s[11].t("Image Settings")+"",o,u,f,v,_=s[11].t("Image Generation Engine")+"",g,m,w,k,E,y=s[11].t("Default (Automatic1111)")+"",b,D,I=s[11].t("ComfyUI")+"",M,T,S=s[11].t("Open AI (Dall-E)")+"",V,j,P,$,z,A,O=s[11].t("Image Generation (Experimental)")+"",L,G,H,W,q,Y,Z,K,X,J,ue=s[11].t("Save")+"",fe,pe,ge,Ee,Le;function be(ve,ie){return ve[2]===!0?Yi:Gi}let le=be(s),he=le(s);function me(ve,ie){if(ve[1]==="")return Xi;if(ve[1]==="comfyui")return Fi;if(ve[1]==="openai")return Ki}let ae=me(s),oe=ae&&ae(s),ce=s[2]&&ia(s),ne=s[0]&&da();return{c(){e=d("form"),t=d("div"),l=d("div"),r=d("div"),o=N(a),u=C(),f=d("div"),v=d("div"),g=N(_),m=C(),w=d("div"),k=d("select"),E=d("option"),b=N(y),D=d("option"),M=N(I),T=d("option"),V=N(S),P=C(),$=d("div"),z=d("div"),A=d("div"),L=N(O),G=C(),H=d("button"),he.c(),W=C(),q=d("hr"),Y=C(),oe&&oe.c(),Z=C(),ce&&ce.c(),K=C(),X=d("div"),J=d("button"),fe=N(ue),pe=C(),ne&&ne.c(),this.h()},l(ve){e=h(ve,"FORM",{class:!0});var ie=p(e);t=h(ie,"DIV",{class:!0});var Me=p(t);l=h(Me,"DIV",{});var de=p(l);r=h(de,"DIV",{class:!0});var Te=p(r);o=B(Te,a),Te.forEach(c),u=x(de),f=h(de,"DIV",{class:!0});var Q=p(f);v=h(Q,"DIV",{class:!0});var F=p(v);g=B(F,_),F.forEach(c),m=x(Q),w=h(Q,"DIV",{class:!0});var ke=p(w);k=h(ke,"SELECT",{class:!0,placeholder:!0});var Ie=p(k);E=h(Ie,"OPTION",{});var He=p(E);b=B(He,y),He.forEach(c),D=h(Ie,"OPTION",{});var Ae=p(D);M=B(Ae,I),Ae.forEach(c),T=h(Ie,"OPTION",{});var je=p(T);V=B(je,S),je.forEach(c),Ie.forEach(c),ke.forEach(c),Q.forEach(c),P=x(de),$=h(de,"DIV",{});var Qe=p($);z=h(Qe,"DIV",{class:!0});var ze=p(z);A=h(ze,"DIV",{class:!0});var Re=p(A);L=B(Re,O),Re.forEach(c),G=x(ze),H=h(ze,"BUTTON",{class:!0,type:!0});var We=p(H);he.l(We),We.forEach(c),ze.forEach(c),Qe.forEach(c),de.forEach(c),W=x(Me),q=h(Me,"HR",{class:!0}),Y=x(Me),oe&&oe.l(Me),Z=x(Me),ce&&ce.l(Me),Me.forEach(c),K=x(ie),X=h(ie,"DIV",{class:!0});var Ne=p(X);J=h(Ne,"BUTTON",{class:!0,type:!0});var Je=p(J);fe=B(Je,ue),pe=x(Je),ne&&ne.l(Je),Je.forEach(c),Ne.forEach(c),ie.forEach(c),this.h()},h(){i(r,"class","mb-1 text-sm font-medium"),i(v,"class","self-center text-xs font-medium"),E.__value="",_e(E,E.__value),D.__value="comfyui",_e(D,D.__value),T.__value="openai",_e(T,T.__value),i(k,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),i(k,"placeholder",j=s[11].t("Select a mode")),s[1]===void 0&&Cl(()=>s[17].call(k)),i(w,"class","flex items-center relative"),i(f,"class","py-0.5 flex w-full justify-between"),i(A,"class","self-center text-xs font-medium"),i(H,"class","p-1 px-3 text-xs flex rounded transition"),i(H,"type","button"),i(z,"class","py-0.5 flex w-full justify-between"),i(q,"class","dark:border-gray-700"),i(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[24rem]"),i(J,"class",ge="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),i(J,"type","submit"),J.disabled=s[0],i(X,"class","flex justify-end pt-3 text-sm font-medium"),i(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ve,ie){U(ve,e,ie),n(e,t),n(t,l),n(l,r),n(r,o),n(l,u),n(l,f),n(f,v),n(v,g),n(f,m),n(f,w),n(w,k),n(k,E),n(E,b),n(k,D),n(D,M),n(k,T),n(T,V),Yt(k,s[1],!0),n(l,P),n(l,$),n($,z),n(z,A),n(A,L),n(z,G),n(z,H),he.m(H,null),n(t,W),n(t,q),n(t,Y),oe&&oe.m(t,null),n(t,Z),ce&&ce.m(t,null),n(e,K),n(e,X),n(X,J),n(J,fe),n(J,pe),ne&&ne.m(J,null),Ee||(Le=[ee(k,"change",s[17]),ee(k,"change",s[18]),ee(H,"click",s[19]),ee(e,"submit",Wl(s[30]))],Ee=!0)},p(ve,ie){ie[0]&2048&&a!==(a=ve[11].t("Image Settings")+"")&&R(o,a),ie[0]&2048&&_!==(_=ve[11].t("Image Generation Engine")+"")&&R(g,_),ie[0]&2048&&y!==(y=ve[11].t("Default (Automatic1111)")+"")&&R(b,y),ie[0]&2048&&I!==(I=ve[11].t("ComfyUI")+"")&&R(M,I),ie[0]&2048&&S!==(S=ve[11].t("Open AI (Dall-E)")+"")&&R(V,S),ie[0]&2048&&j!==(j=ve[11].t("Select a mode"))&&i(k,"placeholder",j),ie[0]&2&&Yt(k,ve[1]),ie[0]&2048&&O!==(O=ve[11].t("Image Generation (Experimental)")+"")&&R(L,O),le===(le=be(ve))&&he?he.p(ve,ie):(he.d(1),he=le(ve),he&&(he.c(),he.m(H,null))),ae===(ae=me(ve))&&oe?oe.p(ve,ie):(oe&&oe.d(1),oe=ae&&ae(ve),oe&&(oe.c(),oe.m(t,Z))),ve[2]?ce?ce.p(ve,ie):(ce=ia(ve),ce.c(),ce.m(t,null)):ce&&(ce.d(1),ce=null),ie[0]&2048&&ue!==(ue=ve[11].t("Save")+"")&&R(fe,ue),ve[0]?ne||(ne=da(),ne.c(),ne.m(J,null)):ne&&(ne.d(1),ne=null),ie[0]&1&&ge!==(ge="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(ve[0]?" cursor-not-allowed":""))&&i(J,"class",ge),ie[0]&1&&(J.disabled=ve[0])},i:Oe,o:Oe,d(ve){ve&&c(e),he.d(),oe&&oe.d(),ce&&ce.d(),ne&&ne.d(),Ee=!1,tt(Le)}}}function tc(s,e,t){let l,r;Pe(s,Dl,Z=>t(31,l=Z));const a=Tl(),o=Et("i18n");Pe(s,o,Z=>t(11,r=Z));let{saveSettings:u}=e,f=!1,v="",_=!1,g="",m="",w="",k="",E="",y=null,b="",D=50;const I=async()=>{t(8,y=await Xn(localStorage.token).catch(Z=>(Ze.error(Z),null))),t(7,E=await Jn(localStorage.token).catch(Z=>""))},M=async()=>{if(v==="comfyui"){const Z=await gr(localStorage.token,{COMFYUI_BASE_URL:m}).catch(K=>(Ze.error(K),console.log(K),null));Z?(t(4,m=Z.COMFYUI_BASE_URL),await I(),y&&Ze.success(r.t("Server connection verified"))):t(4,{COMFYUI_BASE_URL:m}=await bs(localStorage.token),m)}else{const Z=await gr(localStorage.token,{AUTOMATIC1111_BASE_URL:g}).catch(K=>(Ze.error(K),null));Z?(t(3,g=Z.AUTOMATIC1111_BASE_URL),await I(),y&&Ze.success(r.t("Server connection verified"))):t(3,{AUTOMATIC1111_BASE_URL:g}=await bs(localStorage.token),g)}},T=async()=>{const Z=await Qn(localStorage.token,v,_).catch(K=>(Ze.error(K),null));Z&&(t(1,v=Z.engine),t(2,_=Z.enabled)),_&&(Fl.set(await $a()),I())};Xt(async()=>{if(l.role==="admin"){const Z=await Gn(localStorage.token).catch(J=>(Ze.error(J),null));Z&&(t(1,v=Z.engine),t(2,_=Z.enabled));const K=await bs(localStorage.token);t(3,g=K.AUTOMATIC1111_BASE_URL),t(4,m=K.COMFYUI_BASE_URL);const X=await Yn(localStorage.token);t(6,k=X.OPENAI_API_KEY),t(5,w=X.OPENAI_API_BASE_URL),t(9,b=await Kn(localStorage.token)),t(10,D=await Fn(localStorage.token)),_&&I()}});function S(){v=xl(this),t(1,v)}const V=async()=>{await T()},j=()=>{v===""&&g===""?(Ze.error(r.t("AUTOMATIC1111 Base URL is required.")),t(2,_=!1)):v==="comfyui"&&m===""?(Ze.error(r.t("ComfyUI Base URL is required.")),t(2,_=!1)):v==="openai"&&k===""?(Ze.error(r.t("OpenAI API Key is required.")),t(2,_=!1)):t(2,_=!_),T()};function P(){g=this.value,t(3,g)}const $=()=>{M()};function z(){m=this.value,t(4,m)}const A=()=>{M()};function O(){w=this.value,t(5,w)}function L(){k=this.value,t(6,k)}function G(){E=this.value,t(7,E),t(8,y)}function H(){E=xl(this),t(7,E),t(8,y)}function W(){b=this.value,t(9,b)}function q(){D=this.value,t(10,D)}const Y=async()=>{t(0,f=!0),v==="openai"&&await eo(localStorage.token,w,k),await to(localStorage.token,E),await lo(localStorage.token,b).catch(Z=>(Ze.error(Z),null)),await so(localStorage.token,D).catch(Z=>(Ze.error(Z),null)),a("save"),t(0,f=!1)};return s.$$set=Z=>{"saveSettings"in Z&&t(16,u=Z.saveSettings)},[f,v,_,g,m,w,k,E,y,b,D,r,a,o,M,T,u,S,V,j,P,$,z,A,O,L,G,H,W,q,Y]}class lc extends ft{constructor(e){super(),dt(this,e,tc,ec,ut,{saveSettings:16},null,[-1,-1])}}function sc(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=p(e);t=rt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(c),r.forEach(c),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"),i(t,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class",s[0])},m(l,r){U(l,e,r),n(e,t)},p(l,[r]){r&1&&i(e,"class",l[0])},i:Oe,o:Oe,d(l){l&&c(e)}}}function rc(s,e,t){let{className:l="w-4 h-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class ac extends ft{constructor(e){super(),dt(this,e,rc,sc,ut,{className:0})}}function ha(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function nc(s){let e,t,l,r=s[3].t("Add Memory")+"",a,o,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,_,g,m,w,k,E,y,b,D='ⓘ Refer to yourself as "User" (e.g., "User is learning Spanish")',I,M,T,S=s[3].t("Add")+"",V,j,P,$,z,A=s[1]&&ha();return{c(){e=d("div"),t=d("div"),l=d("div"),a=N(r),o=C(),u=d("button"),u.innerHTML=f,v=C(),_=d("div"),g=d("div"),m=d("form"),w=d("div"),k=d("textarea"),y=C(),b=d("div"),b.textContent=D,I=C(),M=d("div"),T=d("button"),V=N(S),j=C(),A&&A.c(),this.h()},l(O){e=h(O,"DIV",{});var L=p(e);t=h(L,"DIV",{class:!0});var G=p(t);l=h(G,"DIV",{class:!0});var H=p(l);a=B(H,r),H.forEach(c),o=x(G),u=h(G,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(u)!=="svelte-745w2y"&&(u.innerHTML=f),G.forEach(c),v=x(L),_=h(L,"DIV",{class:!0});var W=p(_);g=h(W,"DIV",{class:!0});var q=p(g);m=h(q,"FORM",{class:!0});var Y=p(m);w=h(Y,"DIV",{class:!0});var Z=p(w);k=h(Z,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),p(k).forEach(c),y=x(Z),b=h(Z,"DIV",{class:!0,"data-svelte-h":!0}),ye(b)!=="svelte-1wi9pp3"&&(b.textContent=D),Z.forEach(c),I=x(Y),M=h(Y,"DIV",{class:!0});var K=p(M);T=h(K,"BUTTON",{class:!0,type:!0});var X=p(T);V=B(X,S),j=x(X),A&&A.l(X),X.forEach(c),K.forEach(c),Y.forEach(c),q.forEach(c),W.forEach(c),L.forEach(c),this.h()},h(){i(l,"class","text-lg font-medium self-center"),i(u,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),i(k,"class","bg-transparent w-full text-sm resize-none rounded-xl p-3 outline outline-1 outline-gray-100 dark:outline-gray-800"),i(k,"rows","3"),i(k,"placeholder",E=s[3].t("Enter a detail about yourself for your LLMs to recall")),i(b,"class","text-xs text-gray-500"),i(w,"class",""),i(T,"class",P="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),i(T,"type","submit"),T.disabled=s[1],i(M,"class","flex justify-end pt-1 text-sm font-medium"),i(m,"class","flex flex-col w-full"),i(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(_,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(O,L){U(O,e,L),n(e,t),n(t,l),n(l,a),n(t,o),n(t,u),n(e,v),n(e,_),n(_,g),n(g,m),n(m,w),n(w,k),_e(k,s[2]),n(w,y),n(w,b),n(m,I),n(m,M),n(M,T),n(T,V),n(T,j),A&&A.m(T,null),$||(z=[ee(u,"click",s[6]),ee(k,"input",s[7]),ee(m,"submit",Wl(s[8]))],$=!0)},p(O,L){L&8&&r!==(r=O[3].t("Add Memory")+"")&&R(a,r),L&8&&E!==(E=O[3].t("Enter a detail about yourself for your LLMs to recall"))&&i(k,"placeholder",E),L&4&&_e(k,O[2]),L&8&&S!==(S=O[3].t("Add")+"")&&R(V,S),O[1]?A||(A=ha(),A.c(),A.m(T,null)):A&&(A.d(1),A=null),L&2&&P!==(P="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-3xl flex flex-row space-x-1 items-center "+(O[1]?" cursor-not-allowed":""))&&i(T,"class",P),L&2&&(T.disabled=O[1])},d(O){O&&c(e),A&&A.d(),$=!1,tt(z)}}}function oc(s){let e,t,l;function r(o){s[9](o)}let a={size:"sm",$$slots:{default:[nc]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ql({props:a}),Tt.push(()=>Ut(e,"show",r)),{c(){Ve(e.$$.fragment)},l(o){Ce(e.$$.fragment,o)},m(o,u){xe(e,o,u),l=!0},p(o,[u]){const f={};u&2063&&(f.$$scope={dirty:u,ctx:o}),!t&&u&1&&(t=!0,f.show=o[0],Bt(()=>t=!1)),e.$set(f)},i(o){l||(te(e.$$.fragment,o),l=!0)},o(o){re(e.$$.fragment,o),l=!1},d(o){Se(e,o)}}}function ic(s,e,t){let l;const r=Tl();let{show:a}=e;const o=Et("i18n");Pe(s,o,k=>t(3,l=k));let u=!1,f="";const v=async()=>{t(1,u=!0);const k=await ro(localStorage.token,f).catch(E=>(Ze.error(E),null));k&&(console.log(k),Ze.success("Memory added successfully"),t(2,f=""),t(0,a=!1),r("save")),t(1,u=!1)},_=()=>{t(0,a=!1)};function g(){f=this.value,t(2,f)}const m=()=>{v()};function w(k){a=k,t(0,a)}return s.$$set=k=>{"show"in k&&t(0,a=k.show)},[a,u,f,l,o,v,_,g,m,w]}class cc extends ft{constructor(e){super(),dt(this,e,ic,oc,ut,{show:0})}}function va(s,e,t){const l=s.slice();return l[13]=e[t],l}function uc(s){let e,t,l=s[3].t("Memories accessible by LLMs will be shown here.")+"",r;return{c(){e=d("div"),t=d("div"),r=N(l),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=p(e);t=h(o,"DIV",{class:!0});var u=p(t);r=B(u,l),u.forEach(c),o.forEach(c),this.h()},h(){i(t,"class","my-auto pb-10 px-4 w-full text-gray-500"),i(e,"class","text-center flex h-full text-sm w-full")},m(a,o){U(a,e,o),n(e,t),n(t,r)},p(a,o){o&8&&l!==(l=a[3].t("Memories accessible by LLMs will be shown here.")+"")&&R(r,l)},i:Oe,o:Oe,d(a){a&&c(e)}}}function fc(s){let e,t,l,r,a,o,u=s[3].t("Name")+"",f,v,_,g=s[3].t("Created At")+"",m,w,k,E,y,b,D=Ye(s[1]),I=[];for(let T=0;T<D.length;T+=1)I[T]=_a(va(s,D,T));const M=T=>re(I[T],1,1,()=>{I[T]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),r=d("thead"),a=d("tr"),o=d("th"),f=N(u),v=C(),_=d("th"),m=N(g),w=C(),k=d("th"),E=C(),y=d("tbody");for(let T=0;T<I.length;T+=1)I[T].c();this.h()},l(T){e=h(T,"DIV",{class:!0});var S=p(e);t=h(S,"DIV",{class:!0});var V=p(t);l=h(V,"TABLE",{class:!0});var j=p(l);r=h(j,"THEAD",{class:!0});var P=p(r);a=h(P,"TR",{});var $=p(a);o=h($,"TH",{scope:!0,class:!0});var z=p(o);f=B(z,u),z.forEach(c),v=x($),_=h($,"TH",{scope:!0,class:!0});var A=p(_);m=B(A,g),A.forEach(c),w=x($),k=h($,"TH",{scope:!0,class:!0}),p(k).forEach(c),$.forEach(c),P.forEach(c),E=x(j),y=h(j,"TBODY",{});var O=p(y);for(let L=0;L<I.length;L+=1)I[L].l(O);O.forEach(c),j.forEach(c),V.forEach(c),S.forEach(c),this.h()},h(){i(o,"scope","col"),i(o,"class","px-3 py-2"),i(_,"scope","col"),i(_,"class","px-3 py-2 hidden md:flex"),i(k,"scope","col"),i(k,"class","px-3 py-2 text-right"),i(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),i(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),i(t,"class","relative overflow-x-auto"),i(e,"class","text-left text-sm w-full mb-4 overflow-y-scroll")},m(T,S){U(T,e,S),n(e,t),n(t,l),n(l,r),n(r,a),n(a,o),n(o,f),n(a,v),n(a,_),n(_,m),n(a,w),n(a,k),n(l,E),n(l,y);for(let V=0;V<I.length;V+=1)I[V]&&I[V].m(y,null);b=!0},p(T,S){if((!b||S&8)&&u!==(u=T[3].t("Name")+"")&&R(f,u),(!b||S&8)&&g!==(g=T[3].t("Created At")+"")&&R(m,g),S&10){D=Ye(T[1]);let V;for(V=0;V<D.length;V+=1){const j=va(T,D,V);I[V]?(I[V].p(j,S),te(I[V],1)):(I[V]=_a(j),I[V].c(),te(I[V],1),I[V].m(y,null))}for(Lt(),V=D.length;V<I.length;V+=1)M(V);Ot()}},i(T){if(!b){for(let S=0;S<D.length;S+=1)te(I[S]);b=!0}},o(T){I=I.filter(Boolean);for(let S=0;S<I.length;S+=1)re(I[S]);b=!1},d(T){T&&c(e),xt(I,T)}}}function dc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function a(){return s[6](s[13])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-lqu2va"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,u){U(o,e,u),l||(r=ee(e,"click",a),l=!0)},p(o,u){s=o},d(o){o&&c(e),l=!1,r()}}}function _a(s){let e,t,l,r=s[13].content+"",a,o,u,f,v=fs(s[13].created_at*1e3).format(s[3].t("MMMM DD, YYYY"))+"",_,g,m,w,k,E,y;return k=new hl({props:{content:"Delete",$$slots:{default:[dc]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("div"),a=N(r),o=C(),u=d("td"),f=d("div"),_=N(v),g=C(),m=d("td"),w=d("div"),Ve(k.$$.fragment),E=C(),this.h()},l(b){e=h(b,"TR",{class:!0});var D=p(e);t=h(D,"TD",{class:!0});var I=p(t);l=h(I,"DIV",{class:!0});var M=p(l);a=B(M,r),M.forEach(c),I.forEach(c),o=x(D),u=h(D,"TD",{class:!0});var T=p(u);f=h(T,"DIV",{class:!0});var S=p(f);_=B(S,v),S.forEach(c),T.forEach(c),g=x(D),m=h(D,"TD",{class:!0});var V=p(m);w=h(V,"DIV",{class:!0});var j=p(w);Ce(k.$$.fragment,j),j.forEach(c),V.forEach(c),E=x(D),D.forEach(c),this.h()},h(){i(l,"class","line-clamp-1"),i(t,"class","px-3 py-1"),i(f,"class","my-auto whitespace-nowrap"),i(u,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),i(w,"class","flex justify-end w-full"),i(m,"class","px-3 py-1"),i(e,"class","border-b dark:border-gray-800 items-center")},m(b,D){U(b,e,D),n(e,t),n(t,l),n(l,a),n(e,o),n(e,u),n(u,f),n(f,_),n(e,g),n(e,m),n(m,w),xe(k,w,null),n(e,E),y=!0},p(b,D){(!y||D&2)&&r!==(r=b[13].content+"")&&R(a,r),(!y||D&10)&&v!==(v=fs(b[13].created_at*1e3).format(b[3].t("MMMM DD, YYYY"))+"")&&R(_,v);const I={};D&65538&&(I.$$scope={dirty:D,ctx:b}),k.$set(I)},i(b){y||(te(k.$$.fragment,b),y=!0)},o(b){re(k.$$.fragment,b),y=!1},d(b){b&&c(e),Se(k)}}}function hc(s){let e,t,l,r=s[3].t("Memory")+"",a,o,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,_,g,m,w,k,E,y,b="Add memory",D,I,M="Clear memory",T,S,V;const j=[fc,uc],P=[];function $(z,A){return z[1].length>0?0:1}return m=$(s),w=P[m]=j[m](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=N(r),o=C(),u=d("button"),u.innerHTML=f,v=C(),_=d("div"),g=d("div"),w.c(),k=C(),E=d("div"),y=d("button"),y.textContent=b,D=C(),I=d("button"),I.textContent=M,this.h()},l(z){e=h(z,"DIV",{});var A=p(e);t=h(A,"DIV",{class:!0});var O=p(t);l=h(O,"DIV",{class:!0});var L=p(l);a=B(L,r),L.forEach(c),o=x(O),u=h(O,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(u)!=="svelte-745w2y"&&(u.innerHTML=f),O.forEach(c),v=x(A),_=h(A,"DIV",{class:!0});var G=p(_);g=h(G,"DIV",{class:!0});var H=p(g);w.l(H),H.forEach(c),k=x(G),E=h(G,"DIV",{class:!0});var W=p(E);y=h(W,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(y)!=="svelte-1kp83zw"&&(y.textContent=b),D=x(W),I=h(W,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(I)!=="svelte-1dkh78z"&&(I.textContent=M),W.forEach(c),G.forEach(c),A.forEach(c),this.h()},h(){i(l,"class","text-lg font-medium self-center"),i(u,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),i(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6 h-[28rem] max-h-screen outline outline-1 rounded-xl outline-gray-100 dark:outline-gray-800 mb-4 mt-1"),i(y,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),i(I,"class","px-3.5 py-1.5 font-medium text-red-500 hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-red-300 dark:outline-red-800 rounded-3xl"),i(E,"class","flex text-sm font-medium gap-1.5"),i(_,"class","flex flex-col w-full px-5 pb-5 dark:text-gray-200")},m(z,A){U(z,e,A),n(e,t),n(t,l),n(l,a),n(t,o),n(t,u),n(e,v),n(e,_),n(_,g),P[m].m(g,null),n(_,k),n(_,E),n(E,y),n(E,D),n(E,I),T=!0,S||(V=[ee(u,"click",s[5]),ee(y,"click",s[7]),ee(I,"click",s[8])],S=!0)},p(z,A){(!T||A&8)&&r!==(r=z[3].t("Memory")+"")&&R(a,r);let O=m;m=$(z),m===O?P[m].p(z,A):(Lt(),re(P[O],1,1,()=>{P[O]=null}),Ot(),w=P[m],w?w.p(z,A):(w=P[m]=j[m](z),w.c()),te(w,1),w.m(g,null))},i(z){T||(te(w),T=!0)},o(z){re(w),T=!1},d(z){z&&c(e),P[m].d(),S=!1,tt(V)}}}function vc(s){let e,t,l,r,a,o;function u(g){s[9](g)}let f={size:"xl",$$slots:{default:[hc]},$$scope:{ctx:s}};s[0]!==void 0&&(f.show=s[0]),e=new ql({props:f}),Tt.push(()=>Ut(e,"show",u));function v(g){s[10](g)}let _={};return s[2]!==void 0&&(_.show=s[2]),r=new cc({props:_}),Tt.push(()=>Ut(r,"show",v)),r.$on("save",s[11]),{c(){Ve(e.$$.fragment),l=C(),Ve(r.$$.fragment)},l(g){Ce(e.$$.fragment,g),l=x(g),Ce(r.$$.fragment,g)},m(g,m){xe(e,g,m),U(g,l,m),xe(r,g,m),o=!0},p(g,[m]){const w={};m&65551&&(w.$$scope={dirty:m,ctx:g}),!t&&m&1&&(t=!0,w.show=g[0],Bt(()=>t=!1)),e.$set(w);const k={};!a&&m&4&&(a=!0,k.show=g[2],Bt(()=>a=!1)),r.$set(k)},i(g){o||(te(e.$$.fragment,g),te(r.$$.fragment,g),o=!0)},o(g){re(e.$$.fragment,g),re(r.$$.fragment,g),o=!1},d(g){g&&c(l),Se(e,g),Se(r,g)}}}function _c(s,e,t){let l;Tl();const r=Et("i18n");Pe(s,r,E=>t(3,l=E));let{show:a=!1}=e,o=[],u=!1;const f=()=>{t(0,a=!1)},v=async E=>{await ao(localStorage.token,E.id).catch(b=>(Ze.error(b),null))&&(Ze.success("Memory deleted successfully"),t(1,o=await ws(localStorage.token)))},_=()=>{t(2,u=!0)},g=async()=>{await no(localStorage.token).catch(y=>(Ze.error(y),null))&&(Ze.success("Memory cleared successfully"),t(1,o=[]))};function m(E){a=E,t(0,a)}function w(E){u=E,t(2,u)}const k=async()=>{t(1,o=await ws(localStorage.token))};return s.$$set=E=>{"show"in E&&t(0,a=E.show)},s.$$.update=()=>{s.$$.dirty&1&&a&&(async()=>t(1,o=await ws(localStorage.token)))()},[a,o,u,l,r,f,v,_,g,m,w,k]}class pc extends ft{constructor(e){super(),dt(this,e,_c,vc,ut,{show:0})}}function mc(s){let e,t=s[3].t("Memory")+"",l,r,a,o,u=s[3].t("Experimental")+"",f,v;return{c(){e=d("div"),l=N(t),r=C(),a=d("span"),o=N("("),f=N(u),v=N(")"),this.h()},l(_){e=h(_,"DIV",{class:!0});var g=p(e);l=B(g,t),r=x(g),a=h(g,"SPAN",{class:!0});var m=p(a);o=B(m,"("),f=B(m,u),v=B(m,")"),m.forEach(c),g.forEach(c),this.h()},h(){i(a,"class","text-xs text-gray-500"),i(e,"class","text-sm font-medium")},m(_,g){U(_,e,g),n(e,l),n(e,r),n(e,a),n(a,o),n(a,f),n(a,v)},p(_,g){g&8&&t!==(t=_[3].t("Memory")+"")&&R(l,t),g&8&&u!==(u=_[3].t("Experimental")+"")&&R(f,u)},d(_){_&&c(e)}}}function gc(s){let e,t,l,r,a,o,u,f,v,_,g,m,w,k,E=`<div>You can personalize your interactions with LLMs by adding memories through the &#39;Manage&#39;
				button below, making them more helpful and tailored to you.</div>`,y,b,D,I="Manage",M,T,S,V=s[3].t("Save")+"",j,P,$,z;function A(H){s[6](H)}let O={};s[1]!==void 0&&(O.show=s[1]),e=new pc({props:O}),Tt.push(()=>Ut(e,"show",A)),f=new hl({props:{content:"This is an experimental feature, it may not function as expected and is subject to change at any time.",$$slots:{default:[mc]},$$scope:{ctx:s}}});function L(H){s[7](H)}let G={};return s[2]!==void 0&&(G.state=s[2]),g=new Ds({props:G}),Tt.push(()=>Ut(g,"state",L)),g.$on("change",s[8]),{c(){Ve(e.$$.fragment),l=C(),r=d("form"),a=d("div"),o=d("div"),u=d("div"),Ve(f.$$.fragment),v=C(),_=d("div"),Ve(g.$$.fragment),w=C(),k=d("div"),k.innerHTML=E,y=C(),b=d("div"),D=d("button"),D.textContent=I,M=C(),T=d("div"),S=d("button"),j=N(V),this.h()},l(H){Ce(e.$$.fragment,H),l=x(H),r=h(H,"FORM",{class:!0});var W=p(r);a=h(W,"DIV",{class:!0});var q=p(a);o=h(q,"DIV",{});var Y=p(o);u=h(Y,"DIV",{class:!0});var Z=p(u);Ce(f.$$.fragment,Z),v=x(Z),_=h(Z,"DIV",{class:!0});var K=p(_);Ce(g.$$.fragment,K),K.forEach(c),Z.forEach(c),Y.forEach(c),w=x(q),k=h(q,"DIV",{class:!0,"data-svelte-h":!0}),ye(k)!=="svelte-1kelvd5"&&(k.innerHTML=E),y=x(q),b=h(q,"DIV",{class:!0});var X=p(b);D=h(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ye(D)!=="svelte-1cv22ib"&&(D.textContent=I),X.forEach(c),q.forEach(c),M=x(W),T=h(W,"DIV",{class:!0});var J=p(T);S=h(J,"BUTTON",{class:!0,type:!0});var ue=p(S);j=B(ue,V),ue.forEach(c),J.forEach(c),W.forEach(c),this.h()},h(){i(_,"class","mt-1"),i(u,"class","flex items-center justify-between mb-1"),i(k,"class","text-xs text-gray-600 dark:text-gray-400"),i(D,"type","button"),i(D,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),i(b,"class","mt-3 mb-1 ml-1"),i(a,"class","pr-1.5 overflow-y-scroll max-h-[25rem]"),i(S,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),i(S,"type","submit"),i(T,"class","flex justify-end text-sm font-medium"),i(r,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(H,W){xe(e,H,W),U(H,l,W),U(H,r,W),n(r,a),n(a,o),n(o,u),xe(f,u,null),n(u,v),n(u,_),xe(g,_,null),n(a,w),n(a,k),n(a,y),n(a,b),n(b,D),n(r,M),n(r,T),n(T,S),n(S,j),P=!0,$||(z=[ee(D,"click",s[9]),ee(r,"submit",Wl(s[10]))],$=!0)},p(H,[W]){const q={};!t&&W&2&&(t=!0,q.show=H[1],Bt(()=>t=!1)),e.$set(q);const Y={};W&4104&&(Y.$$scope={dirty:W,ctx:H}),f.$set(Y);const Z={};!m&&W&4&&(m=!0,Z.state=H[2],Bt(()=>m=!1)),g.$set(Z),(!P||W&8)&&V!==(V=H[3].t("Save")+"")&&R(j,V)},i(H){P||(te(e.$$.fragment,H),te(f.$$.fragment,H),te(g.$$.fragment,H),P=!0)},o(H){re(e.$$.fragment,H),re(f.$$.fragment,H),re(g.$$.fragment,H),P=!1},d(H){H&&(c(l),c(r)),Se(e,H),Se(f),Se(g),$=!1,tt(z)}}}function bc(s,e,t){let l,r;Pe(s,dl,E=>t(11,l=E));const a=Tl(),o=Et("i18n");Pe(s,o,E=>t(3,r=E));let{saveSettings:u}=e,f=!1,v=!1;Xt(async()=>{t(2,v=(l==null?void 0:l.memory)??!1)});function _(E){f=E,t(1,f)}function g(E){v=E,t(2,v)}const m=async()=>{u({memory:v})},w=()=>{t(1,f=!0)},k=()=>{a("save")};return s.$$set=E=>{"saveSettings"in E&&t(0,u=E.saveSettings)},[u,f,v,r,a,o,_,g,m,w,k]}class wc extends ft{constructor(e){super(),dt(this,e,bc,gc,ut,{saveSettings:0})}}function pa(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',r,a,o=s[2].t("Models")+"",u,f,v,_;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,r=C(),a=d("div"),u=N(o),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var m=p(e);t=h(m,"DIV",{class:!0,"data-svelte-h":!0}),ye(t)!=="svelte-1s8wpdu"&&(t.innerHTML=l),r=x(m),a=h(m,"DIV",{class:!0});var w=p(a);u=B(w,o),w.forEach(c),m.forEach(c),this.h()},h(){i(t,"class","self-center mr-2"),i(a,"class","self-center"),i(e,"class",f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(g,m){U(g,e,m),n(e,t),n(e,r),n(e,a),n(a,u),v||(_=ee(e,"click",s[9]),v=!0)},p(g,m){m&4&&o!==(o=g[2].t("Models")+"")&&R(u,o),m&2&&f!==(f="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(g[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&i(e,"class",f)},d(g){g&&c(e),v=!1,_()}}}function kc(s){let e,t;return e=new Ao({}),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function yc(s){let e,t;return e=new Co({props:{saveHandler:s[21]}}),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p(l,r){const a={};r&4&&(a.saveHandler=l[21]),e.$set(a)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Ec(s){let e,t;return e=new Oi({props:{saveSettings:s[5]}}),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Ic(s){let e,t;return e=new lc({props:{saveSettings:s[5]}}),e.$on("save",s[20]),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Dc(s){let e,t;return e=new Di({props:{saveSettings:s[5]}}),e.$on("save",s[19]),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Tc(s){let e,t;return e=new wc({props:{saveSettings:s[5]}}),e.$on("save",s[18]),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Vc(s){let e,t;return e=new vi({props:{saveSettings:s[5]}}),e.$on("save",s[17]),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Cc(s){let e,t;return e=new qi({props:{getModels:s[6]}}),e.$on("save",s[16]),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function xc(s){let e,t;return e=new zo({props:{getModels:s[6]}}),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Sc(s){let e,t;return e=new Fo({props:{getModels:s[6],saveSettings:s[5]}}),e.$on("save",s[15]),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Mc(s){var at;let e,t,l,r=s[2].t("Settings")+"",a,o,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,_,g,m,w,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',E,y,b=s[2].t("General")+"",D,I,M,T,S,V,j='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',P,$,z=s[2].t("Interface")+"",A,O,L,G,H,W,q,Y,Z=s[2].t("Personalization")+"",K,X,J,ue,fe,pe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',ge,Ee,Le=s[2].t("Audio")+"",be,le,he,me,ae,oe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',ce,ne,ve=s[2].t("Chats")+"",ie,Me,de,Te,Q,F='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',ke,Ie,He=s[2].t("Account")+"",Ae,je,Qe,ze,Re,We,Ne,Je,It,qe=((at=s[3])==null?void 0:at.role)==="admin"&&pa(s);W=new ac({});const mt=[Sc,xc,Cc,Vc,Tc,Dc,Ic,Ec,yc,kc],ot=[];function St(De,Ke){return De[1]==="general"?0:De[1]==="models"?1:De[1]==="connections"?2:De[1]==="interface"?3:De[1]==="personalization"?4:De[1]==="audio"?5:De[1]==="images"?6:De[1]==="chats"?7:De[1]==="account"?8:De[1]==="about"?9:-1}return~(Re=St(s))&&(We=ot[Re]=mt[Re](s)),{c(){e=d("div"),t=d("div"),l=d("div"),a=N(r),o=C(),u=d("button"),u.innerHTML=f,v=C(),_=d("div"),g=d("div"),m=d("button"),w=d("div"),w.innerHTML=k,E=C(),y=d("div"),D=N(b),M=C(),qe&&qe.c(),T=C(),S=d("button"),V=d("div"),V.innerHTML=j,P=C(),$=d("div"),A=N(z),L=C(),G=d("button"),H=d("div"),Ve(W.$$.fragment),q=C(),Y=d("div"),K=N(Z),J=C(),ue=d("button"),fe=d("div"),fe.innerHTML=pe,ge=C(),Ee=d("div"),be=N(Le),he=C(),me=d("button"),ae=d("div"),ae.innerHTML=oe,ce=C(),ne=d("div"),ie=N(ve),de=C(),Te=d("button"),Q=d("div"),Q.innerHTML=F,ke=C(),Ie=d("div"),Ae=N(He),Qe=C(),ze=d("div"),We&&We.c(),this.h()},l(De){e=h(De,"DIV",{class:!0});var Ke=p(e);t=h(Ke,"DIV",{class:!0});var it=p(t);l=h(it,"DIV",{class:!0});var ht=p(l);a=B(ht,r),ht.forEach(c),o=x(it),u=h(it,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(u)!=="svelte-745w2y"&&(u.innerHTML=f),it.forEach(c),v=x(Ke),_=h(Ke,"DIV",{class:!0});var Fe=p(_);g=h(Fe,"DIV",{class:!0});var we=p(g);m=h(we,"BUTTON",{class:!0});var $e=p(m);w=h($e,"DIV",{class:!0,"data-svelte-h":!0}),ye(w)!=="svelte-qy1dha"&&(w.innerHTML=k),E=x($e),y=h($e,"DIV",{class:!0});var Ge=p(y);D=B(Ge,b),Ge.forEach(c),$e.forEach(c),M=x(we),qe&&qe.l(we),T=x(we),S=h(we,"BUTTON",{class:!0});var lt=p(S);V=h(lt,"DIV",{class:!0,"data-svelte-h":!0}),ye(V)!=="svelte-16cea28"&&(V.innerHTML=j),P=x(lt),$=h(lt,"DIV",{class:!0});var ct=p($);A=B(ct,z),ct.forEach(c),lt.forEach(c),L=x(we),G=h(we,"BUTTON",{class:!0});var vt=p(G);H=h(vt,"DIV",{class:!0});var zt=p(H);Ce(W.$$.fragment,zt),zt.forEach(c),q=x(vt),Y=h(vt,"DIV",{class:!0});var Jt=p(Y);K=B(Jt,Z),Jt.forEach(c),vt.forEach(c),J=x(we),ue=h(we,"BUTTON",{class:!0});var gt=p(ue);fe=h(gt,"DIV",{class:!0,"data-svelte-h":!0}),ye(fe)!=="svelte-36jwmy"&&(fe.innerHTML=pe),ge=x(gt),Ee=h(gt,"DIV",{class:!0});var ll=p(Ee);be=B(ll,Le),ll.forEach(c),gt.forEach(c),he=x(we),me=h(we,"BUTTON",{class:!0});var Dt=p(me);ae=h(Dt,"DIV",{class:!0,"data-svelte-h":!0}),ye(ae)!=="svelte-1gtbwe5"&&(ae.innerHTML=oe),ce=x(Dt),ne=h(Dt,"DIV",{class:!0});var bt=p(ne);ie=B(bt,ve),bt.forEach(c),Dt.forEach(c),de=x(we),Te=h(we,"BUTTON",{class:!0});var Ht=p(Te);Q=h(Ht,"DIV",{class:!0,"data-svelte-h":!0}),ye(Q)!=="svelte-amityv"&&(Q.innerHTML=F),ke=x(Ht),Ie=h(Ht,"DIV",{class:!0});var Pt=p(Ie);Ae=B(Pt,He),Pt.forEach(c),Ht.forEach(c),we.forEach(c),Qe=x(Fe),ze=h(Fe,"DIV",{class:!0});var _t=p(ze);We&&We.l(_t),_t.forEach(c),Fe.forEach(c),Ke.forEach(c),this.h()},h(){i(l,"class","text-lg font-medium self-center"),i(u,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),i(w,"class","self-center mr-2"),i(y,"class","self-center"),i(m,"class",I="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),i(V,"class","self-center mr-2"),i($,"class","self-center"),i(S,"class",O="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),i(H,"class","self-center mr-2"),i(Y,"class","self-center"),i(G,"class",X="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="personalization"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),i(fe,"class","self-center mr-2"),i(Ee,"class","self-center"),i(ue,"class",le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),i(ae,"class","self-center mr-2"),i(ne,"class","self-center"),i(me,"class",Me="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),i(Q,"class","self-center mr-2"),i(Ie,"class","self-center"),i(Te,"class",je="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),i(g,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),i(ze,"class","flex-1 md:min-h-[28rem]"),i(_,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4"),i(e,"class","text-gray-700 dark:text-gray-100")},m(De,Ke){U(De,e,Ke),n(e,t),n(t,l),n(l,a),n(t,o),n(t,u),n(e,v),n(e,_),n(_,g),n(g,m),n(m,w),n(m,E),n(m,y),n(y,D),n(g,M),qe&&qe.m(g,null),n(g,T),n(g,S),n(S,V),n(S,P),n(S,$),n($,A),n(g,L),n(g,G),n(G,H),xe(W,H,null),n(G,q),n(G,Y),n(Y,K),n(g,J),n(g,ue),n(ue,fe),n(ue,ge),n(ue,Ee),n(Ee,be),n(g,he),n(g,me),n(me,ae),n(me,ce),n(me,ne),n(ne,ie),n(g,de),n(g,Te),n(Te,Q),n(Te,ke),n(Te,Ie),n(Ie,Ae),n(_,Qe),n(_,ze),~Re&&ot[Re].m(ze,null),Ne=!0,Je||(It=[ee(u,"click",s[7]),ee(m,"click",s[8]),ee(S,"click",s[10]),ee(G,"click",s[11]),ee(ue,"click",s[12]),ee(me,"click",s[13]),ee(Te,"click",s[14])],Je=!0)},p(De,Ke){var ht;(!Ne||Ke&4)&&r!==(r=De[2].t("Settings")+"")&&R(a,r),(!Ne||Ke&4)&&b!==(b=De[2].t("General")+"")&&R(D,b),(!Ne||Ke&2&&I!==(I="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(De[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&i(m,"class",I),((ht=De[3])==null?void 0:ht.role)==="admin"?qe?qe.p(De,Ke):(qe=pa(De),qe.c(),qe.m(g,T)):qe&&(qe.d(1),qe=null),(!Ne||Ke&4)&&z!==(z=De[2].t("Interface")+"")&&R(A,z),(!Ne||Ke&2&&O!==(O="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(De[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&i(S,"class",O),(!Ne||Ke&4)&&Z!==(Z=De[2].t("Personalization")+"")&&R(K,Z),(!Ne||Ke&2&&X!==(X="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(De[1]==="personalization"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&i(G,"class",X),(!Ne||Ke&4)&&Le!==(Le=De[2].t("Audio")+"")&&R(be,Le),(!Ne||Ke&2&&le!==(le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(De[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&i(ue,"class",le),(!Ne||Ke&4)&&ve!==(ve=De[2].t("Chats")+"")&&R(ie,ve),(!Ne||Ke&2&&Me!==(Me="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(De[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&i(me,"class",Me),(!Ne||Ke&4)&&He!==(He=De[2].t("Account")+"")&&R(Ae,He),(!Ne||Ke&2&&je!==(je="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(De[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&i(Te,"class",je);let it=Re;Re=St(De),Re===it?~Re&&ot[Re].p(De,Ke):(We&&(Lt(),re(ot[it],1,1,()=>{ot[it]=null}),Ot()),~Re?(We=ot[Re],We?We.p(De,Ke):(We=ot[Re]=mt[Re](De),We.c()),te(We,1),We.m(ze,null)):We=null)},i(De){Ne||(te(W.$$.fragment,De),te(We),Ne=!0)},o(De){re(W.$$.fragment,De),re(We),Ne=!1},d(De){De&&c(e),qe&&qe.d(),Se(W),~Re&&ot[Re].d(),Je=!1,tt(It)}}}function Ac(s){let e,t,l;function r(o){s[22](o)}let a={$$slots:{default:[Mc]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ql({props:a}),Tt.push(()=>Ut(e,"show",r)),{c(){Ve(e.$$.fragment)},l(o){Ce(e.$$.fragment,o)},m(o,u){xe(e,o,u),l=!0},p(o,[u]){const f={};u&16777231&&(f.$$scope={dirty:u,ctx:o}),!t&&u&1&&(t=!0,f.show=o[0],Bt(()=>t=!1)),e.$set(f)},i(o){l||(te(e.$$.fragment,o),l=!0)},o(o){re(e.$$.fragment,o),l=!1},d(o){Se(e,o)}}}function Lc(s,e,t){let l,r,a;Pe(s,dl,z=>t(23,l=z)),Pe(s,Dl,z=>t(3,a=z));const o=Et("i18n");Pe(s,o,z=>t(2,r=z));let{show:u=!1}=e;const f=async z=>{console.log(z),await dl.set({...l,...z}),await El.set(await v()),await Wa(localStorage.token,{ui:l})},v=async()=>await Za(localStorage.token);let _="general";const g=()=>{t(0,u=!1)},m=()=>{t(1,_="general")},w=()=>{t(1,_="models")},k=()=>{t(1,_="interface")},E=()=>{t(1,_="personalization")},y=()=>{t(1,_="audio")},b=()=>{t(1,_="chats")},D=()=>{t(1,_="account")},I=()=>{Ze.success(r.t("Settings saved successfully!"))},M=()=>{Ze.success(r.t("Settings saved successfully!"))},T=()=>{Ze.success(r.t("Settings saved successfully!"))},S=()=>{Ze.success(r.t("Settings saved successfully!"))},V=()=>{Ze.success(r.t("Settings saved successfully!"))},j=()=>{Ze.success(r.t("Settings saved successfully!"))},P=()=>{Ze.success(r.t("Settings saved successfully!"))};function $(z){u=z,t(0,u)}return s.$$set=z=>{"show"in z&&t(0,u=z.show)},[u,_,r,a,o,f,v,g,m,w,k,E,y,b,D,I,M,T,S,V,j,P,$]}class Oc extends ft{constructor(e){super(),dt(this,e,Lc,Ac,ut,{show:0})}}function Hc(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=p(e);t=rt(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(t).forEach(c),r.forEach(c),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",s[1]),i(e,"stroke","currentColor"),i(e,"class",s[0])},m(l,r){U(l,e,r),n(e,t)},p(l,[r]){r&2&&i(e,"stroke-width",l[1]),r&1&&i(e,"class",l[0])},i:Oe,o:Oe,d(l){l&&c(e)}}}function Nc(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Bc extends ft{constructor(e){super(),dt(this,e,Nc,Hc,ut,{className:0,strokeWidth:1})}}function Uc(s){let e;const t=s[10].default,l=Cs(t,s,s[19],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,a){l&&l.m(r,a),e=!0},p(r,a){l&&l.p&&(!e||a&524288)&&xs(l,t,r,r[19],e?Ms(t,r[19],a,null):Ss(r[19]),null)},i(r){e||(te(l,r),e=!0)},o(r){re(l,r),e=!1},d(r){l&&l.d(r)}}}function Pc(s){let e,t;return e=new hl({props:{content:s[8].t("More"),$$slots:{default:[Uc]},$$scope:{ctx:s}}}),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p(l,r){const a={};r&256&&(a.content=l[8].t("More")),r&524288&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function jc(s){let e,t,l,r=s[8].t("Rename")+"",a,o;return e=new Bc({props:{strokeWidth:"2"}}),{c(){Ve(e.$$.fragment),t=C(),l=d("div"),a=N(r),this.h()},l(u){Ce(e.$$.fragment,u),t=x(u),l=h(u,"DIV",{class:!0});var f=p(l);a=B(f,r),f.forEach(c),this.h()},h(){i(l,"class","flex items-center")},m(u,f){xe(e,u,f),U(u,t,f),U(u,l,f),n(l,a),o=!0},p(u,f){(!o||f&256)&&r!==(r=u[8].t("Rename")+"")&&R(a,r)},i(u){o||(te(e.$$.fragment,u),o=!0)},o(u){re(e.$$.fragment,u),o=!1},d(u){u&&(c(t),c(l)),Se(e,u)}}}function zc(s){let e,t,l,r=s[8].t("Clone")+"",a,o;return e=new fo({props:{strokeWidth:"2"}}),{c(){Ve(e.$$.fragment),t=C(),l=d("div"),a=N(r),this.h()},l(u){Ce(e.$$.fragment,u),t=x(u),l=h(u,"DIV",{class:!0});var f=p(l);a=B(f,r),f.forEach(c),this.h()},h(){i(l,"class","flex items-center")},m(u,f){xe(e,u,f),U(u,t,f),U(u,l,f),n(l,a),o=!0},p(u,f){(!o||f&256)&&r!==(r=u[8].t("Clone")+"")&&R(a,r)},i(u){o||(te(e.$$.fragment,u),o=!0)},o(u){re(e.$$.fragment,u),o=!1},d(u){u&&(c(t),c(l)),Se(e,u)}}}function Rc(s){let e,t,l,r=s[8].t("Archive")+"",a,o;return e=new io({props:{strokeWidth:"2"}}),{c(){Ve(e.$$.fragment),t=C(),l=d("div"),a=N(r),this.h()},l(u){Ce(e.$$.fragment,u),t=x(u),l=h(u,"DIV",{class:!0});var f=p(l);a=B(f,r),f.forEach(c),this.h()},h(){i(l,"class","flex items-center")},m(u,f){xe(e,u,f),U(u,t,f),U(u,l,f),n(l,a),o=!0},p(u,f){(!o||f&256)&&r!==(r=u[8].t("Archive")+"")&&R(a,r)},i(u){o||(te(e.$$.fragment,u),o=!0)},o(u){re(e.$$.fragment,u),o=!1},d(u){u&&(c(t),c(l)),Se(e,u)}}}function $c(s){let e,t,l,r=s[8].t("Share")+"",a,o;return e=new ho({}),{c(){Ve(e.$$.fragment),t=C(),l=d("div"),a=N(r),this.h()},l(u){Ce(e.$$.fragment,u),t=x(u),l=h(u,"DIV",{class:!0});var f=p(l);a=B(f,r),f.forEach(c),this.h()},h(){i(l,"class","flex items-center")},m(u,f){xe(e,u,f),U(u,t,f),U(u,l,f),n(l,a),o=!0},p(u,f){(!o||f&256)&&r!==(r=u[8].t("Share")+"")&&R(a,r)},i(u){o||(te(e.$$.fragment,u),o=!0)},o(u){re(e.$$.fragment,u),o=!1},d(u){u&&(c(t),c(l)),Se(e,u)}}}function Zc(s){let e,t,l,r=s[8].t("Delete")+"",a,o;return e=new vo({props:{strokeWidth:"2"}}),{c(){Ve(e.$$.fragment),t=C(),l=d("div"),a=N(r),this.h()},l(u){Ce(e.$$.fragment,u),t=x(u),l=h(u,"DIV",{class:!0});var f=p(l);a=B(f,r),f.forEach(c),this.h()},h(){i(l,"class","flex items-center")},m(u,f){xe(e,u,f),U(u,t,f),U(u,l,f),n(l,a),o=!0},p(u,f){(!o||f&256)&&r!==(r=u[8].t("Delete")+"")&&R(a,r)},i(u){o||(te(e.$$.fragment,u),o=!0)},o(u){re(e.$$.fragment,u),o=!1},d(u){u&&(c(t),c(l)),Se(e,u)}}}function Wc(s){let e,t,l,r,a,o,u,f,v,_,g,m,w,k,E;return e=new jl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[jc]},$$scope:{ctx:s}}}),e.$on("click",s[11]),l=new jl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[zc]},$$scope:{ctx:s}}}),l.$on("click",s[12]),a=new jl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Rc]},$$scope:{ctx:s}}}),a.$on("click",s[13]),u=new jl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[$c]},$$scope:{ctx:s}}}),u.$on("click",s[14]),v=new jl({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Zc]},$$scope:{ctx:s}}}),v.$on("click",s[15]),k=new oo({props:{chatId:s[6]}}),k.$on("close",s[16]),{c(){Ve(e.$$.fragment),t=C(),Ve(l.$$.fragment),r=C(),Ve(a.$$.fragment),o=C(),Ve(u.$$.fragment),f=C(),Ve(v.$$.fragment),_=C(),g=d("hr"),m=C(),w=d("div"),Ve(k.$$.fragment),this.h()},l(y){Ce(e.$$.fragment,y),t=x(y),Ce(l.$$.fragment,y),r=x(y),Ce(a.$$.fragment,y),o=x(y),Ce(u.$$.fragment,y),f=x(y),Ce(v.$$.fragment,y),_=x(y),g=h(y,"HR",{class:!0}),m=x(y),w=h(y,"DIV",{class:!0});var b=p(w);Ce(k.$$.fragment,b),b.forEach(c),this.h()},h(){i(g,"class","border-gray-100 dark:border-gray-800 mt-2.5 mb-1.5"),i(w,"class","flex p-1")},m(y,b){xe(e,y,b),U(y,t,b),xe(l,y,b),U(y,r,b),xe(a,y,b),U(y,o,b),xe(u,y,b),U(y,f,b),xe(v,y,b),U(y,_,b),U(y,g,b),U(y,m,b),U(y,w,b),xe(k,w,null),E=!0},p(y,b){const D={};b&524544&&(D.$$scope={dirty:b,ctx:y}),e.$set(D);const I={};b&524544&&(I.$$scope={dirty:b,ctx:y}),l.$set(I);const M={};b&524544&&(M.$$scope={dirty:b,ctx:y}),a.$set(M);const T={};b&524544&&(T.$$scope={dirty:b,ctx:y}),u.$set(T);const S={};b&524544&&(S.$$scope={dirty:b,ctx:y}),v.$set(S);const V={};b&64&&(V.chatId=y[6]),k.$set(V)},i(y){E||(te(e.$$.fragment,y),te(l.$$.fragment,y),te(a.$$.fragment,y),te(u.$$.fragment,y),te(v.$$.fragment,y),te(k.$$.fragment,y),E=!0)},o(y){re(e.$$.fragment,y),re(l.$$.fragment,y),re(a.$$.fragment,y),re(u.$$.fragment,y),re(v.$$.fragment,y),re(k.$$.fragment,y),E=!1},d(y){y&&(c(t),c(r),c(o),c(f),c(_),c(g),c(m),c(w)),Se(e,y),Se(l,y),Se(a,y),Se(u,y),Se(v,y),Se(k)}}}function qc(s){let e,t,l;return t=new en({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:Ja,$$slots:{default:[Wc]},$$scope:{ctx:s}}}),{c(){e=d("div"),Ve(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var a=p(e);Ce(t.$$.fragment,a),a.forEach(c),this.h()},h(){i(e,"slot","content")},m(r,a){U(r,e,a),xe(t,e,null),l=!0},p(r,a){const o={};a&524799&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){l||(te(t.$$.fragment,r),l=!0)},o(r){re(t.$$.fragment,r),l=!1},d(r){r&&c(e),Se(t)}}}function Gc(s){let e,t,l;function r(o){s[17](o)}let a={$$slots:{content:[qc],default:[Pc]},$$scope:{ctx:s}};return s[7]!==void 0&&(a.show=s[7]),e=new Qa({props:a}),Tt.push(()=>Ut(e,"show",r)),e.$on("change",s[18]),{c(){Ve(e.$$.fragment)},l(o){Ce(e.$$.fragment,o)},m(o,u){xe(e,o,u),l=!0},p(o,[u]){const f={};u&524799&&(f.$$scope={dirty:u,ctx:o}),!t&&u&128&&(t=!0,f.show=o[7],Bt(()=>t=!1)),e.$set(f)},i(o){l||(te(e.$$.fragment,o),l=!0)},o(o){re(e.$$.fragment,o),l=!1},d(o){Se(e,o)}}}function Yc(s,e,t){let l,{$$slots:r={},$$scope:a}=e;const o=Et("i18n");Pe(s,o,V=>t(8,l=V));let{shareHandler:u}=e,{cloneChatHandler:f}=e,{archiveChatHandler:v}=e,{renameHandler:_}=e,{deleteHandler:g}=e,{onClose:m}=e,{chatId:w=""}=e,k=!1;const E=()=>{_()},y=()=>{f()},b=()=>{v()},D=()=>{u()},I=()=>{g()},M=()=>{t(7,k=!1),m()};function T(V){k=V,t(7,k)}const S=V=>{V.detail===!1&&m()};return s.$$set=V=>{"shareHandler"in V&&t(0,u=V.shareHandler),"cloneChatHandler"in V&&t(1,f=V.cloneChatHandler),"archiveChatHandler"in V&&t(2,v=V.archiveChatHandler),"renameHandler"in V&&t(3,_=V.renameHandler),"deleteHandler"in V&&t(4,g=V.deleteHandler),"onClose"in V&&t(5,m=V.onClose),"chatId"in V&&t(6,w=V.chatId),"$$scope"in V&&t(19,a=V.$$scope)},[u,f,v,_,g,m,w,k,l,o,r,E,y,b,D,I,M,T,S,a]}class Kc extends ft{constructor(e){super(),dt(this,e,Yc,Gc,ut,{shareHandler:0,cloneChatHandler:1,archiveChatHandler:2,renameHandler:3,deleteHandler:4,onClose:5,chatId:6})}}function ma(s,e,t){const l=s.slice();return l[17]=e[t],l[19]=t,l}function Fc(s){let e,t=s[3].t("You have no archived conversations.")+"",l;return{c(){e=d("div"),l=N(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","text-left text-sm w-full mb-8")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a&8&&t!==(t=r[3].t("You have no archived conversations.")+"")&&R(l,t)},i:Oe,o:Oe,d(r){r&&c(e)}}}function Xc(s){let e,t,l,r,a,o,u,f=s[3].t("Name")+"",v,_,g,m=s[3].t("Created At")+"",w,k,E,y,b,D,I,M,T="Export All Archived Chats",S,V,j,P=Ye(s[2].filter(s[10])),$=[];for(let A=0;A<P.length;A+=1)$[A]=ga(ma(s,P,A));const z=A=>re($[A],1,1,()=>{$[A]=null});return{c(){e=d("div"),t=d("div"),l=d("div"),r=d("table"),a=d("thead"),o=d("tr"),u=d("th"),v=N(f),_=C(),g=d("th"),w=N(m),k=C(),E=d("th"),y=C(),b=d("tbody");for(let A=0;A<$.length;A+=1)$[A].c();D=C(),I=d("div"),M=d("button"),M.textContent=T,this.h()},l(A){e=h(A,"DIV",{class:!0});var O=p(e);t=h(O,"DIV",{class:!0});var L=p(t);l=h(L,"DIV",{class:!0});var G=p(l);r=h(G,"TABLE",{class:!0});var H=p(r);a=h(H,"THEAD",{class:!0});var W=p(a);o=h(W,"TR",{});var q=p(o);u=h(q,"TH",{scope:!0,class:!0});var Y=p(u);v=B(Y,f),Y.forEach(c),_=x(q),g=h(q,"TH",{scope:!0,class:!0});var Z=p(g);w=B(Z,m),Z.forEach(c),k=x(q),E=h(q,"TH",{scope:!0,class:!0}),p(E).forEach(c),q.forEach(c),W.forEach(c),y=x(H),b=h(H,"TBODY",{});var K=p(b);for(let J=0;J<$.length;J+=1)$[J].l(K);K.forEach(c),H.forEach(c),G.forEach(c),L.forEach(c),D=x(O),I=h(O,"DIV",{class:!0});var X=p(I);M=h(X,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(M)!=="svelte-1kobxt8"&&(M.textContent=T),X.forEach(c),O.forEach(c),this.h()},h(){i(u,"scope","col"),i(u,"class","px-3 py-2"),i(g,"scope","col"),i(g,"class","px-3 py-2 hidden md:flex"),i(E,"scope","col"),i(E,"class","px-3 py-2 text-right"),i(a,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),i(r,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),i(l,"class","relative overflow-x-auto"),i(t,"class","text-left text-sm w-full mb-3 max-h-[22rem] overflow-y-scroll"),i(M,"class","px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-300 dark:outline-gray-800 rounded-3xl"),i(I,"class","flex flex-wrap text-sm font-medium gap-1.5 mt-2 m-1"),i(e,"class","w-full")},m(A,O){U(A,e,O),n(e,t),n(t,l),n(l,r),n(r,a),n(a,o),n(o,u),n(u,v),n(o,_),n(o,g),n(g,w),n(o,k),n(o,E),n(r,y),n(r,b);for(let L=0;L<$.length;L+=1)$[L]&&$[L].m(b,null);n(e,D),n(e,I),n(I,M),S=!0,V||(j=ee(M,"click",s[13]),V=!0)},p(A,O){if((!S||O&8)&&f!==(f=A[3].t("Name")+"")&&R(v,f),(!S||O&8)&&m!==(m=A[3].t("Created At")+"")&&R(w,m),O&110){P=Ye(A[2].filter(A[10]));let L;for(L=0;L<P.length;L+=1){const G=ma(A,P,L);$[L]?($[L].p(G,O),te($[L],1)):($[L]=ga(G),$[L].c(),te($[L],1),$[L].m(b,null))}for(Lt(),L=P.length;L<$.length;L+=1)z(L);Ot()}},i(A){if(!S){for(let O=0;O<P.length;O+=1)te($[O]);S=!0}},o(A){$=$.filter(Boolean);for(let O=0;O<$.length;O+=1)re($[O]);S=!1},d(A){A&&c(e),xt($,A),V=!1,j()}}}function Jc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"></path></svg>',l,r;function a(){return s[11](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1x4djqv"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,u){U(o,e,u),l||(r=ee(e,"click",a),l=!0)},p(o,u){s=o},d(o){o&&c(e),l=!1,r()}}}function Qc(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function a(){return s[12](s[17])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1pagubv"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,u){U(o,e,u),l||(r=ee(e,"click",a),l=!0)},p(o,u){s=o},d(o){o&&c(e),l=!1,r()}}}function ga(s){let e,t,l,r,a=s[17].title+"",o,u,f,v,_,g=fs(s[17].created_at*1e3).format(s[3].t("MMMM DD, YYYY HH:mm"))+"",m,w,k,E,y,b,D,I,M,T;return y=new hl({props:{content:"Unarchive Chat",$$slots:{default:[Jc]},$$scope:{ctx:s}}}),D=new hl({props:{content:"Delete Chat",$$slots:{default:[Qc]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),r=d("div"),o=N(a),f=C(),v=d("td"),_=d("div"),m=N(g),w=C(),k=d("td"),E=d("div"),Ve(y.$$.fragment),b=C(),Ve(D.$$.fragment),I=C(),this.h()},l(S){e=h(S,"TR",{class:!0});var V=p(e);t=h(V,"TD",{class:!0});var j=p(t);l=h(j,"A",{href:!0,target:!0});var P=p(l);r=h(P,"DIV",{class:!0});var $=p(r);o=B($,a),$.forEach(c),P.forEach(c),j.forEach(c),f=x(V),v=h(V,"TD",{class:!0});var z=p(v);_=h(z,"DIV",{class:!0});var A=p(_);m=B(A,g),A.forEach(c),z.forEach(c),w=x(V),k=h(V,"TD",{class:!0});var O=p(k);E=h(O,"DIV",{class:!0});var L=p(E);Ce(y.$$.fragment,L),b=x(L),Ce(D.$$.fragment,L),L.forEach(c),O.forEach(c),I=x(V),V.forEach(c),this.h()},h(){i(r,"class","underline line-clamp-1"),i(l,"href",u="/c/"+s[17].id),i(l,"target","_blank"),i(t,"class","px-3 py-1 w-2/3"),i(_,"class","my-auto"),i(v,"class","px-3 py-1 hidden md:flex h-[2.5rem]"),i(E,"class","flex justify-end w-full"),i(k,"class","px-3 py-1 text-right"),i(e,"class",M="bg-transparent "+(s[19]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(S,V){U(S,e,V),n(e,t),n(t,l),n(l,r),n(r,o),n(e,f),n(e,v),n(v,_),n(_,m),n(e,w),n(e,k),n(k,E),xe(y,E,null),n(E,b),xe(D,E,null),n(e,I),T=!0},p(S,V){(!T||V&6)&&a!==(a=S[17].title+"")&&R(o,a),(!T||V&6&&u!==(u="/c/"+S[17].id))&&i(l,"href",u),(!T||V&14)&&g!==(g=fs(S[17].created_at*1e3).format(S[3].t("MMMM DD, YYYY HH:mm"))+"")&&R(m,g);const j={};V&1048582&&(j.$$scope={dirty:V,ctx:S}),y.$set(j);const P={};V&1048582&&(P.$$scope={dirty:V,ctx:S}),D.$set(P),(!T||V&4&&M!==(M="bg-transparent "+(S[19]!==S[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&i(e,"class",M)},i(S){T||(te(y.$$.fragment,S),te(D.$$.fragment,S),T=!0)},o(S){re(y.$$.fragment,S),re(D.$$.fragment,S),T=!1},d(S){S&&c(e),Se(y),Se(D)}}}function eu(s){let e,t,l,r=s[3].t("Archived Chats")+"",a,o,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,_,g,m,w,k='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',E,y,b,D,I,M,T,S,V,j,P,$;const z=[Xc,Fc],A=[];function O(L,G){return L[2].length>0?0:1}return S=O(s),V=A[S]=z[S](s),{c(){e=d("div"),t=d("div"),l=d("div"),a=N(r),o=C(),u=d("button"),u.innerHTML=f,v=C(),_=d("div"),g=d("div"),m=d("div"),w=d("div"),w.innerHTML=k,E=C(),y=d("input"),D=C(),I=d("hr"),M=C(),T=d("div"),V.c(),this.h()},l(L){e=h(L,"DIV",{});var G=p(e);t=h(G,"DIV",{class:!0});var H=p(t);l=h(H,"DIV",{class:!0});var W=p(l);a=B(W,r),W.forEach(c),o=x(H),u=h(H,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(u)!=="svelte-745w2y"&&(u.innerHTML=f),H.forEach(c),v=x(G),_=h(G,"DIV",{class:!0});var q=p(_);g=h(q,"DIV",{class:!0});var Y=p(g);m=h(Y,"DIV",{class:!0});var Z=p(m);w=h(Z,"DIV",{class:!0,"data-svelte-h":!0}),ye(w)!=="svelte-kinl2y"&&(w.innerHTML=k),E=x(Z),y=h(Z,"INPUT",{class:!0,placeholder:!0}),Z.forEach(c),Y.forEach(c),D=x(q),I=h(q,"HR",{class:!0}),M=x(q),T=h(q,"DIV",{class:!0});var K=p(T);V.l(K),K.forEach(c),q.forEach(c),G.forEach(c),this.h()},h(){i(l,"class","text-lg font-medium self-center"),i(u,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-1"),i(w,"class","self-center ml-1 mr-3"),i(y,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),i(y,"placeholder",b=s[3].t("Search Chats")),i(m,"class","flex flex-1"),i(g,"class","flex w-full mt-2 space-x-2"),i(I,"class","dark:border-gray-850 my-2"),i(T,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(_,"class","flex flex-col w-full px-5 pb-4 dark:text-gray-200")},m(L,G){U(L,e,G),n(e,t),n(t,l),n(l,a),n(t,o),n(t,u),n(e,v),n(e,_),n(_,g),n(g,m),n(m,w),n(m,E),n(m,y),_e(y,s[1]),n(_,D),n(_,I),n(_,M),n(_,T),A[S].m(T,null),j=!0,P||($=[ee(u,"click",s[8]),ee(y,"input",s[9])],P=!0)},p(L,G){(!j||G&8)&&r!==(r=L[3].t("Archived Chats")+"")&&R(a,r),(!j||G&8&&b!==(b=L[3].t("Search Chats")))&&i(y,"placeholder",b),G&2&&y.value!==L[1]&&_e(y,L[1]);let H=S;S=O(L),S===H?A[S].p(L,G):(Lt(),re(A[H],1,1,()=>{A[H]=null}),Ot(),V=A[S],V?V.p(L,G):(V=A[S]=z[S](L),V.c()),te(V,1),V.m(T,null))},i(L){j||(te(V),j=!0)},o(L){re(V),j=!1},d(L){L&&c(e),A[S].d(),P=!1,tt($)}}}function tu(s){let e,t,l;function r(o){s[14](o)}let a={size:"lg",$$slots:{default:[eu]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ql({props:a}),Tt.push(()=>Ut(e,"show",r)),{c(){Ve(e.$$.fragment)},l(o){Ce(e.$$.fragment,o)},m(o,u){xe(e,o,u),l=!0},p(o,[u]){const f={};u&1048591&&(f.$$scope={dirty:u,ctx:o}),!t&&u&1&&(t=!0,f.show=o[0],Bt(()=>t=!1)),e.$set(f)},i(o){l||(te(e.$$.fragment,o),l=!0)},o(o){re(e.$$.fragment,o),l=!1},d(o){Se(e,o)}}}function lu(s,e,t){let l;const{saveAs:r}=As,a=Tl(),o=Et("i18n");Pe(s,o,M=>t(3,l=M));let{show:u=!1}=e,f="",v=[];const _=async M=>{await qa(localStorage.token,M).catch(T=>{Ze.error(T)}),t(2,v=await ps(localStorage.token)),a("change")},g=async M=>{await Ga(localStorage.token,M).catch(T=>{Ze.error(T)}),t(2,v=await ps(localStorage.token))},m=async()=>{const M=await hn(localStorage.token);let T=new Blob([JSON.stringify(M)],{type:"application/json"});r(T,`archived-chat-export-${Date.now()}.json`)},w=()=>{t(0,u=!1)};function k(){f=this.value,t(1,f)}const E=M=>f===""||M.title.toLowerCase().includes(f.toLowerCase()),y=async M=>{_(M.id)},b=async M=>{g(M.id)},D=()=>{m()};function I(M){u=M,t(0,u)}return s.$$set=M=>{"show"in M&&t(0,u=M.show)},s.$$.update=()=>{s.$$.dirty&1&&u&&(async()=>t(2,v=await ps(localStorage.token)))()},[u,f,v,l,o,_,g,m,w,k,E,y,b,D,I]}class su extends ft{constructor(e){super(),dt(this,e,lu,tu,ut,{show:0})}}function ba(s,e,t){const l=s.slice();return l[60]=e[t],l[62]=t,l}function wa(s,e,t){const l=s.slice();return l[63]=e[t],l}function ka(s){let e,t,l;return{c(){e=d("div"),this.h()},l(r){e=h(r,"DIV",{class:!0}),p(e).forEach(c),this.h()},h(){i(e,"class","fixed md:hidden z-40 top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center overflow-hidden overscroll-contain")},m(r,a){U(r,e,a),t||(l=ee(e,"mousedown",s[30]),t=!0)},p:Oe,d(r){r&&c(e),t=!1,l()}}}function ya(s){let e,t,l,r='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-[1.1rem]"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>',a,o,u,f=s[13].t("Workspace")+"",v,_,g;return{c(){e=d("div"),t=d("a"),l=d("div"),l.innerHTML=r,a=C(),o=d("div"),u=d("div"),v=N(f),this.h()},l(m){e=h(m,"DIV",{class:!0});var w=p(e);t=h(w,"A",{class:!0,href:!0,draggable:!0});var k=p(t);l=h(k,"DIV",{class:!0,"data-svelte-h":!0}),ye(l)!=="svelte-zod9jr"&&(l.innerHTML=r),a=x(k),o=h(k,"DIV",{class:!0});var E=p(o);u=h(E,"DIV",{class:!0});var y=p(u);v=B(y,f),y.forEach(c),E.forEach(c),k.forEach(c),w.forEach(c),this.h()},h(){i(l,"class","self-center"),i(u,"class","self-center font-medium text-sm"),i(o,"class","flex self-center"),i(t,"class","flex-grow flex space-x-3 rounded-xl px-2.5 py-2 hover:bg-gray-100 dark:hover:bg-gray-900 transition"),i(t,"href","/workspace"),i(t,"draggable","false"),i(e,"class","px-2.5 flex justify-center text-gray-800 dark:text-gray-200")},m(m,w){U(m,e,w),n(e,t),n(t,l),n(t,a),n(t,o),n(o,u),n(u,v),_||(g=ee(t,"click",s[33]),_=!0)},p(m,w){w[0]&8192&&f!==(f=m[13].t("Workspace")+"")&&R(v,f)},d(m){m&&c(e),_=!1,g()}}}function Ea(s){let e,t,l,r=s[13].t("Chat History is off for this browser.")+"",a,o,u,f=s[13].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"",v,_,g,m=s[13].t("This setting does not sync across browsers or devices.")+"",w,k,E,y,b,D,I,M,T=s[13].t("Enable Chat History")+"",S,V,j;return{c(){e=d("div"),t=d("div"),l=d("div"),a=N(r),o=C(),u=d("div"),v=N(f),_=C(),g=d("span"),w=N(m),k=C(),E=d("div"),y=d("button"),b=st("svg"),D=st("path"),I=C(),M=d("div"),S=N(T),this.h()},l(P){e=h(P,"DIV",{class:!0});var $=p(e);t=h($,"DIV",{class:!0});var z=p(t);l=h(z,"DIV",{class:!0});var A=p(l);a=B(A,r),A.forEach(c),o=x(z),u=h(z,"DIV",{class:!0});var O=p(u);v=B(O,f),_=x(O),g=h(O,"SPAN",{class:!0});var L=p(g);w=B(L,m),L.forEach(c),O.forEach(c),k=x(z),E=h(z,"DIV",{class:!0});var G=p(E);y=h(G,"BUTTON",{class:!0,type:!0});var H=p(y);b=rt(H,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var W=p(b);D=rt(W,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(D).forEach(c),W.forEach(c),I=x(H),M=h(H,"DIV",{});var q=p(M);S=B(q,T),q.forEach(c),H.forEach(c),G.forEach(c),z.forEach(c),$.forEach(c),this.h()},h(){i(l,"class","font-medium"),i(g,"class","font-semibold"),i(u,"class","text-xs mt-2"),i(D,"fill-rule","evenodd"),i(D,"d","M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z"),i(D,"clip-rule","evenodd"),i(b,"xmlns","http://www.w3.org/2000/svg"),i(b,"viewBox","0 0 16 16"),i(b,"fill","currentColor"),i(b,"class","w-3 h-3"),i(y,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-100 hover:bg-gray-200 transition text-gray-800 font-medium w-full"),i(y,"type","button"),i(E,"class","mt-3"),i(t,"class","text-left px-5 py-2"),i(e,"class","absolute z-40 w-full h-full bg-gray-50/90 dark:bg-black/90 flex justify-center")},m(P,$){U(P,e,$),n(e,t),n(t,l),n(l,a),n(t,o),n(t,u),n(u,v),n(u,_),n(u,g),n(g,w),n(t,k),n(t,E),n(E,y),n(y,b),n(b,D),n(y,I),n(y,M),n(M,S),V||(j=ee(y,"click",s[34]),V=!0)},p(P,$){$[0]&8192&&r!==(r=P[13].t("Chat History is off for this browser.")+"")&&R(a,r),$[0]&8192&&f!==(f=P[13].t("When history is turned off, new chats on this browser won't appear in your history on any of your devices.")+"")&&R(v,f),$[0]&8192&&m!==(m=P[13].t("This setting does not sync across browsers or devices.")+"")&&R(w,m),$[0]&8192&&T!==(T=P[13].t("Enable Chat History")+"")&&R(S,T)},d(P){P&&c(e),V=!1,j()}}}function Ia(s){let e,t,l=s[13].t("all")+"",r,a,o,u,f=Ye(s[18]),v=[];for(let _=0;_<f.length;_+=1)v[_]=Da(wa(s,f,_));return{c(){e=d("div"),t=d("button"),r=N(l),a=C();for(let _=0;_<v.length;_+=1)v[_].c();this.h()},l(_){e=h(_,"DIV",{class:!0});var g=p(e);t=h(g,"BUTTON",{class:!0});var m=p(t);r=B(m,l),m.forEach(c),a=x(g);for(let w=0;w<v.length;w+=1)v[w].l(g);g.forEach(c),this.h()},h(){i(t,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full"),i(e,"class","px-2.5 mb-2 flex gap-1 flex-wrap")},m(_,g){U(_,e,g),n(e,t),n(t,r),n(e,a);for(let m=0;m<v.length;m+=1)v[m]&&v[m].m(e,null);o||(u=ee(t,"click",s[37]),o=!0)},p(_,g){if(g[0]&8192&&l!==(l=_[13].t("all")+"")&&R(r,l),g[0]&262144){f=Ye(_[18]);let m;for(m=0;m<f.length;m+=1){const w=wa(_,f,m);v[m]?v[m].p(w,g):(v[m]=Da(w),v[m].c(),v[m].m(e,null))}for(;m<v.length;m+=1)v[m].d(1);v.length=f.length}},d(_){_&&c(e),xt(v,_),o=!1,u()}}}function Da(s){let e,t=s[63].name+"",l,r,a,o;function u(){return s[38](s[63])}return{c(){e=d("button"),l=N(t),r=C(),this.h()},l(f){e=h(f,"BUTTON",{class:!0});var v=p(e);l=B(v,t),r=x(v),v.forEach(c),this.h()},h(){i(e,"class","px-2.5 text-xs font-medium bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 transition rounded-full")},m(f,v){U(f,e,v),n(e,l),n(e,r),a||(o=ee(e,"click",u),a=!0)},p(f,v){s=f,v[0]&262144&&t!==(t=s[63].name+"")&&R(l,t)},d(f){f&&c(e),a=!1,o()}}}function Ta(s){let e,t=s[13].t(s[60].time_range)+"",l;return{c(){e=d("div"),l=N(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var a=p(e);l=B(a,t),a.forEach(c),this.h()},h(){i(e,"class","w-full pl-2.5 text-xs text-gray-500 dark:text-gray-500 font-medium "+(s[62]===0?"":"pt-5")+" pb-0.5")},m(r,a){U(r,e,a),n(e,l)},p(r,a){a[0]&9216&&t!==(t=r[13].t(r[60].time_range)+"")&&R(l,t)},d(r){r&&c(e)}}}function ru(s){let e,t,l,r=s[60].title+"",a,o,u,f,v;function _(){return s[40](s[60])}function g(){return s[41](s[60])}return{c(){e=d("a"),t=d("div"),l=d("div"),a=N(r),this.h()},l(m){e=h(m,"A",{class:!0,href:!0,draggable:!0});var w=p(e);t=h(w,"DIV",{class:!0});var k=p(t);l=h(k,"DIV",{class:!0});var E=p(l);a=B(E,r),E.forEach(c),k.forEach(c),w.forEach(c),this.h()},h(){i(l,"class","text-left self-center overflow-hidden w-full h-[20px]"),i(t,"class","flex self-center flex-1 w-full"),i(e,"class",o="w-full flex justify-between rounded-xl px-3 py-2 "+(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[60].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis"),i(e,"href",u="/c/"+s[60].id),i(e,"draggable","false")},m(m,w){U(m,e,w),n(e,t),n(t,l),n(l,a),f||(v=[ee(e,"click",_),ee(e,"dblclick",g)],f=!0)},p(m,w){s=m,w[0]&1024&&r!==(r=s[60].title+"")&&R(a,r),w[0]&5232&&o!==(o="w-full flex justify-between rounded-xl px-3 py-2 "+(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[60].id===s[4]?"bg-gray-100 dark:bg-gray-950":" group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&i(e,"class",o),w[0]&1024&&u!==(u="/c/"+s[60].id)&&i(e,"href",u)},d(m){m&&c(e),f=!1,tt(v)}}}function au(s){let e,t,l,r,a;return{c(){e=d("div"),t=d("input"),this.h()},l(o){e=h(o,"DIV",{class:!0});var u=p(e);t=h(u,"INPUT",{class:!0}),u.forEach(c),this.h()},h(){i(t,"class","bg-transparent w-full outline-none mr-10"),i(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 "+(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"bg-gray-200 dark:bg-gray-900":s[60].id===s[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")},m(o,u){U(o,e,u),n(e,t),_e(t,s[7]),r||(a=[sn(s[26].call(null,t)),ee(t,"input",s[39])],r=!0)},p(o,u){u[0]&128&&t.value!==o[7]&&_e(t,o[7]),u[0]&5232&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 "+(o[60].id===o[12]||o[60].id===o[6]||o[60].id===o[5]?"bg-gray-200 dark:bg-gray-900":o[60].id===o[4]?"bg-gray-100 dark:bg-gray-950":"group-hover:bg-gray-100 dark:group-hover:bg-gray-950")+" whitespace-nowrap text-ellipsis")&&i(e,"class",l)},d(o){o&&c(e),r=!1,tt(a)}}}function nu(s){let e,t,l,r;function a(){return s[47](s[60])}function o(){return s[49](s[60])}function u(){return s[50](s[60])}function f(){return s[51](s[60])}t=new Kc({props:{chatId:s[60].id,cloneChatHandler:a,shareHandler:s[48],archiveChatHandler:o,renameHandler:u,deleteHandler:f,onClose:s[52],$$slots:{default:[cu]},$$scope:{ctx:s}}});let v=s[60].id===s[12]&&Va(s);return{c(){e=d("div"),Ve(t.$$.fragment),l=C(),v&&v.c(),this.h()},l(_){e=h(_,"DIV",{class:!0});var g=p(e);Ce(t.$$.fragment,g),l=x(g),v&&v.l(g),g.forEach(c),this.h()},h(){i(e,"class","flex self-center space-x-1 z-10")},m(_,g){U(_,e,g),xe(t,e,null),n(e,l),v&&v.m(e,null),r=!0},p(_,g){s=_;const m={};g[0]&1024&&(m.chatId=s[60].id),g[0]&1024&&(m.cloneChatHandler=a),g[0]&280&&(m.shareHandler=s[48]),g[0]&1024&&(m.archiveChatHandler=o),g[0]&1216&&(m.renameHandler=u),g[0]&1056&&(m.deleteHandler=f),g[0]&16&&(m.onClose=s[52]),g[0]&1040|g[2]&16&&(m.$$scope={dirty:g,ctx:s}),t.$set(m),s[60].id===s[12]?v?v.p(s,g):(v=Va(s),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i(_){r||(te(t.$$.fragment,_),r=!0)},o(_){re(t.$$.fragment,_),r=!1},d(_){_&&c(e),Se(t),v&&v.d()}}}function ou(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,a,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',u,f;function v(){return s[44](s[60])}return{c(){e=d("div"),t=d("button"),t.innerHTML=l,r=C(),a=d("button"),a.innerHTML=o,this.h()},l(_){e=h(_,"DIV",{class:!0});var g=p(e);t=h(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(t)!=="svelte-b43ps3"&&(t.innerHTML=l),r=x(g),a=h(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(a)!=="svelte-1rs1rrb"&&(a.innerHTML=o),g.forEach(c),this.h()},h(){i(t,"class","self-center dark:hover:text-white transition"),i(a,"class","self-center dark:hover:text-white transition"),i(e,"class","flex self-center space-x-1.5 z-10")},m(_,g){U(_,e,g),n(e,t),n(e,r),n(e,a),u||(f=[ee(t,"click",v),ee(a,"click",s[45])],u=!0)},p(_,g){s=_},i:Oe,o:Oe,d(_){_&&c(e),u=!1,tt(f)}}}function iu(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,a,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',u,f;function v(){return s[42](s[60])}return{c(){e=d("div"),t=d("button"),t.innerHTML=l,r=C(),a=d("button"),a.innerHTML=o,this.h()},l(_){e=h(_,"DIV",{class:!0});var g=p(e);t=h(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(t)!=="svelte-s5m6yg"&&(t.innerHTML=l),r=x(g),a=h(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(a)!=="svelte-tqhykr"&&(a.innerHTML=o),g.forEach(c),this.h()},h(){i(t,"class","self-center dark:hover:text-white transition"),i(a,"class","self-center dark:hover:text-white transition"),i(e,"class","flex self-center space-x-1.5 z-10")},m(_,g){U(_,e,g),n(e,t),n(e,r),n(e,a),u||(f=[ee(t,"click",v),ee(a,"click",s[43])],u=!0)},p(_,g){s=_},i:Oe,o:Oe,d(_){_&&c(e),u=!1,tt(f)}}}function cu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,r;function a(){return s[46](s[60])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-pdrw69"&&(e.innerHTML=t),this.h()},h(){i(e,"aria-label","Chat Menu"),i(e,"class","self-center dark:hover:text-white transition")},m(o,u){U(o,e,u),l||(r=ee(e,"click",a),l=!0)},p(o,u){s=o},d(o){o&&c(e),l=!1,r()}}}function Va(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"></path></svg>',l,r;function a(){return s[53](s[60])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=h(o,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-u345si"&&(e.innerHTML=t),this.h()},h(){i(e,"id","delete-chat-button"),i(e,"class","hidden")},m(o,u){U(o,e,u),l||(r=ee(e,"click",a),l=!0)},p(o,u){s=o},d(o){o&&c(e),l=!1,r()}}}function Ca(s){let e,t,l,r,a,o,u,f,v,_=(s[62]===0||s[62]>0&&s[60].time_range!==s[10][s[62]-1].time_range)&&Ta(s);function g(b,D){return b[6]===b[60].id?au:ru}let m=g(s),w=m(s);const k=[iu,ou,nu],E=[];function y(b,D){return b[6]===b[60].id?0:b[5]===b[60].id?1:2}return a=y(s),o=E[a]=k[a](s),{c(){_&&_.c(),e=C(),t=d("div"),w.c(),l=C(),r=d("div"),o.c(),f=C(),this.h()},l(b){_&&_.l(b),e=x(b),t=h(b,"DIV",{class:!0});var D=p(t);w.l(D),l=x(D),r=h(D,"DIV",{class:!0});var I=p(r);o.l(I),I.forEach(c),f=x(D),D.forEach(c),this.h()},h(){i(r,"class",u=(s[60].id===s[12]||s[60].id===s[6]||s[60].id===s[5]?"from-gray-200 dark:from-gray-900":s[60].id===s[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"),i(t,"class","w-full pr-2 relative group")},m(b,D){_&&_.m(b,D),U(b,e,D),U(b,t,D),w.m(t,null),n(t,l),n(t,r),E[a].m(r,null),n(t,f),v=!0},p(b,D){b[62]===0||b[62]>0&&b[60].time_range!==b[10][b[62]-1].time_range?_?_.p(b,D):(_=Ta(b),_.c(),_.m(e.parentNode,e)):_&&(_.d(1),_=null),m===(m=g(b))&&w?w.p(b,D):(w.d(1),w=m(b),w&&(w.c(),w.m(t,l)));let I=a;a=y(b),a===I?E[a].p(b,D):(Lt(),re(E[I],1,1,()=>{E[I]=null}),Ot(),o=E[a],o?o.p(b,D):(o=E[a]=k[a](b),o.c()),te(o,1),o.m(r,null)),(!v||D[0]&5232&&u!==(u=(b[60].id===b[12]||b[60].id===b[6]||b[60].id===b[5]?"from-gray-200 dark:from-gray-900":b[60].id===b[4]?"from-gray-100 dark:from-gray-950":"invisible group-hover:visible from-gray-100 dark:from-gray-950")+" absolute right-[10px] top-[10px] pr-2 pl-5 bg-gradient-to-l from-80% to-transparent"))&&i(r,"class",u)},i(b){v||(te(o),v=!0)},o(b){re(o),v=!1},d(b){b&&(c(e),c(t)),_&&_.d(b),w.d(),E[a].d()}}}function xa(s){let e,t;return e=new uo({props:{role:s[17].role,$$slots:{default:[uu]},$$scope:{ctx:s}}}),e.$on("show",s[55]),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p(l,r){const a={};r[0]&131072&&(a.role=l[17].role),r[0]&131584|r[2]&16&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function uu(s){let e,t,l,r,a,o,u=s[17].name+"",f,v,_;return{c(){e=d("button"),t=d("div"),l=d("img"),a=C(),o=d("div"),f=N(u),this.h()},l(g){e=h(g,"BUTTON",{class:!0});var m=p(e);t=h(m,"DIV",{class:!0});var w=p(t);l=h(w,"IMG",{src:!0,class:!0,alt:!0}),w.forEach(c),a=x(m),o=h(m,"DIV",{class:!0});var k=p(o);f=B(k,u),k.forEach(c),m.forEach(c),this.h()},h(){us(l.src,r=s[17].profile_image_url)||i(l,"src",r),i(l,"class","max-w-[30px] object-cover rounded-full"),i(l,"alt","User profile"),i(t,"class","self-center mr-3"),i(o,"class","self-center font-semibold"),i(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-100 dark:hover:bg-gray-900 transition")},m(g,m){U(g,e,m),n(e,t),n(t,l),n(e,a),n(e,o),n(o,f),v||(_=ee(e,"click",s[54]),v=!0)},p(g,m){m[0]&131072&&!us(l.src,r=g[17].profile_image_url)&&i(l,"src",r),m[0]&131072&&u!==(u=g[17].name+"")&&R(f,u)},d(g){g&&c(e),v=!1,_()}}}function fu(s){var Te;let e,t,l,r,a,o,u,f,v,_,g,m,w=`<img crossorigin="anonymous" src="${yn}/static/favicon.png" class="size-6 -translate-x-1.5 rounded-full" alt="logo"/>`,k,E,y=s[13].t("New Chat")+"",b,D,I,M='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg>',T,S,V='<div class="m-auto self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"></path></svg></div>',j,P,$,z,A,O,L,G='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',H,W,q,Y,Z,K,X,J,ue,fe,pe,ge,Ee,Le;function be(Q){s[27](Q)}let le={chatId:s[3]};s[8]!==void 0&&(le.show=s[8]),e=new co({props:le}),Tt.push(()=>Ut(e,"show",be));function he(Q){s[28](Q)}let me={};s[15]!==void 0&&(me.show=s[15]),r=new su({props:me}),Tt.push(()=>Ut(r,"show",he)),r.$on("change",s[29]);let ae=s[14]&&ka(s),oe=((Te=s[17])==null?void 0:Te.role)==="admin"&&ya(s),ce=!(s[11].saveChatHistory??!0)&&Ea(s),ne=s[18].length>0&&Ia(s),ve=Ye(s[10]),ie=[];for(let Q=0;Q<ve.length;Q+=1)ie[Q]=Ca(ba(s,ve,Q));const Me=Q=>re(ie[Q],1,1,()=>{ie[Q]=null});let de=s[17]!==void 0&&xa(s);return{c(){Ve(e.$$.fragment),l=C(),Ve(r.$$.fragment),o=C(),ae&&ae.c(),u=C(),f=d("div"),v=d("div"),_=d("div"),g=d("a"),m=d("div"),m.innerHTML=w,k=C(),E=d("div"),b=N(y),D=C(),I=d("div"),I.innerHTML=M,T=C(),S=d("button"),S.innerHTML=V,j=C(),oe&&oe.c(),P=C(),$=d("div"),ce&&ce.c(),z=C(),A=d("div"),O=d("div"),L=d("div"),L.innerHTML=G,H=C(),W=d("input"),Y=C(),ne&&ne.c(),Z=C(),K=d("div");for(let Q=0;Q<ie.length;Q+=1)ie[Q].c();X=C(),J=d("div"),ue=d("div"),de&&de.c(),this.h()},l(Q){Ce(e.$$.fragment,Q),l=x(Q),Ce(r.$$.fragment,Q),o=x(Q),ae&&ae.l(Q),u=x(Q),f=h(Q,"DIV",{id:!0,class:!0,"data-state":!0});var F=p(f);v=h(F,"DIV",{class:!0});var ke=p(v);_=h(ke,"DIV",{class:!0});var Ie=p(_);g=h(Ie,"A",{id:!0,class:!0,href:!0,draggable:!0});var He=p(g);m=h(He,"DIV",{class:!0,"data-svelte-h":!0}),ye(m)!=="svelte-r2hfwb"&&(m.innerHTML=w),k=x(He),E=h(He,"DIV",{class:!0});var Ae=p(E);b=B(Ae,y),Ae.forEach(c),D=x(He),I=h(He,"DIV",{class:!0,"data-svelte-h":!0}),ye(I)!=="svelte-aq723q"&&(I.innerHTML=M),He.forEach(c),T=x(Ie),S=h(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(S)!=="svelte-bwmtc9"&&(S.innerHTML=V),Ie.forEach(c),j=x(ke),oe&&oe.l(ke),P=x(ke),$=h(ke,"DIV",{class:!0});var je=p($);ce&&ce.l(je),z=x(je),A=h(je,"DIV",{class:!0});var Qe=p(A);O=h(Qe,"DIV",{class:!0,id:!0});var ze=p(O);L=h(ze,"DIV",{class:!0,"data-svelte-h":!0}),ye(L)!=="svelte-1yg7etj"&&(L.innerHTML=G),H=x(ze),W=h(ze,"INPUT",{class:!0,placeholder:!0}),ze.forEach(c),Qe.forEach(c),Y=x(je),ne&&ne.l(je),Z=x(je),K=h(je,"DIV",{class:!0});var Re=p(K);for(let Je=0;Je<ie.length;Je+=1)ie[Je].l(Re);Re.forEach(c),je.forEach(c),X=x(ke),J=h(ke,"DIV",{class:!0});var We=p(J);ue=h(We,"DIV",{class:!0});var Ne=p(ue);de&&de.l(Ne),Ne.forEach(c),We.forEach(c),ke.forEach(c),F.forEach(c),this.h()},h(){i(m,"class","self-center mx-1.5"),i(E,"class","self-center font-medium text-sm text-gray-850 dark:text-white"),i(I,"class","self-center ml-auto"),i(g,"id","sidebar-new-chat-button"),i(g,"class","flex flex-1 justify-between rounded-xl px-2 py-2 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),i(g,"href","/"),i(g,"draggable","false"),i(S,"class","cursor-pointer px-2 py-2 flex rounded-xl hover:bg-gray-100 dark:hover:bg-gray-850 transition"),i(_,"class","px-2.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400"),i(L,"class","self-center pl-3 py-2 rounded-l-xl bg-transparent"),i(W,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm bg-transparent dark:text-gray-300 outline-none"),i(W,"placeholder",q=s[13].t("Search")),i(O,"class","flex w-full rounded-xl"),i(O,"id","chat-search"),i(A,"class","px-2 mt-0.5 mb-2 flex justify-center space-x-2"),i(K,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto scrollbar-hidden svelte-141e0sl"),i($,"class","relative flex flex-col flex-1 overflow-y-auto"),i(ue,"class","flex flex-col"),i(J,"class","px-2.5"),i(v,"class",fe="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(s[14]?"":"invisible")),i(f,"id","sidebar"),i(f,"class",pe="h-screen max-h-[100dvh] min-h-screen select-none "+(s[14]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"),i(f,"data-state",s[14])},m(Q,F){xe(e,Q,F),U(Q,l,F),xe(r,Q,F),U(Q,o,F),ae&&ae.m(Q,F),U(Q,u,F),U(Q,f,F),n(f,v),n(v,_),n(_,g),n(g,m),n(g,k),n(g,E),n(E,b),n(g,D),n(g,I),n(_,T),n(_,S),n(v,j),oe&&oe.m(v,null),n(v,P),n(v,$),ce&&ce.m($,null),n($,z),n($,A),n(A,O),n(O,L),n(O,H),n(O,W),_e(W,s[0]),n($,Y),ne&&ne.m($,null),n($,Z),n($,K);for(let ke=0;ke<ie.length;ke+=1)ie[ke]&&ie[ke].m(K,null);n(v,X),n(v,J),n(J,ue),de&&de.m(ue,null),s[56](f),ge=!0,Ee||(Le=[ee(g,"click",s[31]),ee(S,"click",s[32]),ee(W,"input",s[35]),ee(W,"focus",s[36])],Ee=!0)},p(Q,F){var He;const ke={};F[0]&8&&(ke.chatId=Q[3]),!t&&F[0]&256&&(t=!0,ke.show=Q[8],Bt(()=>t=!1)),e.$set(ke);const Ie={};if(!a&&F[0]&32768&&(a=!0,Ie.show=Q[15],Bt(()=>a=!1)),r.$set(Ie),Q[14]?ae?ae.p(Q,F):(ae=ka(Q),ae.c(),ae.m(u.parentNode,u)):ae&&(ae.d(1),ae=null),(!ge||F[0]&8192)&&y!==(y=Q[13].t("New Chat")+"")&&R(b,y),((He=Q[17])==null?void 0:He.role)==="admin"?oe?oe.p(Q,F):(oe=ya(Q),oe.c(),oe.m(v,P)):oe&&(oe.d(1),oe=null),Q[11].saveChatHistory??!0?ce&&(ce.d(1),ce=null):ce?ce.p(Q,F):(ce=Ea(Q),ce.c(),ce.m($,z)),(!ge||F[0]&8192&&q!==(q=Q[13].t("Search")))&&i(W,"placeholder",q),F[0]&1&&W.value!==Q[0]&&_e(W,Q[0]),Q[18].length>0?ne?ne.p(Q,F):(ne=Ia(Q),ne.c(),ne.m($,Z)):ne&&(ne.d(1),ne=null),F[0]&48313848){ve=Ye(Q[10]);let Ae;for(Ae=0;Ae<ve.length;Ae+=1){const je=ba(Q,ve,Ae);ie[Ae]?(ie[Ae].p(je,F),te(ie[Ae],1)):(ie[Ae]=Ca(je),ie[Ae].c(),te(ie[Ae],1),ie[Ae].m(K,null))}for(Lt(),Ae=ve.length;Ae<ie.length;Ae+=1)Me(Ae);Ot()}Q[17]!==void 0?de?(de.p(Q,F),F[0]&131072&&te(de,1)):(de=xa(Q),de.c(),te(de,1),de.m(ue,null)):de&&(Lt(),re(de,1,1,()=>{de=null}),Ot()),(!ge||F[0]&16384&&fe!==(fe="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] z-50 "+(Q[14]?"":"invisible")))&&i(v,"class",fe),(!ge||F[0]&16384&&pe!==(pe="h-screen max-h-[100dvh] min-h-screen select-none "+(Q[14]?"md:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-200 text-sm transition fixed z-50 top-0 left-0 rounded-r-2xl"))&&i(f,"class",pe),(!ge||F[0]&16384)&&i(f,"data-state",Q[14])},i(Q){if(!ge){te(e.$$.fragment,Q),te(r.$$.fragment,Q);for(let F=0;F<ve.length;F+=1)te(ie[F]);te(de),ge=!0}},o(Q){re(e.$$.fragment,Q),re(r.$$.fragment,Q),ie=ie.filter(Boolean);for(let F=0;F<ie.length;F+=1)re(ie[F]);re(de),ge=!1},d(Q){Q&&(c(l),c(o),c(u),c(f)),Se(e,Q),Se(r,Q),ae&&ae.d(Q),oe&&oe.d(),ce&&ce.d(),ne&&ne.d(),xt(ie,Q),de&&de.d(),s[56](null),Ee=!1,tt(Le)}}}const du=768;function hu(s,e,t){let l,r,a,o,u,f,v,_,g;Pe(s,dl,F=>t(11,l=F)),Pe(s,fr,F=>t(12,r=F)),Pe(s,ml,F=>t(14,o=F)),Pe(s,ol,F=>t(1,u=F)),Pe(s,ms,F=>t(15,f=F)),Pe(s,dr,F=>t(16,v=F)),Pe(s,Dl,F=>t(17,_=F)),Pe(s,Is,F=>t(18,g=F));const m=Et("i18n");Pe(s,m,F=>t(13,a=F));let w,k="",E=null,y=null,b=null,D=null,I="",M=!1,T=!1,S=[];Xt(async()=>{dr.subscribe(je=>{o&&je&&ml.set(!1),!o&&!je&&ml.set(!0)}),ml.set(window.innerWidth>du),await ol.set(await fl(localStorage.token));let F,ke;function Ie(){const je=window.innerWidth,Qe=Math.abs(ke.screenX-F.screenX);F.clientX<40&&Qe>=je/8&&(ke.screenX<F.screenX&&ml.set(!1),ke.screenX>F.screenX&&ml.set(!0))}const He=je=>{F=je.changedTouches[0],console.log(F.clientX)},Ae=je=>{ke=je.changedTouches[0],Ie()};return window.addEventListener("touchstart",He),window.addEventListener("touchend",Ae),()=>{window.removeEventListener("touchstart",He),window.removeEventListener("touchend",Ae)}});const V=async F=>{const ke=await Promise.all(F.map(async Ie=>{const He=await vn(localStorage.token,Ie.id).catch(Ae=>null);return He&&(Ie.chat=He.chat),Ie}));await ol.set(ke)},j=async(F,ke)=>{ke===""?Ze.error(a.t("Title cannot be an empty string.")):(await _n(localStorage.token,F,{title:ke}),await ol.set(await fl(localStorage.token)))},P=async F=>{await Ga(localStorage.token,F).catch(Ie=>(Ze.error(Ie),t(5,b=null),null))&&(r===F&&zl("/"),await ol.set(await fl(localStorage.token)))},$=async F=>{const ke=await pn(localStorage.token,F).catch(Ie=>(Ze.error(Ie),null));ke&&(zl(`/c/${ke.id}`),await ol.set(await fl(localStorage.token)))},z=async F=>{await dl.set({...l,...F}),await Wa(localStorage.token,{ui:l}),location.href="/"},A=async F=>{await qa(localStorage.token,F),await ol.set(await fl(localStorage.token))},O=async F=>{F.focus()};function L(F){M=F,t(8,M)}function G(F){f=F,ms.set(f)}const H=async()=>{await ol.set(await fl(localStorage.token))},W=()=>{ml.set(!o)},q=async()=>{t(4,y=null),await zl("/");const F=document.getElementById("new-chat-button");setTimeout(()=>{F==null||F.click(),v&&ml.set(!1)},0)},Y=()=>{ml.set(!o)},Z=()=>{t(4,y=null),fr.set("")},K=()=>{z({saveChatHistory:!0})};function X(){k=this.value,t(0,k)}const J=()=>{V(u)},ue=async()=>{await ol.set(await fl(localStorage.token))},fe=async F=>{let ke=await mn(localStorage.token,F.name);ke.length===0&&(await Is.set(await Ya(localStorage.token)),ke=await fl(localStorage.token)),await ol.set(ke)};function pe(){I=this.value,t(7,I)}const ge=F=>{t(4,y=F.id),v&&ml.set(!1)},Ee=F=>{t(7,I=F.title),t(6,D=F.id)},Le=F=>{j(F.id,I),t(6,D=null),t(7,I="")},be=()=>{t(6,D=null),t(7,I="")},le=F=>{P(F.id)},he=()=>{t(5,b=null)},me=F=>{t(4,y=F.id)},ae=F=>{$(F.id)},oe=()=>{t(3,E=y),t(8,M=!0)},ce=F=>{A(F.id)},ne=F=>{t(7,I=F.title),t(6,D=F.id)},ve=F=>{t(5,b=F.id)},ie=()=>{t(4,y=null)},Me=F=>{t(5,b=F.id)},de=()=>{t(9,T=!T)},Te=F=>{F.detail==="archived-chat"&&ms.set(!0)};function Q(F){Tt[F?"unshift":"push"](()=>{w=F,t(2,w)})}return s.$$.update=()=>{s.$$.dirty[0]&3&&t(10,S=u.filter(F=>{if(k==="")return!0;{let ke=F.title.toLowerCase();const Ie=k.toLowerCase();let He=!1;return F.chat&&F.chat.messages&&Array.isArray(F.chat.messages)&&(He=F.chat.messages.some(Ae=>Ae.content&&Ae.content.toLowerCase().includes(Ie))),ke.includes(Ie)||He}}))},[k,u,w,E,y,b,D,I,M,T,S,l,r,a,o,f,v,_,g,m,V,j,P,$,z,A,O,L,G,H,W,q,Y,Z,K,X,J,ue,fe,pe,ge,Ee,Le,be,le,he,me,ae,oe,ce,ne,ve,ie,Me,de,Te,Q]}class vu extends ft{constructor(e){super(),dt(this,e,hu,fu,ut,{},null,[-1,-1,-1])}}function _u(s){let e,t,l,r=s[1].t("Keyboard shortcuts")+"",a,o,u,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,_,g,m,w,k,E=s[1].t("Open new chat")+"",y,b,D,I='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">O</div>',M,T,S,V=s[1].t("Focus chat input")+"",j,P,$,z='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Esc</div>',A,O,L,G=s[1].t("Copy last code block")+"",H,W,q,Y='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">;</div>',Z,K,X,J=s[1].t("Copy last response")+"",ue,fe,pe,ge='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">C</div>',Ee,Le,be,le,he=s[1].t("Toggle settings")+"",me,ae,oe,ce='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">.</div>',ne,ve,ie,Me=s[1].t("Toggle sidebar")+"",de,Te,Q,F='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">S</div>',ke,Ie,He,Ae=s[1].t("Delete chat")+"",je,Qe,ze,Re='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">⌫</div>',We,Ne,Je,It=s[1].t("Show shortcuts")+"",qe,mt,ot,St='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div>',at,De,Ke,it=s[1].t("Input commands")+"",ht,Fe,we,$e,Ge,lt,ct,vt=s[1].t("Attach file")+"",zt,Jt,gt,ll='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">#</div>',Dt,bt,Ht,Pt=s[1].t("Add custom prompt")+"",_t,Rt,$t,vl='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div>',sl,Kt,Nt,jt=s[1].t("Select model")+"",rl,al,Zt,Ft='<div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">@</div>',_l,bl;return{c(){e=d("div"),t=d("div"),l=d("div"),a=N(r),o=C(),u=d("button"),u.innerHTML=f,v=C(),_=d("div"),g=d("div"),m=d("div"),w=d("div"),k=d("div"),y=N(E),b=C(),D=d("div"),D.innerHTML=I,M=C(),T=d("div"),S=d("div"),j=N(V),P=C(),$=d("div"),$.innerHTML=z,A=C(),O=d("div"),L=d("div"),H=N(G),W=C(),q=d("div"),q.innerHTML=Y,Z=C(),K=d("div"),X=d("div"),ue=N(J),fe=C(),pe=d("div"),pe.innerHTML=ge,Ee=C(),Le=d("div"),be=d("div"),le=d("div"),me=N(he),ae=C(),oe=d("div"),oe.innerHTML=ce,ne=C(),ve=d("div"),ie=d("div"),de=N(Me),Te=C(),Q=d("div"),Q.innerHTML=F,ke=C(),Ie=d("div"),He=d("div"),je=N(Ae),Qe=C(),ze=d("div"),ze.innerHTML=Re,We=C(),Ne=d("div"),Je=d("div"),qe=N(It),mt=C(),ot=d("div"),ot.innerHTML=St,at=C(),De=d("div"),Ke=d("div"),ht=N(it),Fe=C(),we=d("div"),$e=d("div"),Ge=d("div"),lt=d("div"),ct=d("div"),zt=N(vt),Jt=C(),gt=d("div"),gt.innerHTML=ll,Dt=C(),bt=d("div"),Ht=d("div"),_t=N(Pt),Rt=C(),$t=d("div"),$t.innerHTML=vl,sl=C(),Kt=d("div"),Nt=d("div"),rl=N(jt),al=C(),Zt=d("div"),Zt.innerHTML=Ft,this.h()},l(nt){e=h(nt,"DIV",{class:!0});var Xe=p(e);t=h(Xe,"DIV",{class:!0});var pl=p(t);l=h(pl,"DIV",{class:!0});var Sl=p(l);a=B(Sl,r),Sl.forEach(c),o=x(pl),u=h(pl,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(u)!=="svelte-745w2y"&&(u.innerHTML=f),pl.forEach(c),v=x(Xe),_=h(Xe,"DIV",{class:!0});var wt=p(_);g=h(wt,"DIV",{class:!0});var Vl=p(g);m=h(Vl,"DIV",{class:!0});var il=p(m);w=h(il,"DIV",{class:!0});var Ml=p(w);k=h(Ml,"DIV",{class:!0});var Al=p(k);y=B(Al,E),Al.forEach(c),b=x(Ml),D=h(Ml,"DIV",{class:!0,"data-svelte-h":!0}),ye(D)!=="svelte-lcmjz9"&&(D.innerHTML=I),Ml.forEach(c),M=x(il),T=h(il,"DIV",{class:!0});var Wt=p(T);S=h(Wt,"DIV",{class:!0});var Gl=p(S);j=B(Gl,V),Gl.forEach(c),P=x(Wt),$=h(Wt,"DIV",{class:!0,"data-svelte-h":!0}),ye($)!=="svelte-1c7wvdz"&&($.innerHTML=z),Wt.forEach(c),A=x(il),O=h(il,"DIV",{class:!0});var wl=p(O);L=h(wl,"DIV",{class:!0});var Qt=p(L);H=B(Qt,G),Qt.forEach(c),W=x(wl),q=h(wl,"DIV",{class:!0,"data-svelte-h":!0}),ye(q)!=="svelte-1vgtrzt"&&(q.innerHTML=Y),wl.forEach(c),Z=x(il),K=h(il,"DIV",{class:!0});var Ll=p(K);X=h(Ll,"DIV",{class:!0});var Ol=p(X);ue=B(Ol,J),Ol.forEach(c),fe=x(Ll),pe=h(Ll,"DIV",{class:!0,"data-svelte-h":!0}),ye(pe)!=="svelte-m149u9"&&(pe.innerHTML=ge),Ll.forEach(c),il.forEach(c),Ee=x(Vl),Le=h(Vl,"DIV",{class:!0});var Vt=p(Le);be=h(Vt,"DIV",{class:!0});var Hl=p(be);le=h(Hl,"DIV",{class:!0});var Nl=p(le);me=B(Nl,he),Nl.forEach(c),ae=x(Hl),oe=h(Hl,"DIV",{class:!0,"data-svelte-h":!0}),ye(oe)!=="svelte-1lfzi34"&&(oe.innerHTML=ce),Hl.forEach(c),ne=x(Vt),ve=h(Vt,"DIV",{class:!0});var qt=p(ve);ie=h(qt,"DIV",{class:!0});var Mt=p(ie);de=B(Mt,Me),Mt.forEach(c),Te=x(qt),Q=h(qt,"DIV",{class:!0,"data-svelte-h":!0}),ye(Q)!=="svelte-1egz3pd"&&(Q.innerHTML=F),qt.forEach(c),ke=x(Vt),Ie=h(Vt,"DIV",{class:!0});var Bl=p(Ie);He=h(Bl,"DIV",{class:!0});var Ul=p(He);je=B(Ul,Ae),Ul.forEach(c),Qe=x(Bl),ze=h(Bl,"DIV",{class:!0,"data-svelte-h":!0}),ye(ze)!=="svelte-1b065vn"&&(ze.innerHTML=Re),Bl.forEach(c),We=x(Vt),Ne=h(Vt,"DIV",{class:!0});var Gt=p(Ne);Je=h(Gt,"DIV",{class:!0});var Yl=p(Je);qe=B(Yl,It),Yl.forEach(c),mt=x(Gt),ot=h(Gt,"DIV",{class:!0,"data-svelte-h":!0}),ye(ot)!=="svelte-714lzr"&&(ot.innerHTML=St),Gt.forEach(c),Vt.forEach(c),Vl.forEach(c),wt.forEach(c),at=x(Xe),De=h(Xe,"DIV",{class:!0});var Pl=p(De);Ke=h(Pl,"DIV",{class:!0});var el=p(Ke);ht=B(el,it),el.forEach(c),Pl.forEach(c),Fe=x(Xe),we=h(Xe,"DIV",{class:!0});var kl=p(we);$e=h(kl,"DIV",{class:!0});var Ct=p($e);Ge=h(Ct,"DIV",{class:!0});var nl=p(Ge);lt=h(nl,"DIV",{class:!0});var kt=p(lt);ct=h(kt,"DIV",{class:!0});var yl=p(ct);zt=B(yl,vt),yl.forEach(c),Jt=x(kt),gt=h(kt,"DIV",{class:!0,"data-svelte-h":!0}),ye(gt)!=="svelte-11t0lmd"&&(gt.innerHTML=ll),kt.forEach(c),Dt=x(nl),bt=h(nl,"DIV",{class:!0});var yt=p(bt);Ht=h(yt,"DIV",{class:!0});var At=p(Ht);_t=B(At,Pt),At.forEach(c),Rt=x(yt),$t=h(yt,"DIV",{class:!0,"data-svelte-h":!0}),ye($t)!=="svelte-1s9pky1"&&($t.innerHTML=vl),yt.forEach(c),sl=x(nl),Kt=h(nl,"DIV",{class:!0});var se=p(Kt);Nt=h(se,"DIV",{class:!0});var Be=p(Nt);rl=B(Be,jt),Be.forEach(c),al=x(se),Zt=h(se,"DIV",{class:!0,"data-svelte-h":!0}),ye(Zt)!=="svelte-oivy56"&&(Zt.innerHTML=Ft),se.forEach(c),nl.forEach(c),Ct.forEach(c),kl.forEach(c),Xe.forEach(c),this.h()},h(){i(l,"class","text-lg font-medium self-center"),i(u,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),i(k,"class","text-sm"),i(D,"class","flex space-x-1 text-xs"),i(w,"class","w-full flex justify-between items-center"),i(S,"class","text-sm"),i($,"class","flex space-x-1 text-xs"),i(T,"class","w-full flex justify-between items-center"),i(L,"class","text-sm"),i(q,"class","flex space-x-1 text-xs"),i(O,"class","w-full flex justify-between items-center"),i(X,"class","text-sm"),i(pe,"class","flex space-x-1 text-xs"),i(K,"class","w-full flex justify-between items-center"),i(m,"class","flex flex-col space-y-3 w-full self-start"),i(le,"class","text-sm"),i(oe,"class","flex space-x-1 text-xs"),i(be,"class","w-full flex justify-between items-center"),i(ie,"class","text-sm"),i(Q,"class","flex space-x-1 text-xs"),i(ve,"class","w-full flex justify-between items-center"),i(He,"class","text-sm"),i(ze,"class","flex space-x-1 text-xs"),i(Ie,"class","w-full flex justify-between items-center"),i(Je,"class","text-sm"),i(ot,"class","flex space-x-1 text-xs"),i(Ne,"class","w-full flex justify-between items-center"),i(Le,"class","flex flex-col space-y-3 w-full self-start"),i(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(_,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200"),i(Ke,"class","text-lg font-medium self-center"),i(De,"class","flex justify-between dark:text-gray-300 px-5"),i(ct,"class","text-sm"),i(gt,"class","flex space-x-1 text-xs"),i(lt,"class","w-full flex justify-between items-center"),i(Ht,"class","text-sm"),i($t,"class","flex space-x-1 text-xs"),i(bt,"class","w-full flex justify-between items-center"),i(Nt,"class","text-sm"),i(Zt,"class","flex space-x-1 text-xs"),i(Kt,"class","w-full flex justify-between items-center"),i(Ge,"class","flex flex-col space-y-3 w-full self-start"),i($e,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(we,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200"),i(e,"class","text-gray-700 dark:text-gray-100")},m(nt,Xe){U(nt,e,Xe),n(e,t),n(t,l),n(l,a),n(t,o),n(t,u),n(e,v),n(e,_),n(_,g),n(g,m),n(m,w),n(w,k),n(k,y),n(w,b),n(w,D),n(m,M),n(m,T),n(T,S),n(S,j),n(T,P),n(T,$),n(m,A),n(m,O),n(O,L),n(L,H),n(O,W),n(O,q),n(m,Z),n(m,K),n(K,X),n(X,ue),n(K,fe),n(K,pe),n(g,Ee),n(g,Le),n(Le,be),n(be,le),n(le,me),n(be,ae),n(be,oe),n(Le,ne),n(Le,ve),n(ve,ie),n(ie,de),n(ve,Te),n(ve,Q),n(Le,ke),n(Le,Ie),n(Ie,He),n(He,je),n(Ie,Qe),n(Ie,ze),n(Le,We),n(Le,Ne),n(Ne,Je),n(Je,qe),n(Ne,mt),n(Ne,ot),n(e,at),n(e,De),n(De,Ke),n(Ke,ht),n(e,Fe),n(e,we),n(we,$e),n($e,Ge),n(Ge,lt),n(lt,ct),n(ct,zt),n(lt,Jt),n(lt,gt),n(Ge,Dt),n(Ge,bt),n(bt,Ht),n(Ht,_t),n(bt,Rt),n(bt,$t),n(Ge,sl),n(Ge,Kt),n(Kt,Nt),n(Nt,rl),n(Kt,al),n(Kt,Zt),_l||(bl=ee(u,"click",s[3]),_l=!0)},p(nt,Xe){Xe&2&&r!==(r=nt[1].t("Keyboard shortcuts")+"")&&R(a,r),Xe&2&&E!==(E=nt[1].t("Open new chat")+"")&&R(y,E),Xe&2&&V!==(V=nt[1].t("Focus chat input")+"")&&R(j,V),Xe&2&&G!==(G=nt[1].t("Copy last code block")+"")&&R(H,G),Xe&2&&J!==(J=nt[1].t("Copy last response")+"")&&R(ue,J),Xe&2&&he!==(he=nt[1].t("Toggle settings")+"")&&R(me,he),Xe&2&&Me!==(Me=nt[1].t("Toggle sidebar")+"")&&R(de,Me),Xe&2&&Ae!==(Ae=nt[1].t("Delete chat")+"")&&R(je,Ae),Xe&2&&It!==(It=nt[1].t("Show shortcuts")+"")&&R(qe,It),Xe&2&&it!==(it=nt[1].t("Input commands")+"")&&R(ht,it),Xe&2&&vt!==(vt=nt[1].t("Attach file")+"")&&R(zt,vt),Xe&2&&Pt!==(Pt=nt[1].t("Add custom prompt")+"")&&R(_t,Pt),Xe&2&&jt!==(jt=nt[1].t("Select model")+"")&&R(rl,jt)},d(nt){nt&&c(e),_l=!1,bl()}}}function pu(s){let e,t,l;function r(o){s[4](o)}let a={$$slots:{default:[_u]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ql({props:a}),Tt.push(()=>Ut(e,"show",r)),{c(){Ve(e.$$.fragment)},l(o){Ce(e.$$.fragment,o)},m(o,u){xe(e,o,u),l=!0},p(o,[u]){const f={};u&35&&(f.$$scope={dirty:u,ctx:o}),!t&&u&1&&(t=!0,f.show=o[0],Bt(()=>t=!1)),e.$set(f)},i(o){l||(te(e.$$.fragment,o),l=!0)},o(o){re(e.$$.fragment,o),l=!1},d(o){Se(e,o)}}}function mu(s,e,t){let l;const r=Et("i18n");Pe(s,r,f=>t(1,l=f));let{show:a=!1}=e;const o=()=>{t(0,a=!1)};function u(f){a=f,t(0,a)}return s.$$set=f=>{"show"in f&&t(0,a=f.show)},[a,l,r,o,u]}class gu extends ft{constructor(e){super(),dt(this,e,mu,pu,ut,{show:0})}}function Sa(s,e,t){const l=s.slice();return l[18]=e[t],l}function Ma(s){let e,t=Ye({length:s[6]}),l=[];for(let r=0;r<t.length;r+=1)l[r]=Aa(Sa(s,t,r));return{c(){e=d("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=h(r,"DIV",{class:!0});var a=p(e);for(let o=0;o<l.length;o+=1)l[o].l(a);a.forEach(c),this.h()},h(){i(e,"class","confetti-holder svelte-io58ff"),$l(e,"rounded",s[9]),$l(e,"cone",s[10]),$l(e,"no-gravity",s[11])},m(r,a){U(r,e,a);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(r,a){if(a&20991){t=Ye({length:r[6]});let o;for(o=0;o<t.length;o+=1){const u=Sa(r,t,o);l[o]?l[o].p(u,a):(l[o]=Aa(u),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}a&512&&$l(e,"rounded",r[9]),a&1024&&$l(e,"cone",r[10]),a&2048&&$l(e,"no-gravity",r[11])},d(r){r&&c(e),xt(l,r)}}}function Aa(s){let e;return{c(){e=d("div"),this.h()},l(t){e=h(t,"DIV",{class:!0,style:!0}),p(e).forEach(c),this.h()},h(){i(e,"class","confetti svelte-io58ff"),pt(e,"--fall-distance",s[8]),pt(e,"--size",s[0]+"px"),pt(e,"--color",s[14]()),pt(e,"--skew",tl(-45,45)+"deg,"+tl(-45,45)+"deg"),pt(e,"--rotation-xyz",tl(-10,10)+", "+tl(-10,10)+", "+tl(-10,10)),pt(e,"--rotation-deg",tl(0,360)+"deg"),pt(e,"--translate-y-multiplier",tl(s[2][0],s[2][1])),pt(e,"--translate-x-multiplier",tl(s[1][0],s[1][1])),pt(e,"--scale",.1*tl(2,10)),pt(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),pt(e,"--transition-delay",tl(s[5][0],s[5][1])+"ms"),pt(e,"--transition-iteration-count",s[4]?"infinite":s[7]),pt(e,"--x-spread",1-s[12])},m(t,l){U(t,e,l)},p(t,l){l&256&&pt(e,"--fall-distance",t[8]),l&1&&pt(e,"--size",t[0]+"px"),l&4&&pt(e,"--translate-y-multiplier",tl(t[2][0],t[2][1])),l&2&&pt(e,"--translate-x-multiplier",tl(t[1][0],t[1][1])),l&24&&pt(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&pt(e,"--transition-delay",tl(t[5][0],t[5][1])+"ms"),l&144&&pt(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&pt(e,"--x-spread",1-t[12])},d(t){t&&c(e)}}}function bu(s){let e,t=!s[13]&&Ma(s);return{c(){t&&t.c(),e=gl()},l(l){t&&t.l(l),e=gl()},m(l,r){t&&t.m(l,r),U(l,e,r)},p(l,[r]){l[13]?t&&(t.d(1),t=null):t?t.p(l,r):(t=Ma(l),t.c(),t.m(e.parentNode,e))},i:Oe,o:Oe,d(l){l&&c(e),t&&t.d(l)}}}function tl(s,e){return Math.random()*(e-s)+s}function wu(s,e,t){let{size:l=10}=e,{x:r=[-.5,.5]}=e,{y:a=[.25,1]}=e,{duration:o=2e3}=e,{infinite:u=!1}=e,{delay:f=[0,50]}=e,{colorRange:v=[0,360]}=e,{colorArray:_=[]}=e,{amount:g=50}=e,{iterationCount:m=1}=e,{fallDistance:w="100px"}=e,{rounded:k=!1}=e,{cone:E=!1}=e,{noGravity:y=!1}=e,{xSpread:b=.15}=e,{destroyOnComplete:D=!0}=e,I=!1;Xt(()=>{!D||u||m=="infinite"||setTimeout(()=>t(13,I=!0),(o+f[1])*m)});function M(){return _.length?_[Math.round(Math.random()*(_.length-1))]:`hsl(${Math.round(tl(v[0],v[1]))}, 75%, 50%)`}return s.$$set=T=>{"size"in T&&t(0,l=T.size),"x"in T&&t(1,r=T.x),"y"in T&&t(2,a=T.y),"duration"in T&&t(3,o=T.duration),"infinite"in T&&t(4,u=T.infinite),"delay"in T&&t(5,f=T.delay),"colorRange"in T&&t(15,v=T.colorRange),"colorArray"in T&&t(16,_=T.colorArray),"amount"in T&&t(6,g=T.amount),"iterationCount"in T&&t(7,m=T.iterationCount),"fallDistance"in T&&t(8,w=T.fallDistance),"rounded"in T&&t(9,k=T.rounded),"cone"in T&&t(10,E=T.cone),"noGravity"in T&&t(11,y=T.noGravity),"xSpread"in T&&t(12,b=T.xSpread),"destroyOnComplete"in T&&t(17,D=T.destroyOnComplete)},[l,r,a,o,u,f,g,m,w,k,E,y,b,I,M,v,_,D]}class ku extends ft{constructor(e){super(),dt(this,e,wu,bu,ut,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function La(s,e,t){const l=s.slice();return l[9]=e[t],l}function Oa(s,e,t){const l=s.slice();return l[12]=e[t],l}function Ha(s,e,t){const l=s.slice();return l[15]=e[t],l}function Na(s){let e,t=Ye(Object.keys(s[1])),l=[];for(let r=0;r<t.length;r+=1)l[r]=Pa(La(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=gl()},l(r){for(let a=0;a<l.length;a+=1)l[a].l(r);e=gl()},m(r,a){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,a);U(r,e,a)},p(r,a){if(a&2){t=Ye(Object.keys(r[1]));let o;for(o=0;o<t.length;o+=1){const u=La(r,t,o);l[o]?l[o].p(u,a):(l[o]=Pa(u),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(r){r&&c(e),xt(l,r)}}}function Ba(s){let e,t,l=s[1][s[9]][s[12]][s[15]].title+"",r,a,o,u=s[1][s[9]][s[12]][s[15]].content+"",f;return{c(){e=d("div"),t=d("div"),r=N(l),a=C(),o=d("div"),f=N(u),this.h()},l(v){e=h(v,"DIV",{class:!0});var _=p(e);t=h(_,"DIV",{class:!0});var g=p(t);r=B(g,l),g.forEach(c),a=x(_),o=h(_,"DIV",{class:!0});var m=p(o);f=B(m,u),m.forEach(c),_.forEach(c),this.h()},h(){i(t,"class","font-semibold uppercase"),i(o,"class","mb-2 mt-1"),i(e,"class","text-sm mb-2")},m(v,_){U(v,e,_),n(e,t),n(t,r),n(e,a),n(e,o),n(o,f)},p(v,_){_&2&&l!==(l=v[1][v[9]][v[12]][v[15]].title+"")&&R(r,l),_&2&&u!==(u=v[1][v[9]][v[12]][v[15]].content+"")&&R(f,u)},d(v){v&&c(e)}}}function Ua(s){let e,t,l=s[12]+"",r,a,o,u,f=Ye(Object.keys(s[1][s[9]][s[12]])),v=[];for(let _=0;_<f.length;_+=1)v[_]=Ba(Ha(s,f,_));return{c(){e=d("div"),t=d("div"),r=N(l),o=C(),u=d("div");for(let _=0;_<v.length;_+=1)v[_].c();this.h()},l(_){e=h(_,"DIV",{class:!0});var g=p(e);t=h(g,"DIV",{class:!0});var m=p(t);r=B(m,l),m.forEach(c),o=x(g),u=h(g,"DIV",{class:!0});var w=p(u);for(let k=0;k<v.length;k+=1)v[k].l(w);w.forEach(c),g.forEach(c),this.h()},h(){i(t,"class",a="font-bold uppercase text-xs "+(s[12]==="added"?"text-white bg-blue-600":s[12]==="fixed"?"text-white bg-green-600":s[12]==="changed"?"text-white bg-yellow-600":s[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),i(u,"class","my-2.5 px-1.5"),i(e,"class","")},m(_,g){U(_,e,g),n(e,t),n(t,r),n(e,o),n(e,u);for(let m=0;m<v.length;m+=1)v[m]&&v[m].m(u,null)},p(_,g){if(g&2&&l!==(l=_[12]+"")&&R(r,l),g&2&&a!==(a="font-bold uppercase text-xs "+(_[12]==="added"?"text-white bg-blue-600":_[12]==="fixed"?"text-white bg-green-600":_[12]==="changed"?"text-white bg-yellow-600":_[12]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&i(t,"class",a),g&2){f=Ye(Object.keys(_[1][_[9]][_[12]]));let m;for(m=0;m<f.length;m+=1){const w=Ha(_,f,m);v[m]?v[m].p(w,g):(v[m]=Ba(w),v[m].c(),v[m].m(u,null))}for(;m<v.length;m+=1)v[m].d(1);v.length=f.length}},d(_){_&&c(e),xt(v,_)}}}function Pa(s){let e,t,l,r=s[9]+"",a,o,u=s[1][s[9]].date+"",f,v,_,g,m,w=Ye(Object.keys(s[1][s[9]]).filter(ja)),k=[];for(let E=0;E<w.length;E+=1)k[E]=Ua(Oa(s,w,E));return{c(){e=d("div"),t=d("div"),l=N("v"),a=N(r),o=N(" - "),f=N(u),v=C(),_=d("hr"),g=C();for(let E=0;E<k.length;E+=1)k[E].c();m=C(),this.h()},l(E){e=h(E,"DIV",{class:!0});var y=p(e);t=h(y,"DIV",{class:!0});var b=p(t);l=B(b,"v"),a=B(b,r),o=B(b," - "),f=B(b,u),b.forEach(c),v=x(y),_=h(y,"HR",{class:!0}),g=x(y);for(let D=0;D<k.length;D+=1)k[D].l(y);m=x(y),y.forEach(c),this.h()},h(){i(t,"class","font-bold text-xl mb-1 dark:text-white"),i(_,"class","dark:border-gray-800 my-2"),i(e,"class","mb-3 pr-2")},m(E,y){U(E,e,y),n(e,t),n(t,l),n(t,a),n(t,o),n(t,f),n(e,v),n(e,_),n(e,g);for(let b=0;b<k.length;b+=1)k[b]&&k[b].m(e,null);n(e,m)},p(E,y){if(y&2&&r!==(r=E[9]+"")&&R(a,r),y&2&&u!==(u=E[1][E[9]].date+"")&&R(f,u),y&2){w=Ye(Object.keys(E[1][E[9]]).filter(ja));let b;for(b=0;b<w.length;b+=1){const D=Oa(E,w,b);k[b]?k[b].p(D,y):(k[b]=Ua(D),k[b].c(),k[b].m(e,m))}for(;b<k.length;b+=1)k[b].d(1);k.length=w.length}},d(E){E&&c(e),xt(k,E)}}}function yu(s){let e,t,l,r=s[2].t("What’s New in")+"",a,o,u,f,v,_,g,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',w,k,E,y=s[2].t("Release Notes")+"",b,D,I,M,T,S,V,j,P,$,z,A,O,L,G,H=s[2].t("Okay, Let's Go!")+"",W,q,Y,Z;v=new ku({props:{x:[-1,-.25],y:[0,.5]}});let K=s[1]&&Na(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=N(r),o=C(),u=N(s[3]),f=C(),Ve(v.$$.fragment),_=C(),g=d("button"),g.innerHTML=m,w=C(),k=d("div"),E=d("div"),b=N(y),D=C(),I=d("div"),M=C(),T=d("div"),S=N("v"),V=N(Zl),j=C(),P=d("div"),$=d("div"),z=d("div"),K&&K.c(),A=C(),O=d("div"),L=d("button"),G=d("span"),W=N(H),this.h()},l(X){e=h(X,"DIV",{class:!0});var J=p(e);t=h(J,"DIV",{class:!0});var ue=p(t);l=h(ue,"DIV",{class:!0});var fe=p(l);a=B(fe,r),o=x(fe),u=B(fe,s[3]),f=x(fe),Ce(v.$$.fragment,fe),fe.forEach(c),_=x(ue),g=h(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(g)!=="svelte-14wj4tl"&&(g.innerHTML=m),ue.forEach(c),w=x(J),k=h(J,"DIV",{class:!0});var pe=p(k);E=h(pe,"DIV",{class:!0});var ge=p(E);b=B(ge,y),ge.forEach(c),D=x(pe),I=h(pe,"DIV",{class:!0}),p(I).forEach(c),M=x(pe),T=h(pe,"DIV",{class:!0});var Ee=p(T);S=B(Ee,"v"),V=B(Ee,Zl),Ee.forEach(c),pe.forEach(c),J.forEach(c),j=x(X),P=h(X,"DIV",{class:!0});var Le=p(P);$=h(Le,"DIV",{class:!0});var be=p($);z=h(be,"DIV",{class:!0});var le=p(z);K&&K.l(le),le.forEach(c),be.forEach(c),A=x(Le),O=h(Le,"DIV",{class:!0});var he=p(O);L=h(he,"BUTTON",{class:!0});var me=p(L);G=h(me,"SPAN",{class:!0});var ae=p(G);W=B(ae,H),ae.forEach(c),me.forEach(c),he.forEach(c),Le.forEach(c),this.h()},h(){i(l,"class","text-xl font-bold"),i(g,"class","self-center"),i(t,"class","flex justify-between items-start"),i(E,"class","text-sm dark:text-gray-200"),i(I,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),i(T,"class","text-sm dark:text-gray-200"),i(k,"class","flex items-center mt-1"),i(e,"class","px-5 pt-4 dark:text-gray-300 text-gray-700"),i(z,"class","mb-3"),i($,"class","overflow-y-scroll max-h-80 scrollbar-hidden"),i(G,"class","relative"),i(L,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),i(O,"class","flex justify-end pt-3 text-sm font-medium"),i(P,"class","w-full p-4 px-5 text-gray-700 dark:text-gray-100")},m(X,J){U(X,e,J),n(e,t),n(t,l),n(l,a),n(l,o),n(l,u),n(l,f),xe(v,l,null),n(t,_),n(t,g),n(e,w),n(e,k),n(k,E),n(E,b),n(k,D),n(k,I),n(k,M),n(k,T),n(T,S),n(T,V),U(X,j,J),U(X,P,J),n(P,$),n($,z),K&&K.m(z,null),n(P,A),n(P,O),n(O,L),n(L,G),n(G,W),q=!0,Y||(Z=[ee(g,"click",s[6]),ee(L,"click",s[7])],Y=!0)},p(X,J){(!q||J&4)&&r!==(r=X[2].t("What’s New in")+"")&&R(a,r),(!q||J&8)&&R(u,X[3]),(!q||J&4)&&y!==(y=X[2].t("Release Notes")+"")&&R(b,y),X[1]?K?K.p(X,J):(K=Na(X),K.c(),K.m(z,null)):K&&(K.d(1),K=null),(!q||J&4)&&H!==(H=X[2].t("Okay, Let's Go!")+"")&&R(W,H)},i(X){q||(te(v.$$.fragment,X),q=!0)},o(X){re(v.$$.fragment,X),q=!1},d(X){X&&(c(e),c(j),c(P)),Se(v),K&&K.d(),Y=!1,tt(Z)}}}function Eu(s){let e,t,l;function r(o){s[8](o)}let a={$$slots:{default:[yu]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new ql({props:a}),Tt.push(()=>Ut(e,"show",r)),{c(){Ve(e.$$.fragment)},l(o){Ce(e.$$.fragment,o)},m(o,u){xe(e,o,u),l=!0},p(o,[u]){const f={};u&262175&&(f.$$scope={dirty:u,ctx:o}),!t&&u&1&&(t=!0,f.show=o[0],Bt(()=>t=!1)),e.$set(f)},i(o){l||(te(e.$$.fragment,o),l=!0)},o(o){re(e.$$.fragment,o),l=!1},d(o){Se(e,o)}}}const ja=s=>s!=="date";function Iu(s,e,t){let l,r,a;Pe(s,Ka,m=>t(3,r=m)),Pe(s,Fl,m=>t(4,a=m));const o=Et("i18n");Pe(s,o,m=>t(2,l=m));let{show:u=!1}=e,f=null;Xt(async()=>{const m=await nn();t(1,f=m)});const v=()=>{localStorage.version=a.version,t(0,u=!1)},_=()=>{localStorage.version=a.version,t(0,u=!1)};function g(m){u=m,t(0,u)}return s.$$set=m=>{"show"in m&&t(0,u=m.show)},[u,f,l,r,a,o,v,_,g]}class Du extends ft{constructor(e){super(),dt(this,e,Iu,Eu,ut,{show:0})}}function Tu(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=p(e);t=rt(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(t).forEach(c),r.forEach(c),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",s[1]),i(e,"stroke","currentColor"),i(e,"class",s[0])},m(l,r){U(l,e,r),n(e,t)},p(l,[r]){r&2&&i(e,"stroke-width",l[1]),r&1&&i(e,"class",l[0])},i:Oe,o:Oe,d(l){l&&c(e)}}}function Vu(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="2"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Cu extends ft{constructor(e){super(),dt(this,e,Vu,Tu,ut,{className:0,strokeWidth:1})}}function xu(s){let e,t;return{c(){e=st("svg"),t=st("path"),this.h()},l(l){e=rt(l,"svg",{"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,class:!0});var r=p(e);t=rt(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(t).forEach(c),r.forEach(c),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7Zm5.01 1H5v2.01h2.01V8Zm3 0H8v2.01h2.01V8Zm3 0H11v2.01h2.01V8Zm3 0H14v2.01h2.01V8Zm3 0H17v2.01h2.01V8Zm-12 3H5v2.01h2.01V11Zm3 0H8v2.01h2.01V11Zm3 0H11v2.01h2.01V11Zm3 0H14v2.01h2.01V11Zm3 0H17v2.01h2.01V11Zm-12 3H5v2.01h2.01V14ZM8 14l-.001 2 8.011.01V14H8Zm11.01 0H17v2.01h2.01V14Z"),i(t,"clip-rule","evenodd"),i(e,"aria-hidden","true"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","currentColor"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",s[1]),i(e,"class",s[0])},m(l,r){U(l,e,r),n(e,t)},p(l,[r]){r&2&&i(e,"stroke-width",l[1]),r&1&&i(e,"class",l[0])},i:Oe,o:Oe,d(l){l&&c(e)}}}function Su(s,e,t){let{className:l="size-4"}=e,{strokeWidth:r="2"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class Mu extends ft{constructor(e){super(),dt(this,e,Su,xu,ut,{className:0,strokeWidth:1})}}function Au(s){let e;const t=s[5].default,l=Cs(t,s,s[9],null);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,a){l&&l.m(r,a),e=!0},p(r,a){l&&l.p&&(!e||a&512)&&xs(l,t,r,r[9],e?Ms(t,r[9],a,null):Ss(r[9]),null)},i(r){e||(te(l,r),e=!0)},o(r){re(l,r),e=!1},d(r){l&&l.d(r)}}}function Lu(s){let e,t,l,r=s[2].t("Documentation")+"",a,o;return e=new Cu({props:{className:"size-5"}}),{c(){Ve(e.$$.fragment),t=C(),l=d("div"),a=N(r),this.h()},l(u){Ce(e.$$.fragment,u),t=x(u),l=h(u,"DIV",{class:!0});var f=p(l);a=B(f,r),f.forEach(c),this.h()},h(){i(l,"class","flex items-center")},m(u,f){xe(e,u,f),U(u,t,f),U(u,l,f),n(l,a),o=!0},p(u,f){(!o||f&4)&&r!==(r=u[2].t("Documentation")+"")&&R(a,r)},i(u){o||(te(e.$$.fragment,u),o=!0)},o(u){re(e.$$.fragment,u),o=!1},d(u){u&&(c(t),c(l)),Se(e,u)}}}function Ou(s){let e,t,l,r=s[2].t("Keyboard shortcuts")+"",a,o;return e=new Mu({props:{className:"size-5"}}),{c(){Ve(e.$$.fragment),t=C(),l=d("div"),a=N(r),this.h()},l(u){Ce(e.$$.fragment,u),t=x(u),l=h(u,"DIV",{class:!0});var f=p(l);a=B(f,r),f.forEach(c),this.h()},h(){i(l,"class","flex items-center")},m(u,f){xe(e,u,f),U(u,t,f),U(u,l,f),n(l,a),o=!0},p(u,f){(!o||f&4)&&r!==(r=u[2].t("Keyboard shortcuts")+"")&&R(a,r)},i(u){o||(te(e.$$.fragment,u),o=!0)},o(u){re(e.$$.fragment,u),o=!1},d(u){u&&(c(t),c(l)),Se(e,u)}}}function Hu(s){let e,t,l,r;return e=new jl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",id:"chat-share-button",$$slots:{default:[Lu]},$$scope:{ctx:s}}}),e.$on("click",s[6]),l=new jl({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",id:"chat-share-button",$$slots:{default:[Ou]},$$scope:{ctx:s}}}),l.$on("click",s[7]),{c(){Ve(e.$$.fragment),t=C(),Ve(l.$$.fragment)},l(a){Ce(e.$$.fragment,a),t=x(a),Ce(l.$$.fragment,a)},m(a,o){xe(e,a,o),U(a,t,o),xe(l,a,o),r=!0},p(a,o){const u={};o&516&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);const f={};o&516&&(f.$$scope={dirty:o,ctx:a}),l.$set(f)},i(a){r||(te(e.$$.fragment,a),te(l.$$.fragment,a),r=!0)},o(a){re(e.$$.fragment,a),re(l.$$.fragment,a),r=!1},d(a){a&&c(t),Se(e,a),Se(l,a)}}}function Nu(s){let e,t,l;return t=new en({props:{class:"w-full max-w-[200px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:4,side:"top",align:"end",transition:Ja,$$slots:{default:[Hu]},$$scope:{ctx:s}}}),{c(){e=d("div"),Ve(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{slot:!0});var a=p(e);Ce(t.$$.fragment,a),a.forEach(c),this.h()},h(){i(e,"slot","content")},m(r,a){U(r,e,a),xe(t,e,null),l=!0},p(r,a){const o={};a&517&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){l||(te(t.$$.fragment,r),l=!0)},o(r){re(t.$$.fragment,r),l=!1},d(r){r&&c(e),Se(t)}}}function Bu(s){let e,t;return e=new Qa({props:{$$slots:{content:[Nu],default:[Au]},$$scope:{ctx:s}}}),e.$on("change",s[8]),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p(l,[r]){const a={};r&517&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Uu(s,e,t){let l,{$$slots:r={},$$scope:a}=e;const o=Et("i18n");Pe(s,o,w=>t(2,l=w));let{showDocsHandler:u}=e,{showShortcutsHandler:f}=e,{onClose:v=()=>{}}=e;const _=()=>{window.open("https://docs.openwebui.com","_blank")},g=()=>{f()},m=w=>{w.detail===!1&&v()};return s.$$set=w=>{"showDocsHandler"in w&&t(4,u=w.showDocsHandler),"showShortcutsHandler"in w&&t(0,f=w.showShortcutsHandler),"onClose"in w&&t(1,v=w.onClose),"$$scope"in w&&t(9,a=w.$$scope)},[f,v,l,o,u,r,_,g,m,a]}class Pu extends ft{constructor(e){super(),dt(this,e,Uu,Bu,ut,{showDocsHandler:4,showShortcutsHandler:0,onClose:1})}}function ju(s){let e,t="?";return{c(){e=d("button"),e.textContent=t,this.h()},l(l){e=h(l,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-oq3opr"&&(e.textContent=t),this.h()},h(){i(e,"class","text-gray-600 dark:text-gray-300 bg-gray-300/20 size-5 flex items-center justify-center text-[0.7rem] rounded-full")},m(l,r){U(l,e,r)},p:Oe,d(l){l&&c(e)}}}function zu(s){let e,t;return e=new hl({props:{content:s[1].t("Help"),placement:"left",$$slots:{default:[ju]},$$scope:{ctx:s}}}),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p(l,r){const a={};r&2&&(a.content=l[1].t("Help")),r&128&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Ru(s){let e,t,l,r,a,o,u,f,v,_;r=new Pu({props:{showDocsHandler:s[4],showShortcutsHandler:s[5],$$slots:{default:[zu]},$$scope:{ctx:s}}});function g(w){s[6](w)}let m={};return s[0]!==void 0&&(m.show=s[0]),o=new gu({props:m}),Tt.push(()=>Ut(o,"show",g)),{c(){e=d("div"),t=d("button"),l=C(),Ve(r.$$.fragment),a=C(),Ve(o.$$.fragment),this.h()},l(w){e=h(w,"DIV",{class:!0});var k=p(e);t=h(k,"BUTTON",{id:!0,class:!0}),p(t).forEach(c),l=x(k),Ce(r.$$.fragment,k),k.forEach(c),a=x(w),Ce(o.$$.fragment,w),this.h()},h(){i(t,"id","show-shortcuts-button"),i(t,"class","hidden"),i(e,"class","hidden lg:flex fixed bottom-0 right-0 px-2 py-2 z-10")},m(w,k){U(w,e,k),n(e,t),n(e,l),xe(r,e,null),U(w,a,k),xe(o,w,k),f=!0,v||(_=ee(t,"click",s[3]),v=!0)},p(w,[k]){const E={};k&1&&(E.showDocsHandler=w[4]),k&1&&(E.showShortcutsHandler=w[5]),k&130&&(E.$$scope={dirty:k,ctx:w}),r.$set(E);const y={};!u&&k&1&&(u=!0,y.show=w[0],Bt(()=>u=!1)),o.$set(y)},i(w){f||(te(r.$$.fragment,w),te(o.$$.fragment,w),f=!0)},o(w){re(r.$$.fragment,w),re(o.$$.fragment,w),f=!1},d(w){w&&(c(e),c(a)),Se(r),Se(o,w),v=!1,_()}}}function $u(s,e,t){let l;const r=Et("i18n");Pe(s,r,_=>t(1,l=_));let a=!1;const o=()=>{t(0,a=!a)},u=()=>{t(0,a=!a)},f=()=>{t(0,a=!a)};function v(_){a=_,t(0,a)}return[a,l,r,o,u,f,v]}class Zu extends ft{constructor(e){super(),dt(this,e,$u,Ru,ut,{})}}function za(s){let e,t,l,r=s[0].name+"",a,o,u=s[0].email+"",f,v;return{c(){e=d("div"),t=d("div"),l=N("Admin: "),a=N(r),o=N(" ("),f=N(u),v=N(")"),this.h()},l(_){e=h(_,"DIV",{class:!0});var g=p(e);t=h(g,"DIV",{});var m=p(t);l=B(m,"Admin: "),a=B(m,r),o=B(m," ("),f=B(m,u),v=B(m,")"),m.forEach(c),g.forEach(c),this.h()},h(){i(e,"class","mt-4 text-sm font-medium text-center")},m(_,g){U(_,e,g),n(e,t),n(t,l),n(t,a),n(t,o),n(t,f),n(t,v)},p(_,g){g&1&&r!==(r=_[0].name+"")&&R(a,r),g&1&&u!==(u=_[0].email+"")&&R(f,u)},d(_){_&&c(e)}}}function Wu(s){let e,t,l,r,a,o="Account Activation Pending<br/> Contact Admin for WebUI Access",u,f,v=`Your account status is currently pending activation.<br/> To access the WebUI, please reach
					out to the administrator. Admins can manage user statuses from the Admin Panel.`,_,g,m,w,k=s[1].t("Check Again")+"",E,y,b,D=s[1].t("Sign Out")+"",I,M,T,S=s[0]&&za(s);return{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),a=d("div"),a.innerHTML=o,u=C(),f=d("div"),f.innerHTML=v,_=C(),S&&S.c(),g=C(),m=d("div"),w=d("button"),E=N(k),y=C(),b=d("button"),I=N(D),this.h()},l(V){e=h(V,"DIV",{class:!0});var j=p(e);t=h(j,"DIV",{class:!0});var P=p(t);l=h(P,"DIV",{class:!0});var $=p(l);r=h($,"DIV",{class:!0});var z=p(r);a=h(z,"DIV",{class:!0,"data-svelte-h":!0}),ye(a)!=="svelte-761ikq"&&(a.innerHTML=o),u=x(z),f=h(z,"DIV",{class:!0,"data-svelte-h":!0}),ye(f)!=="svelte-1x6oka3"&&(f.innerHTML=v),_=x(z),S&&S.l(z),g=x(z),m=h(z,"DIV",{class:!0});var A=p(m);w=h(A,"BUTTON",{class:!0});var O=p(w);E=B(O,k),O.forEach(c),y=x(A),b=h(A,"BUTTON",{class:!0});var L=p(b);I=B(L,D),L.forEach(c),A.forEach(c),z.forEach(c),$.forEach(c),P.forEach(c),j.forEach(c),this.h()},h(){i(a,"class","text-center dark:text-white text-2xl font-medium z-50"),i(f,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),i(w,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 text-gray-700 transition font-medium text-sm"),i(b,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),i(m,"class","mt-6 mx-auto relative group w-fit"),i(r,"class","max-w-md"),i(l,"class","m-auto pb-10 flex flex-col justify-center"),i(t,"class","absolute w-full h-full backdrop-blur-lg bg-white/10 dark:bg-gray-900/50 flex justify-center"),i(e,"class","fixed w-full h-full flex z-[999]")},m(V,j){U(V,e,j),n(e,t),n(t,l),n(l,r),n(r,a),n(r,u),n(r,f),n(r,_),S&&S.m(r,null),n(r,g),n(r,m),n(m,w),n(w,E),n(m,y),n(m,b),n(b,I),M||(T=[ee(w,"click",s[3]),ee(b,"click",s[4])],M=!0)},p(V,[j]){V[0]?S?S.p(V,j):(S=za(V),S.c(),S.m(r,g)):S&&(S.d(1),S=null),j&2&&k!==(k=V[1].t("Check Again")+"")&&R(E,k),j&2&&D!==(D=V[1].t("Sign Out")+"")&&R(I,D)},i:Oe,o:Oe,d(V){V&&c(e),S&&S.d(),M=!1,tt(T)}}}function qu(s,e,t){let l;const r=Et("i18n");Pe(s,r,f=>t(1,l=f));let a=null;return Xt(async()=>{t(0,a=await Cn(localStorage.token).catch(f=>(console.error(f),null)))}),[a,l,r,async()=>{location.href="/"},async()=>{localStorage.removeItem("token"),location.href="/auth"}]}class Gu extends ft{constructor(e){super(),dt(this,e,qu,Wu,ut,{})}}function Ra(s){let e,t,l,r,a,o,u;const f=[Ku,Yu],v=[];function _(w,k){return k&8&&(e=null),e==null&&(e=!["user","admin"].includes(w[3].role)),e?0:w[2].length>0?1:-1}~(t=_(s,-1))&&(l=v[t]=f[t](s)),a=new vu({});const g=s[10].default,m=Cs(g,s,s[9],null);return{c(){l&&l.c(),r=C(),Ve(a.$$.fragment),o=C(),m&&m.c()},l(w){l&&l.l(w),r=x(w),Ce(a.$$.fragment,w),o=x(w),m&&m.l(w)},m(w,k){~t&&v[t].m(w,k),U(w,r,k),xe(a,w,k),U(w,o,k),m&&m.m(w,k),u=!0},p(w,k){let E=t;t=_(w,k),t===E?~t&&v[t].p(w,k):(l&&(Lt(),re(v[E],1,1,()=>{v[E]=null}),Ot()),~t?(l=v[t],l?l.p(w,k):(l=v[t]=f[t](w),l.c()),te(l,1),l.m(r.parentNode,r)):l=null),m&&m.p&&(!u||k&512)&&xs(m,g,w,w[9],u?Ms(g,w[9],k,null):Ss(w[9]),null)},i(w){u||(te(l),te(a.$$.fragment,w),te(m,w),u=!0)},o(w){re(l),re(a.$$.fragment,w),re(m,w),u=!1},d(w){w&&(c(r),c(o)),~t&&v[t].d(w),Se(a,w),m&&m.d(w)}}}function Yu(s){let e,t,l,r,a,o="Important Update<br/> Action Required for Chat Log Storage",u,f,v=s[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"",_,g,m,w=s[6].t("Settings")+"",k,E,y=s[6].t("Chats")+"",b,D,I=s[6].t("Import Chats")+"",M,T,S=s[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"",V,j,P,$,z="Download & Delete",A,O,L=s[6].t("Close")+"",G,H,W;return{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),a=d("div"),a.innerHTML=o,u=C(),f=d("div"),_=N(v),g=C(),m=d("span"),k=N(w),E=N(" > "),b=N(y),D=N(" > "),M=N(I),T=N(". "),V=N(S),j=C(),P=d("div"),$=d("button"),$.textContent=z,A=C(),O=d("button"),G=N(L),this.h()},l(q){e=h(q,"DIV",{class:!0});var Y=p(e);t=h(Y,"DIV",{class:!0});var Z=p(t);l=h(Z,"DIV",{class:!0});var K=p(l);r=h(K,"DIV",{class:!0});var X=p(r);a=h(X,"DIV",{class:!0,"data-svelte-h":!0}),ye(a)!=="svelte-mnqwc6"&&(a.innerHTML=o),u=x(X),f=h(X,"DIV",{class:!0});var J=p(f);_=B(J,v),g=x(J),m=h(J,"SPAN",{class:!0});var ue=p(m);k=B(ue,w),E=B(ue," > "),b=B(ue,y),D=B(ue," > "),M=B(ue,I),ue.forEach(c),T=B(J,". "),V=B(J,S),J.forEach(c),j=x(X),P=h(X,"DIV",{class:!0});var fe=p(P);$=h(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),ye($)!=="svelte-1ia8i9q"&&($.textContent=z),A=x(fe),O=h(fe,"BUTTON",{class:!0});var pe=p(O);G=B(pe,L),pe.forEach(c),fe.forEach(c),X.forEach(c),K.forEach(c),Z.forEach(c),Y.forEach(c),this.h()},h(){i(a,"class","text-center dark:text-white text-2xl font-medium z-50"),i(m,"class","font-semibold dark:text-white"),i(f,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),i($,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),i(O,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),i(P,"class","mt-6 mx-auto relative group w-fit"),i(r,"class","max-w-md"),i(l,"class","m-auto pb-44 flex flex-col justify-center"),i(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),i(e,"class","fixed w-full h-full flex z-50")},m(q,Y){U(q,e,Y),n(e,t),n(t,l),n(l,r),n(r,a),n(r,u),n(r,f),n(f,_),n(f,g),n(f,m),n(m,k),n(m,E),n(m,b),n(m,D),n(m,M),n(f,T),n(f,V),n(r,j),n(r,P),n(P,$),n(P,A),n(P,O),n(O,G),H||(W=[ee($,"click",s[13]),ee(O,"click",s[14])],H=!0)},p(q,Y){Y&64&&v!==(v=q[6].t("Saving chat logs directly to your browser's storage is no longer supported. Please take a moment to download and delete your chat logs by clicking the button below. Don't worry, you can easily re-import your chat logs to the backend through")+"")&&R(_,v),Y&64&&w!==(w=q[6].t("Settings")+"")&&R(k,w),Y&64&&y!==(y=q[6].t("Chats")+"")&&R(b,y),Y&64&&I!==(I=q[6].t("Import Chats")+"")&&R(M,I),Y&64&&S!==(S=q[6].t("This ensures that your valuable conversations are securely saved to your backend database. Thank you!")+"")&&R(V,S),Y&64&&L!==(L=q[6].t("Close")+"")&&R(G,L)},i:Oe,o:Oe,d(q){q&&c(e),H=!1,tt(W)}}}function Ku(s){let e,t;return e=new Gu({}),{c(){Ve(e.$$.fragment)},l(l){Ce(e.$$.fragment,l)},m(l,r){xe(e,l,r),t=!0},p:Oe,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Se(e,l)}}}function Fu(s){let e,t,l,r,a,o,u,f,v,_,g;e=new Zu({});function m(b){s[11](b)}let w={};s[4]!==void 0&&(w.show=s[4]),l=new Oc({props:w}),Tt.push(()=>Ut(l,"show",m));function k(b){s[12](b)}let E={};s[5]!==void 0&&(E.show=s[5]),o=new Du({props:E}),Tt.push(()=>Ut(o,"show",k));let y=s[0]&&Ra(s);return{c(){Ve(e.$$.fragment),t=C(),Ve(l.$$.fragment),a=C(),Ve(o.$$.fragment),f=C(),v=d("div"),_=d("div"),y&&y.c(),this.h()},l(b){Ce(e.$$.fragment,b),t=x(b),Ce(l.$$.fragment,b),a=x(b),Ce(o.$$.fragment,b),f=x(b),v=h(b,"DIV",{class:!0});var D=p(v);_=h(D,"DIV",{class:!0});var I=p(_);y&&y.l(I),I.forEach(c),D.forEach(c),this.h()},h(){i(_,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 h-screen max-h-[100dvh] overflow-auto flex flex-row"),i(v,"class","app relative")},m(b,D){xe(e,b,D),U(b,t,D),xe(l,b,D),U(b,a,D),xe(o,b,D),U(b,f,D),U(b,v,D),n(v,_),y&&y.m(_,null),g=!0},p(b,[D]){const I={};!r&&D&16&&(r=!0,I.show=b[4],Bt(()=>r=!1)),l.$set(I);const M={};!u&&D&32&&(u=!0,M.show=b[5],Bt(()=>u=!1)),o.$set(M),b[0]?y?(y.p(b,D),D&1&&te(y,1)):(y=Ra(b),y.c(),te(y,1),y.m(_,null)):y&&(Lt(),re(y,1,1,()=>{y=null}),Ot())},i(b){g||(te(e.$$.fragment,b),te(l.$$.fragment,b),te(o.$$.fragment,b),te(y),g=!0)},o(b){re(e.$$.fragment,b),re(l.$$.fragment,b),re(o.$$.fragment,b),re(y),g=!1},d(b){b&&(c(t),c(a),c(f),c(v)),Se(e,b),Se(l,b),Se(o,b),y&&y.d()}}}function Xu(s,e,t){let l,r,a,o,u;Pe(s,Fl,M=>t(15,l=M)),Pe(s,Dl,M=>t(3,r=M)),Pe(s,gs,M=>t(4,a=M)),Pe(s,cs,M=>t(5,o=M));let{$$slots:f={},$$scope:v}=e;const{saveAs:_}=As,g=Et("i18n");Pe(s,g,M=>t(6,u=M));let m=!1,w=null,k=[];const E=async()=>Za(localStorage.token);Xt(async()=>{if(r===void 0)await zl("/auth");else if(["user","admin"].includes(r.role)){try{if(t(1,w=await Eo("Chats",1)),w){const T=await w.getAllFromIndex("chats","timestamp");t(2,k=T.map((S,V)=>T[T.length-1-V])),k.length===0&&await kr("Chats")}console.log(w)}catch{}const M=await gn(localStorage.token).catch(T=>(console.error(T),null));M?await dl.set(M.ui):await dl.set(JSON.parse(localStorage.getItem("settings")??"{}")),await Promise.all([(async()=>{El.set(await E())})(),(async()=>{En.set(await on(localStorage.token))})(),(async()=>{In.set(await cn(localStorage.token))})(),(async()=>{Dn.set(await Zn(localStorage.token))})(),(async()=>{Is.set(await Ya(localStorage.token))})()]),document.addEventListener("keydown",function(T){var j,P,$,z,A;const S=T.ctrlKey||T.metaKey,V=T.shiftKey;if(S&&V&&T.key.toLowerCase()==="o"&&(T.preventDefault(),console.log("newChat"),(j=document.getElementById("sidebar-new-chat-button"))==null||j.click()),V&&T.key==="Escape"&&(T.preventDefault(),console.log("focusInput"),(P=document.getElementById("chat-textarea"))==null||P.focus()),S&&V&&T.key===";"){T.preventDefault(),console.log("copyLastCodeBlock");const O=[...document.getElementsByClassName("copy-code-button")].at(-1);O==null||O.click()}if(S&&V&&T.key.toLowerCase()==="c"){T.preventDefault(),console.log("copyLastResponse");const O=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(O),O==null||O.click()}S&&V&&T.key.toLowerCase()==="s"&&(T.preventDefault(),console.log("toggleSidebar"),($=document.getElementById("sidebar-toggle-button"))==null||$.click()),S&&V&&T.key==="Backspace"&&(T.preventDefault(),console.log("deleteChat"),(z=document.getElementById("delete-chat-button"))==null||z.click()),S&&T.key==="."&&(T.preventDefault(),console.log("openSettings"),gs.set(!a)),S&&T.key==="/"&&(T.preventDefault(),console.log("showShortcuts"),(A=document.getElementById("show-shortcuts-button"))==null||A.click())}),r.role==="admin"&&cs.set(localStorage.version!==l.version),await rn()}t(0,m=!0)});function y(M){a=M,gs.set(a)}function b(M){o=M,cs.set(o)}const D=async()=>{let M=new Blob([JSON.stringify(k)],{type:"application/json"});_(M,`chat-export-${Date.now()}.json`);const T=w.transaction("chats","readwrite");await Promise.all([T.store.clear(),T.done]),await kr("Chats"),t(2,k=[])},I=async()=>{t(2,k=[])};return s.$$set=M=>{"$$scope"in M&&t(9,v=M.$$scope)},[m,w,k,r,a,o,u,_,g,v,f,y,b,D,I]}class xf extends ft{constructor(e){super(),dt(this,e,Xu,Fu,ut,{})}}export{xf as component};
//# sourceMappingURL=2.3c785ea3.js.map
