import{s as nt,p as ut,V as _t,R as ht,w as tt,o as gt,f,l as N,a as T,g as h,h as m,m as U,d as u,c as S,O as Pe,j as a,i as R,r,Q as fe,u as J,X as Et,n as z,v as Xe,C as at,_ as lt,W as _l,e as Tt,S as ml,T as St,K as Mt,z as Oe,A as Re,t as Tl,M as Sl}from"../chunks/scheduler.cd89c28a.js";import{S as ct,i as dt,f as mt,b as Ze,d as Ke,m as Fe,a as Ie,t as xe,e as Ge,g as yt,c as kt}from"../chunks/index.6bdb6009.js";import{g as Ml}from"../chunks/globals.7f7f1b26.js";import{e as ft}from"../chunks/each.454f9fee.js";import{a as Me}from"../chunks/Toaster.svelte_svelte_type_style_lang.162bd233.js";import{f as Hl}from"../chunks/FileSaver.min.898eb36f.js";import{q as Je,g as Ll,c as Al,S as gl,w as bl,W as Cl}from"../chunks/index.69ad1154.js";import{u as Bl,g as rt,t as jt,c as Ct,d as zt}from"../chunks/index.03cfb8d6.js";import{g as wl,s as Pl,c as Nl,d as Ul,e as Ol,f as yl,h as Rl,i as ql,j as jl,k as kl,l as El,u as Il,A as zl}from"../chunks/AddFilesPlaceholder.bc9ab318.js";import{t as Dl}from"../chunks/index.b3b584e7.js";import{C as Vl}from"../chunks/Checkbox.691668d1.js";import{M as Bt}from"../chunks/dayjs.min.2d74aef4.js";import{T as xl}from"../chunks/Tags.6266bbb1.js";import"../chunks/sha256.8dba905a.js";import{S as Zl}from"../chunks/Switch.b5da2e35.js";import{g as Kl}from"../chunks/index.a5cf369b.js";function Fl(s){let e,t,l,o=s[3].t("Edit Doc")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,_,v,p,g,w,y,D=s[3].t("Name Tag")+"",V,M,E,I,x="#",A,B,P,ee,ae,F=s[3].t("Title")+"",oe,se,G,ue,de,Q,K,O=s[3].t("Tags")+"",Z,te,le,_e,k,C,Y=s[3].t("Save")+"",W,L,he,ie;return le=new xl({props:{tags:s[1],addTag:s[6],deleteTag:s[7]}}),{c(){e=f("div"),t=f("div"),l=f("div"),i=N(o),n=T(),d=f("button"),d.innerHTML=c,b=T(),_=f("div"),v=f("div"),p=f("form"),g=f("div"),w=f("div"),y=f("div"),V=N(D),M=T(),E=f("div"),I=f("div"),I.textContent=x,A=T(),B=f("input"),P=T(),ee=f("div"),ae=f("div"),oe=N(F),se=T(),G=f("div"),ue=f("input"),de=T(),Q=f("div"),K=f("div"),Z=N(O),te=T(),Ze(le.$$.fragment),_e=T(),k=f("div"),C=f("button"),W=N(Y),this.h()},l(X){e=h(X,"DIV",{});var q=m(e);t=h(q,"DIV",{class:!0});var j=m(t);l=h(j,"DIV",{class:!0});var ke=m(l);i=U(ke,o),ke.forEach(u),n=S(j),d=h(j,"BUTTON",{class:!0,"data-svelte-h":!0}),Pe(d)!=="svelte-745w2y"&&(d.innerHTML=c),j.forEach(u),b=S(q),_=h(q,"DIV",{class:!0});var Te=m(_);v=h(Te,"DIV",{class:!0});var He=m(v);p=h(He,"FORM",{class:!0});var we=m(p);g=h(we,"DIV",{class:!0});var be=m(g);w=h(be,"DIV",{class:!0});var ve=m(w);y=h(ve,"DIV",{class:!0});var Ae=m(y);V=U(Ae,D),Ae.forEach(u),M=S(ve),E=h(ve,"DIV",{class:!0});var Ne=m(E);I=h(Ne,"DIV",{class:!0,"data-svelte-h":!0}),Pe(I)!=="svelte-113b805"&&(I.textContent=x),A=S(Ne),B=h(Ne,"INPUT",{class:!0,type:!0,autocomplete:!0}),Ne.forEach(u),ve.forEach(u),P=S(be),ee=h(be,"DIV",{class:!0});var Ee=m(ee);ae=h(Ee,"DIV",{class:!0});var ze=m(ae);oe=U(ze,F),ze.forEach(u),se=S(Ee),G=h(Ee,"DIV",{class:!0});var Ce=m(G);ue=h(Ce,"INPUT",{class:!0,type:!0,autocomplete:!0}),Ce.forEach(u),Ee.forEach(u),de=S(be),Q=h(be,"DIV",{class:!0});var me=m(Q);K=h(me,"DIV",{class:!0});var ge=m(K);Z=U(ge,O),ge.forEach(u),te=S(me),Ke(le.$$.fragment,me),me.forEach(u),be.forEach(u),_e=S(we),k=h(we,"DIV",{class:!0});var Se=m(k);C=h(Se,"BUTTON",{class:!0,type:!0});var We=m(C);W=U(We,Y),We.forEach(u),Se.forEach(u),we.forEach(u),He.forEach(u),Te.forEach(u),q.forEach(u),this.h()},h(){a(l,"class","text-lg font-medium self-center"),a(d,"class","self-center"),a(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),a(y,"class","mb-1 text-xs text-gray-500"),a(I,"class","bg-gray-200 dark:bg-gray-800 font-bold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center"),a(B,"class","w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),a(B,"type","text"),a(B,"autocomplete","off"),B.required=!0,a(E,"class","flex flex-1"),a(w,"class","flex flex-col w-full"),a(ae,"class","mb-1 text-xs text-gray-500"),a(ue,"class","w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none svelte-1vx7r9s"),a(ue,"type","text"),a(ue,"autocomplete","off"),ue.required=!0,a(G,"class","flex-1"),a(ee,"class","flex flex-col w-full"),a(K,"class","mb-2 text-xs text-gray-500"),a(Q,"class","flex flex-col w-full"),a(g,"class","flex flex-col space-y-1.5"),a(C,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),a(C,"type","submit"),a(k,"class","flex justify-end pt-5 text-sm font-medium"),a(p,"class","flex flex-col w-full"),a(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),a(_,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(X,q){R(X,e,q),r(e,t),r(t,l),r(l,i),r(t,n),r(t,d),r(e,b),r(e,_),r(_,v),r(v,p),r(p,g),r(g,w),r(w,y),r(y,V),r(w,M),r(w,E),r(E,I),r(E,A),r(E,B),fe(B,s[2].name),r(g,P),r(g,ee),r(ee,ae),r(ae,oe),r(ee,se),r(ee,G),r(G,ue),fe(ue,s[2].title),r(g,de),r(g,Q),r(Q,K),r(K,Z),r(Q,te),Fe(le,Q,null),r(p,_e),r(p,k),r(k,C),r(C,W),L=!0,he||(ie=[J(d,"click",s[9]),J(B,"input",s[10]),J(ue,"input",s[11]),J(p,"submit",Et(s[12]))],he=!0)},p(X,q){(!L||q&8)&&o!==(o=X[3].t("Edit Doc")+"")&&z(i,o),(!L||q&8)&&D!==(D=X[3].t("Name Tag")+"")&&z(V,D),q&4&&B.value!==X[2].name&&fe(B,X[2].name),(!L||q&8)&&F!==(F=X[3].t("Title")+"")&&z(oe,F),q&4&&ue.value!==X[2].title&&fe(ue,X[2].title),(!L||q&8)&&O!==(O=X[3].t("Tags")+"")&&z(Z,O);const j={};q&2&&(j.tags=X[1]),le.$set(j),(!L||q&8)&&Y!==(Y=X[3].t("Save")+"")&&z(W,Y)},i(X){L||(Ie(le.$$.fragment,X),L=!0)},o(X){xe(le.$$.fragment,X),L=!1},d(X){X&&u(e),Ge(le),he=!1,Xe(ie)}}}function Gl(s){let e,t,l;function o(n){s[13](n)}let i={size:"sm",$$slots:{default:[Fl]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Bt({props:i}),ut.push(()=>mt(e,"show",o)),{c(){Ze(e.$$.fragment)},l(n){Ke(e.$$.fragment,n)},m(n,d){Fe(e,n,d),l=!0},p(n,[d]){const c={};d&16399&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],_t(()=>t=!1)),e.$set(c)},i(n){l||(Ie(e.$$.fragment,n),l=!0)},o(n){xe(e.$$.fragment,n),l=!1},d(n){Ge(e,n)}}}function Wl(s,e,t){let l;const o=ht("i18n");tt(s,o,V=>t(3,l=V));let{show:i=!1}=e,{selectedDoc:n}=e,d=[],c={name:"",title:"",content:null};const b=async()=>{await Bl(localStorage.token,n.name,{title:c.title,name:c.name}).catch(M=>{Me.error(M)})&&(t(0,i=!1),Je.set(await rt(localStorage.token)))},_=async V=>{!d.find(M=>M.name===V)&&V!==""?(t(1,d=[...d,{name:V}]),await jt(localStorage.token,c.name,{name:c.name,tags:d}),Je.set(await rt(localStorage.token))):console.log("tag already exists")},v=async V=>{t(1,d=d.filter(M=>M.name!==V)),await jt(localStorage.token,c.name,{name:c.name,tags:d}),Je.set(await rt(localStorage.token))};gt(()=>{var V;n&&(t(2,c=JSON.parse(JSON.stringify(n))),t(1,d=((V=c==null?void 0:c.content)==null?void 0:V.tags)??[]))});const p=()=>{t(0,i=!1)};function g(){c.name=this.value,t(2,c)}function w(){c.title=this.value,t(2,c)}const y=()=>{b()};function D(V){i=V,t(0,i)}return s.$$set=V=>{"show"in V&&t(0,i=V.show),"selectedDoc"in V&&t(8,n=V.selectedDoc)},[i,d,c,l,o,b,_,v,n,p,g,w,y,D]}class Ql extends ct{constructor(e){super(),dt(this,e,Wl,Gl,nt,{show:0,selectedDoc:8})}}function Zt(s,e,t){const l=s.slice();return l[41]=e[t],l}function Kt(s){let e,t=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Pe(e)!=="svelte-1q5d1z1"&&(e.innerHTML=t),this.h()},h(){a(e,"class","ml-3 self-center")},m(l,o){R(l,e,o)},d(l){l&&u(e)}}}function Ft(s){let e,t,l,o,i,n,d,c,b,_=s[13].t("Embedding Batch Size")+"",v,p,g,w,y,D,V,M,E;return{c(){e=f("div"),t=f("input"),o=T(),i=f("input"),d=T(),c=f("div"),b=f("div"),v=N(_),p=T(),g=f("div"),w=f("input"),y=T(),D=f("div"),V=f("input"),this.h()},l(I){e=h(I,"DIV",{class:!0});var x=m(e);t=h(x,"INPUT",{class:!0,placeholder:!0}),o=S(x),i=h(x,"INPUT",{class:!0,placeholder:!0}),x.forEach(u),d=S(I),c=h(I,"DIV",{class:!0});var A=m(c);b=h(A,"DIV",{class:!0});var B=m(b);v=U(B,_),B.forEach(u),p=S(A),g=h(A,"DIV",{class:!0});var P=m(g);w=h(P,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),P.forEach(u),y=S(A),D=h(A,"DIV",{class:!0});var ee=m(D);V=h(ee,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),ee.forEach(u),A.forEach(u),this.h()},h(){a(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(t,"placeholder",l=s[13].t("API Base URL")),t.required=!0,a(i,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(i,"placeholder",n=s[13].t("API Key")),i.required=!0,a(e,"class","my-0.5 flex gap-2"),a(b,"class","self-center text-xs font-medium"),a(w,"id","steps-range"),a(w,"type","range"),a(w,"min","1"),a(w,"max","2048"),a(w,"step","1"),a(w,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),a(g,"class","flex-1"),a(V,"type","number"),a(V,"class","bg-transparent text-center w-14"),a(V,"min","-2"),a(V,"max","16000"),a(V,"step","1"),a(D,"class",""),a(c,"class","flex mt-0.5 space-x-2")},m(I,x){R(I,e,x),r(e,t),fe(t,s[10]),r(e,o),r(e,i),fe(i,s[9]),R(I,d,x),R(I,c,x),r(c,b),r(b,v),r(c,p),r(c,g),r(g,w),fe(w,s[11]),r(c,y),r(c,D),r(D,V),fe(V,s[11]),M||(E=[J(t,"input",s[22]),J(i,"input",s[23]),J(w,"change",s[24]),J(w,"input",s[24]),J(V,"input",s[25])],M=!0)},p(I,x){x[0]&8192&&l!==(l=I[13].t("API Base URL"))&&a(t,"placeholder",l),x[0]&1024&&t.value!==I[10]&&fe(t,I[10]),x[0]&8192&&n!==(n=I[13].t("API Key"))&&a(i,"placeholder",n),x[0]&512&&i.value!==I[9]&&fe(i,I[9]),x[0]&8192&&_!==(_=I[13].t("Embedding Batch Size")+"")&&z(v,_),x[0]&2048&&fe(w,I[11]),x[0]&2048&&lt(V.value)!==I[11]&&fe(V,I[11])},d(I){I&&(u(e),u(d),u(c)),M=!1,Xe(E)}}}function Yl(s){let e,t=s[13].t("Off")+"",l;return{c(){e=f("span"),l=N(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=m(e);l=U(i,t),i.forEach(u),this.h()},h(){a(e,"class","ml-2 self-center")},m(o,i){R(o,e,i),r(e,l)},p(o,i){i[0]&8192&&t!==(t=o[13].t("Off")+"")&&z(l,t)},d(o){o&&u(e)}}}function Xl(s){let e,t=s[13].t("On")+"",l;return{c(){e=f("span"),l=N(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=m(e);l=U(i,t),i.forEach(u),this.h()},h(){a(e,"class","ml-2 self-center")},m(o,i){R(o,e,i),r(e,l)},p(o,i){i[0]&8192&&t!==(t=o[13].t("On")+"")&&z(l,t)},d(o){o&&u(e)}}}function Jl(s){let e,t,l,o,i,n,d,c=s[6]===""&&Gt(s);return{c(){e=f("div"),t=f("div"),l=f("input"),i=T(),c&&c.c(),this.h()},l(b){e=h(b,"DIV",{class:!0});var _=m(e);t=h(_,"DIV",{class:!0});var v=m(t);l=h(v,"INPUT",{class:!0,placeholder:!0}),v.forEach(u),i=S(_),c&&c.l(_),_.forEach(u),this.h()},h(){a(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(l,"placeholder",o=s[13].t("Set embedding model (e.g. {{model}})",{model:s[7].slice(-40)})),a(t,"class","flex-1 mr-2"),a(e,"class","flex w-full")},m(b,_){R(b,e,_),r(e,t),r(t,l),fe(l,s[7]),r(e,i),c&&c.m(e,null),n||(d=J(l,"input",s[28]),n=!0)},p(b,_){_[0]&24704&&o!==(o=b[13].t("Set embedding model (e.g. {{model}})",{model:b[7].slice(-40)}))&&a(l,"placeholder",o),_[0]&16512&&l.value!==b[7]&&fe(l,b[7]),b[6]===""?c?c.p(b,_):(c=Gt(b),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(b){b&&u(e),c&&c.d(),n=!1,d()}}}function $l(s){let e,t,l,o,i,n,d,c=!s[7]&&Wt(s),b=ft(s[14].filter(Xt)),_=[];for(let v=0;v<b.length;v+=1)_[v]=Qt(Zt(s,b,v));return{c(){e=f("div"),t=f("div"),l=f("select"),c&&c.c(),o=Tt();for(let v=0;v<_.length;v+=1)_[v].c();this.h()},l(v){e=h(v,"DIV",{class:!0});var p=m(e);t=h(p,"DIV",{class:!0});var g=m(t);l=h(g,"SELECT",{class:!0,placeholder:!0});var w=m(l);c&&c.l(w),o=Tt();for(let y=0;y<_.length;y+=1)_[y].l(w);w.forEach(u),g.forEach(u),p.forEach(u),this.h()},h(){a(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(l,"placeholder",i=s[13].t("Select a model")),l.required=!0,s[7]===void 0&&ml(()=>s[27].call(l)),a(t,"class","flex-1 mr-2"),a(e,"class","flex w-full")},m(v,p){R(v,e,p),r(e,t),r(t,l),c&&c.m(l,null),r(l,o);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(l,null);St(l,s[7],!0),n||(d=J(l,"change",s[27]),n=!0)},p(v,p){if(v[7]?c&&(c.d(1),c=null):c?c.p(v,p):(c=Wt(v),c.c(),c.m(l,o)),p[0]&16384){b=ft(v[14].filter(Xt));let g;for(g=0;g<b.length;g+=1){const w=Zt(v,b,g);_[g]?_[g].p(w,p):(_[g]=Qt(w),_[g].c(),_[g].m(l,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=b.length}p[0]&8192&&i!==(i=v[13].t("Select a model"))&&a(l,"placeholder",i),p[0]&16512&&St(l,v[7])},d(v){v&&u(e),c&&c.d(),Mt(_,v),n=!1,d()}}}function Gt(s){let e,t,l;function o(d,c){return d[2]?ts:es}let i=o(s),n=i(s);return{c(){e=f("button"),n.c(),this.h()},l(d){e=h(d,"BUTTON",{class:!0});var c=m(e);n.l(c),c.forEach(u),this.h()},h(){a(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=s[2]},m(d,c){R(d,e,c),n.m(e,null),t||(l=J(e,"click",s[29]),t=!0)},p(d,c){i!==(i=o(d))&&(n.d(1),n=i(d),n&&(n.c(),n.m(e,null))),c[0]&4&&(e.disabled=d[2])},d(d){d&&u(e),n.d(),t=!1,l()}}}function es(s){let e,t,l;return{c(){e=Oe("svg"),t=Oe("path"),l=Oe("path"),this.h()},l(o){e=Re(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=m(e);t=Re(i,"path",{d:!0}),m(t).forEach(u),l=Re(i,"path",{d:!0}),m(l).forEach(u),i.forEach(u),this.h()},h(){a(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),a(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"viewBox","0 0 16 16"),a(e,"fill","currentColor"),a(e,"class","w-4 h-4")},m(o,i){R(o,e,i),r(e,t),r(e,l)},d(o){o&&u(e)}}}function ts(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Pe(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){a(e,"class","self-center")},m(l,o){R(l,e,o)},d(l){l&&u(e)}}}function Wt(s){let e,t=s[13].t("Select a model")+"",l;return{c(){e=f("option"),l=N(t),this.h()},l(o){e=h(o,"OPTION",{});var i=m(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value="",fe(e,e.__value),e.disabled=!0,e.selected=!0},m(o,i){R(o,e,i),r(e,l)},p(o,i){i[0]&8192&&t!==(t=o[13].t("Select a model")+"")&&z(l,t)},d(o){o&&u(e)}}}function Qt(s){let e,t=s[41].name+" ("+(s[41].size/1073741824).toFixed(1)+" GB)",l,o;return{c(){e=f("option"),l=N(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var n=m(e);l=U(n,t),n.forEach(u),this.h()},h(){e.__value=o=s[41].name,fe(e,e.__value),a(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){R(i,e,n),r(e,l)},p(i,n){n[0]&16384&&t!==(t=i[41].name+" ("+(i[41].size/1024**3).toFixed(1)+" GB)")&&z(l,t),n[0]&16384&&o!==(o=i[41].name)&&(e.__value=o,fe(e,e.__value))},d(i){i&&u(e)}}}function Yt(s){let e,t,l=s[13].t("Reranking Model")+"",o,i,n,d,c,b,_,v,p,g;function w(V,M){return V[3]?ss:ls}let y=w(s),D=y(s);return{c(){e=f("div"),t=f("div"),o=N(l),i=T(),n=f("div"),d=f("div"),c=f("input"),_=T(),v=f("button"),D.c(),this.h()},l(V){e=h(V,"DIV",{class:!0});var M=m(e);t=h(M,"DIV",{class:!0});var E=m(t);o=U(E,l),E.forEach(u),i=S(M),n=h(M,"DIV",{class:!0});var I=m(n);d=h(I,"DIV",{class:!0});var x=m(d);c=h(x,"INPUT",{class:!0,placeholder:!0}),x.forEach(u),_=S(I),v=h(I,"BUTTON",{class:!0});var A=m(v);D.l(A),A.forEach(u),I.forEach(u),M.forEach(u),this.h()},h(){a(t,"class","mb-2 text-sm font-medium"),a(c,"class","disabled sw-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(c,"placeholder",b=s[13].t("Disabled - a local sentence-transformer is used instead",{model:"BAAI/bge-reranker-v2-m3"})),a(d,"class","flex-1 mr-2"),a(v,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),v.disabled=s[3],a(n,"class","flex w-full"),a(e,"class","")},m(V,M){R(V,e,M),r(e,t),r(t,o),r(e,i),r(e,n),r(n,d),r(d,c),fe(c,s[8]),r(n,_),r(n,v),D.m(v,null),p||(g=[J(c,"input",s[30]),J(v,"click",s[31])],p=!0)},p(V,M){M[0]&8192&&l!==(l=V[13].t("Reranking Model")+"")&&z(o,l),M[0]&8192&&b!==(b=V[13].t("Disabled - a local sentence-transformer is used instead",{model:"BAAI/bge-reranker-v2-m3"}))&&a(c,"placeholder",b),M[0]&256&&c.value!==V[8]&&fe(c,V[8]),y!==(y=w(V))&&(D.d(1),D=y(V),D&&(D.c(),D.m(v,null))),M[0]&8&&(v.disabled=V[3])},d(V){V&&u(e),D.d(),p=!1,Xe(g)}}}function ls(s){let e,t,l;return{c(){e=Oe("svg"),t=Oe("path"),l=Oe("path"),this.h()},l(o){e=Re(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=m(e);t=Re(i,"path",{d:!0}),m(t).forEach(u),l=Re(i,"path",{d:!0}),m(l).forEach(u),i.forEach(u),this.h()},h(){a(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),a(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"viewBox","0 0 16 16"),a(e,"fill","currentColor"),a(e,"class","w-4 h-4")},m(o,i){R(o,e,i),r(e,t),r(e,l)},d(o){o&&u(e)}}}function ss(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=f("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Pe(e)!=="svelte-to07og"&&(e.innerHTML=t),this.h()},h(){a(e,"class","self-center")},m(l,o){R(l,e,o)},d(l){l&&u(e)}}}function rs(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',o,i,n=s[13].t("Reset Upload Directory")+"",d,c,b;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,o=T(),i=f("div"),d=N(n),this.h()},l(_){e=h(_,"BUTTON",{class:!0,type:!0});var v=m(e);t=h(v,"DIV",{class:!0,"data-svelte-h":!0}),Pe(t)!=="svelte-1xas26m"&&(t.innerHTML=l),o=S(v),i=h(v,"DIV",{class:!0});var p=m(i);d=U(p,n),p.forEach(u),v.forEach(u),this.h()},h(){a(t,"class","self-center mr-3"),a(i,"class","self-center text-sm font-medium"),a(e,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),a(e,"type","button")},m(_,v){R(_,e,v),r(e,t),r(e,o),r(e,i),r(i,d),c||(b=J(e,"click",s[34]),c=!0)},p(_,v){v[0]&8192&&n!==(n=_[13].t("Reset Upload Directory")+"")&&z(d,n)},d(_){_&&u(e),c=!1,b()}}}function as(s){let e,t,l,o,i,n,d,c=s[13].t("Are you sure?")+"",b,_,v,p,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',w,y,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',V,M;return{c(){e=f("div"),t=f("div"),l=Oe("svg"),o=Oe("path"),i=Oe("path"),n=T(),d=f("span"),b=N(c),_=T(),v=f("div"),p=f("button"),p.innerHTML=g,w=T(),y=f("button"),y.innerHTML=D,this.h()},l(E){e=h(E,"DIV",{class:!0});var I=m(e);t=h(I,"DIV",{class:!0});var x=m(t);l=Re(x,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var A=m(l);o=Re(A,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(o).forEach(u),i=Re(A,"path",{d:!0}),m(i).forEach(u),A.forEach(u),n=S(x),d=h(x,"SPAN",{});var B=m(d);b=U(B,c),B.forEach(u),x.forEach(u),_=S(I),v=h(I,"DIV",{class:!0});var P=m(v);p=h(P,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Pe(p)!=="svelte-idku6k"&&(p.innerHTML=g),w=S(P),y=h(P,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Pe(y)!=="svelte-1npylob"&&(y.innerHTML=D),P.forEach(u),I.forEach(u),this.h()},h(){a(o,"fill-rule","evenodd"),a(o,"d","M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z"),a(o,"clip-rule","evenodd"),a(i,"d","M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"),a(l,"xmlns","http://www.w3.org/2000/svg"),a(l,"viewBox","0 0 24 24"),a(l,"fill","currentColor"),a(l,"class","size-4"),a(t,"class","flex items-center space-x-3"),a(p,"class","hover:text-white transition"),a(p,"type","button"),a(y,"class","hover:text-white transition"),a(y,"type","button"),a(v,"class","flex space-x-1.5 items-center"),a(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(E,I){R(E,e,I),r(e,t),r(t,l),r(l,o),r(l,i),r(t,n),r(t,d),r(d,b),r(e,_),r(e,v),r(v,p),r(v,w),r(v,y),V||(M=[J(p,"click",s[32]),J(y,"click",s[33])],V=!0)},p(E,I){I[0]&8192&&c!==(c=E[13].t("Are you sure?")+"")&&z(b,c)},d(E){E&&u(e),V=!1,Xe(M)}}}function ns(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',o,i,n=s[13].t("Reset Vector Storage")+"",d,c,b;return{c(){e=f("button"),t=f("div"),t.innerHTML=l,o=T(),i=f("div"),d=N(n),this.h()},l(_){e=h(_,"BUTTON",{class:!0,type:!0});var v=m(e);t=h(v,"DIV",{class:!0,"data-svelte-h":!0}),Pe(t)!=="svelte-2sumrc"&&(t.innerHTML=l),o=S(v),i=h(v,"DIV",{class:!0});var p=m(i);d=U(p,n),p.forEach(u),v.forEach(u),this.h()},h(){a(t,"class","self-center mr-3"),a(i,"class","self-center text-sm font-medium"),a(e,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),a(e,"type","button")},m(_,v){R(_,e,v),r(e,t),r(e,o),r(e,i),r(i,d),c||(b=J(e,"click",s[37]),c=!0)},p(_,v){v[0]&8192&&n!==(n=_[13].t("Reset Vector Storage")+"")&&z(d,n)},d(_){_&&u(e),c=!1,b()}}}function os(s){let e,t,l,o,i,n,d=s[13].t("Are you sure?")+"",c,b,_,v,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',g,w,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',D,V;return{c(){e=f("div"),t=f("div"),l=Oe("svg"),o=Oe("path"),i=T(),n=f("span"),c=N(d),b=T(),_=f("div"),v=f("button"),v.innerHTML=p,g=T(),w=f("button"),w.innerHTML=y,this.h()},l(M){e=h(M,"DIV",{class:!0});var E=m(e);t=h(E,"DIV",{class:!0});var I=m(t);l=Re(I,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var x=m(l);o=Re(x,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(o).forEach(u),x.forEach(u),i=S(I),n=h(I,"SPAN",{});var A=m(n);c=U(A,d),A.forEach(u),I.forEach(u),b=S(E),_=h(E,"DIV",{class:!0});var B=m(_);v=h(B,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Pe(v)!=="svelte-1s57585"&&(v.innerHTML=p),g=S(B),w=h(B,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Pe(w)!=="svelte-16qx3hx"&&(w.innerHTML=y),B.forEach(u),E.forEach(u),this.h()},h(){a(o,"fill-rule","evenodd"),a(o,"d","M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z"),a(o,"clip-rule","evenodd"),a(l,"xmlns","http://www.w3.org/2000/svg"),a(l,"viewBox","0 0 16 16"),a(l,"fill","currentColor"),a(l,"class","w-4 h-4"),a(t,"class","flex items-center space-x-3"),a(v,"class","hover:text-white transition"),a(v,"type","button"),a(w,"class","hover:text-white transition"),a(w,"type","button"),a(_,"class","flex space-x-1.5 items-center"),a(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(M,E){R(M,e,E),r(e,t),r(t,l),r(l,o),r(t,i),r(t,n),r(n,c),r(e,b),r(e,_),r(_,v),r(_,g),r(_,w),D||(V=[J(v,"click",s[35]),J(w,"click",s[36])],D=!0)},p(M,E){E[0]&8192&&d!==(d=M[13].t("Are you sure?")+"")&&z(c,d)},d(M){M&&u(e),D=!1,Xe(V)}}}function is(s){let e,t,l,o,i=s[13].t("General Settings")+"",n,d,c,b,_=s[13].t("Scan for documents from S3 path {{path}}",{path:"DOCS_DIR (s3://modelops/example/data/docs)"})+"",v,p,g,w,y=s[13].t("Scan")+"",D,V,M,E,I,x,A,B=s[13].t("Hybrid Search")+"",P,ee,ae,F,oe,se,G,ue,de,Q,K=s[13].t("Embedding Model")+"",O,Z,te,le,_e=s[13].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",k,C,Y,W,L,he,ie,X,q,j,ke=s[13].t("Save")+"",Te,He,we,be=s[1]&&Kt(),ve=s[6]==="openai"&&Ft(s);function Ae(ne,pe){return ne[12].hybrid===!0?Xl:Yl}let Ne=Ae(s),Ee=Ne(s);function ze(ne,pe){return ne[6]==="ollama"?$l:Jl}let Ce=ze(s),me=Ce(s),ge=s[12].hybrid===!0&&Yt(s);function Se(ne,pe){return ne[5]?as:rs}let We=Se(s),qe=We(s);function Ue(ne,pe){return ne[4]?os:ns}let $=Ue(s),re=$(s);return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=N(i),d=T(),c=f("div"),b=f("div"),v=N(_),p=T(),g=f("button"),w=f("div"),D=N(y),V=T(),be&&be.c(),E=T(),ve&&ve.c(),I=T(),x=f("div"),A=f("div"),P=N(B),ee=T(),ae=f("button"),Ee.c(),F=T(),oe=f("hr"),se=T(),G=f("div"),ue=T(),de=f("div"),Q=f("div"),O=N(K),Z=T(),me.c(),te=T(),le=f("div"),k=N(_e),C=T(),ge&&ge.c(),Y=T(),W=f("hr"),L=T(),he=f("div"),qe.c(),ie=T(),re.c(),X=T(),q=f("div"),j=f("button"),Te=N(ke),this.h()},l(ne){e=h(ne,"FORM",{class:!0});var pe=m(e);t=h(pe,"DIV",{class:!0});var ye=m(t);l=h(ye,"DIV",{class:!0});var Be=m(l);o=h(Be,"DIV",{class:!0});var ot=m(o);n=U(ot,i),ot.forEach(u),d=S(Be),c=h(Be,"DIV",{class:!0});var st=m(c);b=h(st,"DIV",{class:!0});var vt=m(b);v=U(vt,_),vt.forEach(u),p=S(st),g=h(st,"BUTTON",{class:!0,type:!0});var $e=m(g);w=h($e,"DIV",{class:!0});var De=m(w);D=U(De,y),De.forEach(u),V=S($e),be&&be.l($e),$e.forEach(u),st.forEach(u),E=S(Be),ve&&ve.l(Be),I=S(Be),x=h(Be,"DIV",{class:!0});var Qe=m(x);A=h(Qe,"DIV",{class:!0});var Ve=m(A);P=U(Ve,B),Ve.forEach(u),ee=S(Qe),ae=h(Qe,"BUTTON",{class:!0,type:!0});var it=m(ae);Ee.l(it),it.forEach(u),Qe.forEach(u),Be.forEach(u),F=S(ye),oe=h(ye,"HR",{class:!0}),se=S(ye),G=h(ye,"DIV",{class:!0}),m(G).forEach(u),ue=S(ye),de=h(ye,"DIV",{});var H=m(de);Q=h(H,"DIV",{class:!0});var ce=m(Q);O=U(ce,K),ce.forEach(u),Z=S(H),me.l(H),te=S(H),le=h(H,"DIV",{class:!0});var je=m(le);k=U(je,_e),je.forEach(u),C=S(H),ge&&ge.l(H),H.forEach(u),Y=S(ye),W=h(ye,"HR",{class:!0}),L=S(ye),he=h(ye,"DIV",{});var Ye=m(he);qe.l(Ye),ie=S(Ye),re.l(Ye),Ye.forEach(u),ye.forEach(u),X=S(pe),q=h(pe,"DIV",{class:!0});var Le=m(q);j=h(Le,"BUTTON",{class:!0,type:!0});var et=m(j);Te=U(et,ke),et.forEach(u),Le.forEach(u),pe.forEach(u),this.h()},h(){a(o,"class","mb-0.5 text-sm font-medium"),a(b,"class","self-center text-xs font-medium"),a(w,"class","self-center font-medium"),a(g,"class",M="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),a(g,"type","button"),g.disabled=s[1],a(c,"class","flex w-full justify-between"),a(A,"class","self-center text-xs font-medium"),a(ae,"class","p-1 px-3 text-xs flex rounded transition"),a(ae,"type","button"),a(x,"class","flex w-full justify-between"),a(l,"class","flex flex-col gap-0.5"),a(oe,"class","dark:border-gray-700 my-1"),a(G,"class","space-y-2"),a(Q,"class","mb-2 text-sm font-medium"),a(le,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),a(W,"class","dark:border-gray-850"),a(t,"class","space-y-2.5 pr-1.5 overflow-y-scroll max-h-[28rem]"),a(j,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),a(j,"type","submit"),a(q,"class","flex justify-end pt-3 text-sm font-medium"),a(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ne,pe){R(ne,e,pe),r(e,t),r(t,l),r(l,o),r(o,n),r(l,d),r(l,c),r(c,b),r(b,v),r(c,p),r(c,g),r(g,w),r(w,D),r(g,V),be&&be.m(g,null),r(l,E),ve&&ve.m(l,null),r(l,I),r(l,x),r(x,A),r(A,P),r(x,ee),r(x,ae),Ee.m(ae,null),r(t,F),r(t,oe),r(t,se),r(t,G),r(t,ue),r(t,de),r(de,Q),r(Q,O),r(de,Z),me.m(de,null),r(de,te),r(de,le),r(le,k),r(de,C),ge&&ge.m(de,null),r(t,Y),r(t,W),r(t,L),r(t,he),qe.m(he,null),r(he,ie),re.m(he,null),r(e,X),r(e,q),r(q,j),r(j,Te),He||(we=[J(g,"click",s[21]),J(ae,"click",s[26]),J(e,"submit",Et(s[38]))],He=!0)},p(ne,pe){pe[0]&8192&&i!==(i=ne[13].t("General Settings")+"")&&z(n,i),pe[0]&8192&&_!==(_=ne[13].t("Scan for documents from S3 path {{path}}",{path:"DOCS_DIR (s3://modelops/example/data/docs)"})+"")&&z(v,_),pe[0]&8192&&y!==(y=ne[13].t("Scan")+"")&&z(D,y),ne[1]?be||(be=Kt(),be.c(),be.m(g,null)):be&&(be.d(1),be=null),pe[0]&2&&M!==(M="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center "+(ne[1]?" cursor-not-allowed":""))&&a(g,"class",M),pe[0]&2&&(g.disabled=ne[1]),ne[6]==="openai"?ve?ve.p(ne,pe):(ve=Ft(ne),ve.c(),ve.m(l,I)):ve&&(ve.d(1),ve=null),pe[0]&8192&&B!==(B=ne[13].t("Hybrid Search")+"")&&z(P,B),Ne===(Ne=Ae(ne))&&Ee?Ee.p(ne,pe):(Ee.d(1),Ee=Ne(ne),Ee&&(Ee.c(),Ee.m(ae,null))),pe[0]&8192&&K!==(K=ne[13].t("Embedding Model")+"")&&z(O,K),Ce===(Ce=ze(ne))&&me?me.p(ne,pe):(me.d(1),me=Ce(ne),me&&(me.c(),me.m(de,te))),pe[0]&8192&&_e!==(_e=ne[13].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&z(k,_e),ne[12].hybrid===!0?ge?ge.p(ne,pe):(ge=Yt(ne),ge.c(),ge.m(de,null)):ge&&(ge.d(1),ge=null),We===(We=Se(ne))&&qe?qe.p(ne,pe):(qe.d(1),qe=We(ne),qe&&(qe.c(),qe.m(he,ie))),$===($=Ue(ne))&&re?re.p(ne,pe):(re.d(1),re=$(ne),re&&(re.c(),re.m(he,null))),pe[0]&8192&&ke!==(ke=ne[13].t("Save")+"")&&z(Te,ke)},i:at,o:at,d(ne){ne&&u(e),be&&be.d(),ve&&ve.d(),Ee.d(),me.d(),ge&&ge.d(),qe.d(),re.d(),He=!1,Xe(we)}}}const Xt=s=>s.id&&!s.external;function us(s,e,t){let l,o;tt(s,Ll,L=>t(14,o=L));const i=ht("i18n");tt(s,i,L=>t(13,l=L));let{saveHandler:n}=e,d=!1,c=!1,b=!1,_=!1,v=!1,p="",g="",w="",y="",D="",V=1,M={template:"",r:0,k:4,hybrid:!1};const E=async()=>{t(1,d=!0);const L=await Pl(localStorage.token);t(1,d=!1),L&&(await Je.set(await rt(localStorage.token)),Me.success(l.t("Scan complete!")))},I=async()=>{if(p===""&&g.split("/").length-1>1){Me.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="ollama"&&g===""){Me.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="openai"&&g===""){Me.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(p==="openai"&&y===""||D===""){Me.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",g),t(2,c=!0);const L=await jl(localStorage.token,{embedding_engine:p,embedding_model:g,...p==="openai"?{openai_config:{key:y,url:D,batch_size:V}}:{}}).catch(async he=>(Me.error(he),await B(),null));t(2,c=!1),L&&(console.log("embeddingModelUpdateHandler:",L),L.status===!0&&Me.success(l.t('Embedding model set to "{{embedding_model}}"',L),{duration:1e3*10}))},x=async()=>{console.log("Update reranking model attempt:",w),t(3,b=!0);const L=await Nl(localStorage.token,{reranking_model:w}).catch(async he=>(Me.error(he),await P(),null));t(3,b=!1),L&&(console.log("rerankingModelUpdateHandler:",L),L.status===!0&&(w===""?Me.success(l.t("Reranking model disabled",L),{duration:1e3*10}):Me.success(l.t('Reranking model set to "{{reranking_model}}"',L),{duration:1e3*10})))},A=async()=>{I(),M.hybrid&&x()},B=async()=>{const L=await Ul(localStorage.token);L&&(t(6,p=L.embedding_engine),t(7,g=L.embedding_model),t(9,y=L.openai_config.key),t(10,D=L.openai_config.url),t(11,V=L.openai_config.batch_size??1))},P=async()=>{const L=await Ol(localStorage.token);L&&t(8,w=L.reranking_model)},ee=async()=>{t(12,M.hybrid=!M.hybrid,M),t(12,M=await yl(localStorage.token,M))};gt(async()=>{await B(),await P(),t(12,M=await wl(localStorage.token))});const ae=()=>{E(),console.log("check")};function F(){D=this.value,t(10,D)}function oe(){y=this.value,t(9,y)}function se(){V=lt(this.value),t(11,V)}function G(){V=lt(this.value),t(11,V)}const ue=()=>{ee()};function de(){g=_l(this),t(7,g)}function Q(){g=this.value,t(7,g)}const K=()=>{I()};function O(){w=this.value,t(8,w)}const Z=()=>{x()},te=()=>{Rl(localStorage.token).catch(he=>(Me.error(he),null))&&Me.success(l.t("Success")),t(5,v=!1)},le=()=>{t(5,v=!1)},_e=()=>{t(5,v=!0)},k=()=>{ql(localStorage.token).catch(he=>(Me.error(he),null))&&Me.success(l.t("Success")),t(4,_=!1)},C=()=>{t(4,_=!1)},Y=()=>{t(4,_=!0)},W=()=>{A(),n()};return s.$$set=L=>{"saveHandler"in L&&t(0,n=L.saveHandler)},[n,d,c,b,_,v,p,g,w,y,D,V,M,l,o,i,E,I,x,A,ee,ae,F,oe,se,G,ue,de,Q,K,O,Z,te,le,_e,k,C,Y,W]}class cs extends ct{constructor(e){super(),dt(this,e,us,is,nt,{saveHandler:0},null,[-1,-1])}}function ds(s){let e,t,l,o,i=s[4].t("Chunk Params")+"",n,d,c,b,_,v=s[4].t("Chunk Size")+"",p,g,w,y,D,V,M,E,I=s[4].t("Chunk Overlap")+"",x,A,B,P,ee,ae,F,oe,se,G=s[4].t("PDF Extract Images (OCR)")+"",ue,de,Q,K=(s[3]?s[4].t("On"):s[4].t("Off"))+"",O,Z,te,le,_e=s[4].t("Save")+"",k,C,Y;return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=N(i),d=T(),c=f("div"),b=f("div"),_=f("div"),p=N(v),g=T(),w=f("div"),y=f("input"),V=T(),M=f("div"),E=f("div"),x=N(I),A=T(),B=f("div"),P=f("input"),ae=T(),F=f("div"),oe=f("div"),se=f("div"),ue=N(G),de=T(),Q=f("button"),O=N(K),Z=T(),te=f("div"),le=f("button"),k=N(_e),this.h()},l(W){e=h(W,"FORM",{class:!0});var L=m(e);t=h(L,"DIV",{class:!0});var he=m(t);l=h(he,"DIV",{class:!0});var ie=m(l);o=h(ie,"DIV",{class:!0});var X=m(o);n=U(X,i),X.forEach(u),d=S(ie),c=h(ie,"DIV",{class:!0});var q=m(c);b=h(q,"DIV",{class:!0});var j=m(b);_=h(j,"DIV",{class:!0});var ke=m(_);p=U(ke,v),ke.forEach(u),g=S(j),w=h(j,"DIV",{class:!0});var Te=m(w);y=h(Te,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Te.forEach(u),j.forEach(u),V=S(q),M=h(q,"DIV",{class:!0});var He=m(M);E=h(He,"DIV",{class:!0});var we=m(E);x=U(we,I),we.forEach(u),A=S(He),B=h(He,"DIV",{class:!0});var be=m(B);P=h(be,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),be.forEach(u),He.forEach(u),q.forEach(u),ae=S(ie),F=h(ie,"DIV",{class:!0});var ve=m(F);oe=h(ve,"DIV",{class:!0});var Ae=m(oe);se=h(Ae,"DIV",{class:!0});var Ne=m(se);ue=U(Ne,G),Ne.forEach(u),de=S(Ae),Q=h(Ae,"BUTTON",{class:!0,type:!0});var Ee=m(Q);O=U(Ee,K),Ee.forEach(u),Ae.forEach(u),ve.forEach(u),ie.forEach(u),he.forEach(u),Z=S(L),te=h(L,"DIV",{class:!0});var ze=m(te);le=h(ze,"BUTTON",{class:!0,type:!0});var Ce=m(le);k=U(Ce,_e),Ce.forEach(u),ze.forEach(u),L.forEach(u),this.h()},h(){a(o,"class","text-sm font-medium"),a(_,"class","self-center text-xs font-medium min-w-fit"),a(y,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(y,"type","number"),a(y,"placeholder",D=s[4].t("Enter Chunk Size")),a(y,"autocomplete","off"),a(y,"min","0"),a(w,"class","self-center p-3"),a(b,"class","flex w-full justify-between"),a(E,"class","self-center text-xs font-medium min-w-fit"),a(P,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(P,"type","number"),a(P,"placeholder",ee=s[4].t("Enter Chunk Overlap")),a(P,"autocomplete","off"),a(P,"min","0"),a(B,"class","self-center p-3"),a(M,"class","flex w-full"),a(c,"class","flex"),a(se,"class","text-xs font-medium"),a(Q,"class","text-xs font-medium text-gray-500"),a(Q,"type","button"),a(oe,"class","flex justify-between items-center text-xs"),a(F,"class","pr-2"),a(l,"class",""),a(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),a(le,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),a(le,"type","submit"),a(te,"class","flex justify-end pt-3 text-sm font-medium"),a(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(W,L){R(W,e,L),r(e,t),r(t,l),r(l,o),r(o,n),r(l,d),r(l,c),r(c,b),r(b,_),r(_,p),r(b,g),r(b,w),r(w,y),fe(y,s[1]),r(c,V),r(c,M),r(M,E),r(E,x),r(M,A),r(M,B),r(B,P),fe(P,s[2]),r(l,ae),r(l,F),r(F,oe),r(oe,se),r(se,ue),r(oe,de),r(oe,Q),r(Q,O),r(e,Z),r(e,te),r(te,le),r(le,k),C||(Y=[J(y,"input",s[7]),J(P,"input",s[8]),J(Q,"click",s[9]),J(e,"submit",Et(s[10]))],C=!0)},p(W,[L]){L&16&&i!==(i=W[4].t("Chunk Params")+"")&&z(n,i),L&16&&v!==(v=W[4].t("Chunk Size")+"")&&z(p,v),L&16&&D!==(D=W[4].t("Enter Chunk Size"))&&a(y,"placeholder",D),L&2&&lt(y.value)!==W[1]&&fe(y,W[1]),L&16&&I!==(I=W[4].t("Chunk Overlap")+"")&&z(x,I),L&16&&ee!==(ee=W[4].t("Enter Chunk Overlap"))&&a(P,"placeholder",ee),L&4&&lt(P.value)!==W[2]&&fe(P,W[2]),L&16&&G!==(G=W[4].t("PDF Extract Images (OCR)")+"")&&z(ue,G),L&24&&K!==(K=(W[3]?W[4].t("On"):W[4].t("Off"))+"")&&z(O,K),L&16&&_e!==(_e=W[4].t("Save")+"")&&z(k,_e)},i:at,o:at,d(W){W&&u(e),C=!1,Xe(Y)}}}function fs(s,e,t){let l;const o=ht("i18n");tt(s,o,w=>t(4,l=w));let{saveHandler:i}=e,n=0,d=0,c=!0;const b=async()=>{await El(localStorage.token,{pdf_extract_images:c,chunk:{chunk_overlap:d,chunk_size:n}})};gt(async()=>{const w=await kl(localStorage.token);w&&(t(3,c=w.pdf_extract_images),t(1,n=w.chunk.chunk_size),t(2,d=w.chunk.chunk_overlap))});function _(){n=lt(this.value),t(1,n)}function v(){d=lt(this.value),t(2,d)}const p=()=>{t(3,c=!c)},g=()=>{b(),i()};return s.$$set=w=>{"saveHandler"in w&&t(0,i=w.saveHandler)},[i,n,d,c,l,o,b,_,v,p,g]}class hs extends ct{constructor(e){super(),dt(this,e,fs,ds,nt,{saveHandler:0})}}function Jt(s){let e,t,l=s[2].t("Minimum Score")+"",o,i,n,d,c,b,_,v;return{c(){e=f("div"),t=f("div"),o=N(l),i=T(),n=f("div"),d=f("input"),this.h()},l(p){e=h(p,"DIV",{class:!0});var g=m(e);t=h(g,"DIV",{class:!0});var w=m(t);o=U(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var y=m(n);d=h(y,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),y.forEach(u),g.forEach(u),this.h()},h(){a(t,"class","self-center text-xs font-medium min-w-fit"),a(d,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(d,"type","number"),a(d,"step","0.01"),a(d,"placeholder",c=s[2].t("Enter Score")),a(d,"autocomplete","off"),a(d,"min","0.0"),a(d,"title",b=s[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),a(n,"class","self-center p-3"),a(e,"class","flex w-full")},m(p,g){R(p,e,g),r(e,t),r(t,o),r(e,i),r(e,n),r(n,d),fe(d,s[1].r),_||(v=J(d,"input",s[6]),_=!0)},p(p,g){g&4&&l!==(l=p[2].t("Minimum Score")+"")&&z(o,l),g&4&&c!==(c=p[2].t("Enter Score"))&&a(d,"placeholder",c),g&4&&b!==(b=p[2].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&a(d,"title",b),g&2&&lt(d.value)!==p[1].r&&fe(d,p[1].r)},d(p){p&&u(e),_=!1,v()}}}function $t(s){let e,t=s[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",l,o,i;return{c(){e=f("div"),l=N(t),o=T(),i=f("hr"),this.h()},l(n){e=h(n,"DIV",{class:!0});var d=m(e);l=U(d,t),d.forEach(u),o=S(n),i=h(n,"HR",{class:!0}),this.h()},h(){a(e,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),a(i,"class","dark:border-gray-700 my-3")},m(n,d){R(n,e,d),r(e,l),R(n,o,d),R(n,i,d)},p(n,d){d&4&&t!==(t=n[2].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&z(l,t)},d(n){n&&(u(e),u(o),u(i))}}}function vs(s){let e,t,l,o,i=s[2].t("Query Params")+"",n,d,c,b,_,v=s[2].t("Top K")+"",p,g,w,y,D,V,M,E,I,x,A=s[2].t("RAG Template")+"",B,P,ee,ae,F,oe,se=s[2].t("Save")+"",G,ue,de,Q=s[1].hybrid===!0&&Jt(s),K=s[1].hybrid===!0&&$t(s);return{c(){e=f("form"),t=f("div"),l=f("div"),o=f("div"),n=N(i),d=T(),c=f("div"),b=f("div"),_=f("div"),p=N(v),g=T(),w=f("div"),y=f("input"),V=T(),Q&&Q.c(),M=T(),K&&K.c(),E=T(),I=f("div"),x=f("div"),B=N(A),P=T(),ee=f("textarea"),ae=T(),F=f("div"),oe=f("button"),G=N(se),this.h()},l(O){e=h(O,"FORM",{class:!0});var Z=m(e);t=h(Z,"DIV",{class:!0});var te=m(t);l=h(te,"DIV",{class:!0});var le=m(l);o=h(le,"DIV",{class:!0});var _e=m(o);n=U(_e,i),_e.forEach(u),d=S(le),c=h(le,"DIV",{class:!0});var k=m(c);b=h(k,"DIV",{class:!0});var C=m(b);_=h(C,"DIV",{class:!0});var Y=m(_);p=U(Y,v),Y.forEach(u),g=S(C),w=h(C,"DIV",{class:!0});var W=m(w);y=h(W,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),W.forEach(u),C.forEach(u),V=S(k),Q&&Q.l(k),k.forEach(u),M=S(le),K&&K.l(le),E=S(le),I=h(le,"DIV",{});var L=m(I);x=h(L,"DIV",{class:!0});var he=m(x);B=U(he,A),he.forEach(u),P=S(L),ee=h(L,"TEXTAREA",{class:!0,rows:!0}),m(ee).forEach(u),L.forEach(u),le.forEach(u),te.forEach(u),ae=S(Z),F=h(Z,"DIV",{class:!0});var ie=m(F);oe=h(ie,"BUTTON",{class:!0,type:!0});var X=m(oe);G=U(X,se),X.forEach(u),ie.forEach(u),Z.forEach(u),this.h()},h(){a(o,"class","text-sm font-medium"),a(_,"class","self-center text-xs font-medium min-w-fit"),a(y,"class","w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(y,"type","number"),a(y,"placeholder",D=s[2].t("Enter Top K")),a(y,"autocomplete","off"),a(y,"min","0"),a(w,"class","self-center p-3"),a(b,"class","flex w-full justify-between"),a(c,"class","flex"),a(x,"class","mb-2.5 text-sm font-medium"),a(ee,"class","w-full rounded-lg px-4 py-3 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),a(ee,"rows","4"),a(l,"class",""),a(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]"),a(oe,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),a(oe,"type","submit"),a(F,"class","flex justify-end pt-3 text-sm font-medium"),a(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(O,Z){R(O,e,Z),r(e,t),r(t,l),r(l,o),r(o,n),r(l,d),r(l,c),r(c,b),r(b,_),r(_,p),r(b,g),r(b,w),r(w,y),fe(y,s[1].k),r(c,V),Q&&Q.m(c,null),r(l,M),K&&K.m(l,null),r(l,E),r(l,I),r(I,x),r(x,B),r(I,P),r(I,ee),fe(ee,s[1].template),r(e,ae),r(e,F),r(F,oe),r(oe,G),ue||(de=[J(y,"input",s[5]),J(ee,"input",s[7]),J(e,"submit",Et(s[8]))],ue=!0)},p(O,[Z]){Z&4&&i!==(i=O[2].t("Query Params")+"")&&z(n,i),Z&4&&v!==(v=O[2].t("Top K")+"")&&z(p,v),Z&4&&D!==(D=O[2].t("Enter Top K"))&&a(y,"placeholder",D),Z&2&&lt(y.value)!==O[1].k&&fe(y,O[1].k),O[1].hybrid===!0?Q?Q.p(O,Z):(Q=Jt(O),Q.c(),Q.m(c,null)):Q&&(Q.d(1),Q=null),O[1].hybrid===!0?K?K.p(O,Z):(K=$t(O),K.c(),K.m(l,E)):K&&(K.d(1),K=null),Z&4&&A!==(A=O[2].t("RAG Template")+"")&&z(B,A),Z&2&&fe(ee,O[1].template),Z&4&&se!==(se=O[2].t("Save")+"")&&z(G,se)},i:at,o:at,d(O){O&&u(e),Q&&Q.d(),K&&K.d(),ue=!1,Xe(de)}}}function ps(s,e,t){let l;const o=ht("i18n");tt(s,o,p=>t(2,l=p));let{saveHandler:i}=e,n={template:"",r:0,k:4,hybrid:!1};const d=async()=>{t(1,n=await yl(localStorage.token,n))};gt(async()=>{t(1,n=await wl(localStorage.token))});function c(){n.k=lt(this.value),t(1,n)}function b(){n.r=lt(this.value),t(1,n)}function _(){n.template=this.value,t(1,n)}const v=()=>{d(),i()};return s.$$set=p=>{"saveHandler"in p&&t(0,i=p.saveHandler)},[i,n,l,o,d,c,b,_,v]}class _s extends ct{constructor(e){super(),dt(this,e,ps,vs,nt,{saveHandler:0})}}function el(s,e,t){const l=s.slice();return l[21]=e[t],l}function tl(s){let e,t,l=s[3].t("Web Search")+"",o,i,n,d,c,b=s[3].t("Enable Web Search")+"",_,v,p,g,w,y,D,V=s[3].t("Web Search Engine")+"",M,E,I,x,A,B="Select a engine",P,ee,ae,F,oe,se,G,ue=s[3].t("Web Loader Settings")+"",de,Q,K,O,Z,te=s[3].t("Bypass SSL verification for Websites")+"",le,_e,k,C,Y,W=s[3].t("Youtube Loader Settings")+"",L,he,ie,X,q,j=s[3].t("Language")+"",ke,Te,He,we,be,ve,Ae,Ne;function Ee($){s[7]($)}let ze={};s[1].search.enabled!==void 0&&(ze.state=s[1].search.enabled),p=new Zl({props:ze}),ut.push(()=>mt(p,"state",Ee));let Ce=ft(s[5]),me=[];for(let $=0;$<Ce.length;$+=1)me[$]=ll(el(s,Ce,$));let ge=s[1].search.engine!==""&&sl(s),Se=s[1].search.enabled&&rl(s);function We($,re){return $[1].ssl_verification===!0?Es:ks}let qe=We(s),Ue=qe(s);return{c(){e=f("div"),t=f("div"),o=N(l),i=T(),n=f("div"),d=f("div"),c=f("div"),_=N(b),v=T(),Ze(p.$$.fragment),w=T(),y=f("div"),D=f("div"),M=N(V),E=T(),I=f("div"),x=f("select"),A=f("option"),A.textContent=B;for(let $=0;$<me.length;$+=1)me[$].c();P=T(),ge&&ge.c(),ee=T(),Se&&Se.c(),ae=T(),F=f("hr"),oe=T(),se=f("div"),G=f("div"),de=N(ue),Q=T(),K=f("div"),O=f("div"),Z=f("div"),le=N(te),_e=T(),k=f("button"),Ue.c(),C=T(),Y=f("div"),L=N(W),he=T(),ie=f("div"),X=f("div"),q=f("div"),ke=N(j),Te=T(),He=f("div"),we=f("input"),this.h()},l($){e=h($,"DIV",{});var re=m(e);t=h(re,"DIV",{class:!0});var ne=m(t);o=U(ne,l),ne.forEach(u),i=S(re),n=h(re,"DIV",{});var pe=m(n);d=h(pe,"DIV",{class:!0});var ye=m(d);c=h(ye,"DIV",{class:!0});var Be=m(c);_=U(Be,b),Be.forEach(u),v=S(ye),Ke(p.$$.fragment,ye),ye.forEach(u),pe.forEach(u),w=S(re),y=h(re,"DIV",{class:!0});var ot=m(y);D=h(ot,"DIV",{class:!0});var st=m(D);M=U(st,V),st.forEach(u),E=S(ot),I=h(ot,"DIV",{class:!0});var vt=m(I);x=h(vt,"SELECT",{class:!0,placeholder:!0});var $e=m(x);A=h($e,"OPTION",{"data-svelte-h":!0}),Pe(A)!=="svelte-d4rru0"&&(A.textContent=B);for(let bt=0;bt<me.length;bt+=1)me[bt].l($e);$e.forEach(u),vt.forEach(u),ot.forEach(u),P=S(re),ge&&ge.l(re),ee=S(re),Se&&Se.l(re),re.forEach(u),ae=S($),F=h($,"HR",{class:!0}),oe=S($),se=h($,"DIV",{});var De=m(se);G=h(De,"DIV",{class:!0});var Qe=m(G);de=U(Qe,ue),Qe.forEach(u),Q=S(De),K=h(De,"DIV",{});var Ve=m(K);O=h(Ve,"DIV",{class:!0});var it=m(O);Z=h(it,"DIV",{class:!0});var H=m(Z);le=U(H,te),H.forEach(u),_e=S(it),k=h(it,"BUTTON",{class:!0,type:!0});var ce=m(k);Ue.l(ce),ce.forEach(u),it.forEach(u),Ve.forEach(u),C=S(De),Y=h(De,"DIV",{class:!0});var je=m(Y);L=U(je,W),je.forEach(u),he=S(De),ie=h(De,"DIV",{});var Ye=m(ie);X=h(Ye,"DIV",{class:!0});var Le=m(X);q=h(Le,"DIV",{class:!0});var et=m(q);ke=U(et,j),et.forEach(u),Te=S(Le),He=h(Le,"DIV",{class:!0});var pt=m(He);we=h(pt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),pt.forEach(u),Le.forEach(u),Ye.forEach(u),De.forEach(u),this.h()},h(){a(t,"class","mb-1 text-sm font-medium"),a(c,"class","self-center text-xs font-medium"),a(d,"class","py-0.5 flex w-full justify-between"),a(D,"class","self-center text-xs font-medium"),A.disabled=!0,A.selected=!0,A.__value="",fe(A,A.__value),a(x,"class","dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),a(x,"placeholder","Select a engine"),x.required=!0,s[1].search.engine===void 0&&ml(()=>s[8].call(x)),a(I,"class","flex items-center relative"),a(y,"class","py-0.5 flex w-full justify-between"),a(F,"class","dark:border-gray-850 my-2"),a(G,"class","mb-1 text-sm font-medium"),a(Z,"class","self-center text-xs font-medium"),a(k,"class","p-1 px-3 text-xs flex rounded transition"),a(k,"type","button"),a(O,"class","py-0.5 flex w-full justify-between"),a(Y,"class","mt-2 mb-1 text-sm font-medium"),a(q,"class","w-20 text-xs font-medium self-center"),a(we,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(we,"type","text"),a(we,"placeholder",be=s[3].t("Enter language codes")),a(we,"autocomplete","off"),a(He,"class","flex-1 self-center"),a(X,"class","py-0.5 flex w-full justify-between")},m($,re){R($,e,re),r(e,t),r(t,o),r(e,i),r(e,n),r(n,d),r(d,c),r(c,_),r(d,v),Fe(p,d,null),r(e,w),r(e,y),r(y,D),r(D,M),r(y,E),r(y,I),r(I,x),r(x,A);for(let ne=0;ne<me.length;ne+=1)me[ne]&&me[ne].m(x,null);St(x,s[1].search.engine,!0),r(e,P),ge&&ge.m(e,null),r(e,ee),Se&&Se.m(e,null),R($,ae,re),R($,F,re),R($,oe,re),R($,se,re),r(se,G),r(G,de),r(se,Q),r(se,K),r(K,O),r(O,Z),r(Z,le),r(O,_e),r(O,k),Ue.m(k,null),r(se,C),r(se,Y),r(Y,L),r(se,he),r(se,ie),r(ie,X),r(X,q),r(q,ke),r(X,Te),r(X,He),r(He,we),fe(we,s[2]),ve=!0,Ae||(Ne=[J(x,"change",s[8]),J(k,"click",s[17]),J(we,"input",s[18])],Ae=!0)},p($,re){(!ve||re&8)&&l!==(l=$[3].t("Web Search")+"")&&z(o,l),(!ve||re&8)&&b!==(b=$[3].t("Enable Web Search")+"")&&z(_,b);const ne={};if(!g&&re&2&&(g=!0,ne.state=$[1].search.enabled,_t(()=>g=!1)),p.$set(ne),(!ve||re&8)&&V!==(V=$[3].t("Web Search Engine")+"")&&z(M,V),re&32){Ce=ft($[5]);let pe;for(pe=0;pe<Ce.length;pe+=1){const ye=el($,Ce,pe);me[pe]?me[pe].p(ye,re):(me[pe]=ll(ye),me[pe].c(),me[pe].m(x,null))}for(;pe<me.length;pe+=1)me[pe].d(1);me.length=Ce.length}re&34&&St(x,$[1].search.engine),$[1].search.engine!==""?ge?ge.p($,re):(ge=sl($),ge.c(),ge.m(e,ee)):ge&&(ge.d(1),ge=null),$[1].search.enabled?Se?Se.p($,re):(Se=rl($),Se.c(),Se.m(e,null)):Se&&(Se.d(1),Se=null),(!ve||re&8)&&ue!==(ue=$[3].t("Web Loader Settings")+"")&&z(de,ue),(!ve||re&8)&&te!==(te=$[3].t("Bypass SSL verification for Websites")+"")&&z(le,te),qe===(qe=We($))&&Ue?Ue.p($,re):(Ue.d(1),Ue=qe($),Ue&&(Ue.c(),Ue.m(k,null))),(!ve||re&8)&&W!==(W=$[3].t("Youtube Loader Settings")+"")&&z(L,W),(!ve||re&8)&&j!==(j=$[3].t("Language")+"")&&z(ke,j),(!ve||re&8&&be!==(be=$[3].t("Enter language codes")))&&a(we,"placeholder",be),re&4&&we.value!==$[2]&&fe(we,$[2])},i($){ve||(Ie(p.$$.fragment,$),ve=!0)},o($){xe(p.$$.fragment,$),ve=!1},d($){$&&(u(e),u(ae),u(F),u(oe),u(se)),Ge(p),Mt(me,$),ge&&ge.d(),Se&&Se.d(),Ue.d(),Ae=!1,Xe(Ne)}}}function ll(s){let e,t=s[21]+"",l;return{c(){e=f("option"),l=N(t),this.h()},l(o){e=h(o,"OPTION",{});var i=m(e);l=U(i,t),i.forEach(u),this.h()},h(){e.__value=s[21],fe(e,e.__value)},m(o,i){R(o,e,i),r(e,l)},p:at,d(o){o&&u(e)}}}function sl(s){let e;function t(i,n){if(i[1].search.engine==="searxng")return ys;if(i[1].search.engine==="google_pse")return ws;if(i[1].search.engine==="brave")return bs;if(i[1].search.engine==="serpstack")return gs;if(i[1].search.engine==="serper")return ms}let l=t(s),o=l&&l(s);return{c(){e=f("div"),o&&o.c(),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=m(e);o&&o.l(n),n.forEach(u),this.h()},h(){a(e,"class","mt-1.5")},m(i,n){R(i,e,n),o&&o.m(e,null)},p(i,n){l===(l=t(i))&&o?o.p(i,n):(o&&o.d(1),o=l&&l(i),o&&(o.c(),o.m(e,null)))},d(i){i&&u(e),o&&o.d()}}}function ms(s){let e,t,l=s[3].t("Serper API Key")+"",o,i,n,d,c,b,_,v;return{c(){e=f("div"),t=f("div"),o=N(l),i=T(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=m(e);t=h(g,"DIV",{class:!0});var w=m(t);o=U(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var y=m(n);d=h(y,"DIV",{class:!0});var D=m(d);c=h(D,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),D.forEach(u),y.forEach(u),g.forEach(u),this.h()},h(){a(t,"class","self-center text-xs font-medium mb-1"),a(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(c,"type","text"),a(c,"placeholder",b=s[3].t("Enter Serper API Key")),a(c,"autocomplete","off"),a(d,"class","flex-1"),a(n,"class","flex w-full")},m(p,g){R(p,e,g),r(e,t),r(t,o),r(e,i),r(e,n),r(n,d),r(d,c),fe(c,s[1].search.serper_api_key),_||(v=J(c,"input",s[14]),_=!0)},p(p,g){g&8&&l!==(l=p[3].t("Serper API Key")+"")&&z(o,l),g&8&&b!==(b=p[3].t("Enter Serper API Key"))&&a(c,"placeholder",b),g&34&&c.value!==p[1].search.serper_api_key&&fe(c,p[1].search.serper_api_key)},d(p){p&&u(e),_=!1,v()}}}function gs(s){let e,t,l=s[3].t("Serpstack API Key")+"",o,i,n,d,c,b,_,v;return{c(){e=f("div"),t=f("div"),o=N(l),i=T(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=m(e);t=h(g,"DIV",{class:!0});var w=m(t);o=U(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var y=m(n);d=h(y,"DIV",{class:!0});var D=m(d);c=h(D,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),D.forEach(u),y.forEach(u),g.forEach(u),this.h()},h(){a(t,"class","self-center text-xs font-medium mb-1"),a(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(c,"type","text"),a(c,"placeholder",b=s[3].t("Enter Serpstack API Key")),a(c,"autocomplete","off"),a(d,"class","flex-1"),a(n,"class","flex w-full")},m(p,g){R(p,e,g),r(e,t),r(t,o),r(e,i),r(e,n),r(n,d),r(d,c),fe(c,s[1].search.serpstack_api_key),_||(v=J(c,"input",s[13]),_=!0)},p(p,g){g&8&&l!==(l=p[3].t("Serpstack API Key")+"")&&z(o,l),g&8&&b!==(b=p[3].t("Enter Serpstack API Key"))&&a(c,"placeholder",b),g&34&&c.value!==p[1].search.serpstack_api_key&&fe(c,p[1].search.serpstack_api_key)},d(p){p&&u(e),_=!1,v()}}}function bs(s){let e,t,l=s[3].t("Brave Search API Key")+"",o,i,n,d,c,b,_,v;return{c(){e=f("div"),t=f("div"),o=N(l),i=T(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=m(e);t=h(g,"DIV",{class:!0});var w=m(t);o=U(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var y=m(n);d=h(y,"DIV",{class:!0});var D=m(d);c=h(D,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),D.forEach(u),y.forEach(u),g.forEach(u),this.h()},h(){a(t,"class","self-center text-xs font-medium mb-1"),a(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(c,"type","text"),a(c,"placeholder",b=s[3].t("Enter Brave Search API Key")),a(c,"autocomplete","off"),a(d,"class","flex-1"),a(n,"class","flex w-full")},m(p,g){R(p,e,g),r(e,t),r(t,o),r(e,i),r(e,n),r(n,d),r(d,c),fe(c,s[1].search.brave_search_api_key),_||(v=J(c,"input",s[12]),_=!0)},p(p,g){g&8&&l!==(l=p[3].t("Brave Search API Key")+"")&&z(o,l),g&8&&b!==(b=p[3].t("Enter Brave Search API Key"))&&a(c,"placeholder",b),g&34&&c.value!==p[1].search.brave_search_api_key&&fe(c,p[1].search.brave_search_api_key)},d(p){p&&u(e),_=!1,v()}}}function ws(s){let e,t,l=s[3].t("Google PSE API Key")+"",o,i,n,d,c,b,_,v,p,g=s[3].t("Google PSE Engine Id")+"",w,y,D,V,M,E,I,x;return{c(){e=f("div"),t=f("div"),o=N(l),i=T(),n=f("div"),d=f("div"),c=f("input"),_=T(),v=f("div"),p=f("div"),w=N(g),y=T(),D=f("div"),V=f("div"),M=f("input"),this.h()},l(A){e=h(A,"DIV",{});var B=m(e);t=h(B,"DIV",{class:!0});var P=m(t);o=U(P,l),P.forEach(u),i=S(B),n=h(B,"DIV",{class:!0});var ee=m(n);d=h(ee,"DIV",{class:!0});var ae=m(d);c=h(ae,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),ae.forEach(u),ee.forEach(u),B.forEach(u),_=S(A),v=h(A,"DIV",{class:!0});var F=m(v);p=h(F,"DIV",{class:!0});var oe=m(p);w=U(oe,g),oe.forEach(u),y=S(F),D=h(F,"DIV",{class:!0});var se=m(D);V=h(se,"DIV",{class:!0});var G=m(V);M=h(G,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),G.forEach(u),se.forEach(u),F.forEach(u),this.h()},h(){a(t,"class","self-center text-xs font-medium mb-1"),a(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(c,"type","text"),a(c,"placeholder",b=s[3].t("Enter Google PSE API Key")),a(c,"autocomplete","off"),a(d,"class","flex-1"),a(n,"class","flex w-full"),a(p,"class","self-center text-xs font-medium mb-1"),a(M,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(M,"type","text"),a(M,"placeholder",E=s[3].t("Enter Google PSE Engine Id")),a(M,"autocomplete","off"),a(V,"class","flex-1"),a(D,"class","flex w-full"),a(v,"class","mt-1.5")},m(A,B){R(A,e,B),r(e,t),r(t,o),r(e,i),r(e,n),r(n,d),r(d,c),fe(c,s[1].search.google_pse_api_key),R(A,_,B),R(A,v,B),r(v,p),r(p,w),r(v,y),r(v,D),r(D,V),r(V,M),fe(M,s[1].search.google_pse_engine_id),I||(x=[J(c,"input",s[10]),J(M,"input",s[11])],I=!0)},p(A,B){B&8&&l!==(l=A[3].t("Google PSE API Key")+"")&&z(o,l),B&8&&b!==(b=A[3].t("Enter Google PSE API Key"))&&a(c,"placeholder",b),B&34&&c.value!==A[1].search.google_pse_api_key&&fe(c,A[1].search.google_pse_api_key),B&8&&g!==(g=A[3].t("Google PSE Engine Id")+"")&&z(w,g),B&8&&E!==(E=A[3].t("Enter Google PSE Engine Id"))&&a(M,"placeholder",E),B&34&&M.value!==A[1].search.google_pse_engine_id&&fe(M,A[1].search.google_pse_engine_id)},d(A){A&&(u(e),u(_),u(v)),I=!1,Xe(x)}}}function ys(s){let e,t,l=s[3].t("Searxng Query URL")+"",o,i,n,d,c,b,_,v;return{c(){e=f("div"),t=f("div"),o=N(l),i=T(),n=f("div"),d=f("div"),c=f("input"),this.h()},l(p){e=h(p,"DIV",{});var g=m(e);t=h(g,"DIV",{class:!0});var w=m(t);o=U(w,l),w.forEach(u),i=S(g),n=h(g,"DIV",{class:!0});var y=m(n);d=h(y,"DIV",{class:!0});var D=m(d);c=h(D,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),D.forEach(u),y.forEach(u),g.forEach(u),this.h()},h(){a(t,"class","self-center text-xs font-medium mb-1"),a(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(c,"type","text"),a(c,"placeholder",b=s[3].t("Enter Searxng Query URL")),a(c,"autocomplete","off"),a(d,"class","flex-1"),a(n,"class","flex w-full")},m(p,g){R(p,e,g),r(e,t),r(t,o),r(e,i),r(e,n),r(n,d),r(d,c),fe(c,s[1].search.searxng_query_url),_||(v=J(c,"input",s[9]),_=!0)},p(p,g){g&8&&l!==(l=p[3].t("Searxng Query URL")+"")&&z(o,l),g&8&&b!==(b=p[3].t("Enter Searxng Query URL"))&&a(c,"placeholder",b),g&34&&c.value!==p[1].search.searxng_query_url&&fe(c,p[1].search.searxng_query_url)},d(p){p&&u(e),_=!1,v()}}}function rl(s){let e,t,l,o=s[3].t("Search Result Count")+"",i,n,d,c,b,_,v,p=s[3].t("Concurrent Requests")+"",g,w,y,D,V,M;return{c(){e=f("div"),t=f("div"),l=f("div"),i=N(o),n=T(),d=f("input"),b=T(),_=f("div"),v=f("div"),g=N(p),w=T(),y=f("input"),this.h()},l(E){e=h(E,"DIV",{class:!0});var I=m(e);t=h(I,"DIV",{class:!0});var x=m(t);l=h(x,"DIV",{class:!0});var A=m(l);i=U(A,o),A.forEach(u),n=S(x),d=h(x,"INPUT",{class:!0,placeholder:!0}),x.forEach(u),b=S(I),_=h(I,"DIV",{class:!0});var B=m(_);v=h(B,"DIV",{class:!0});var P=m(v);g=U(P,p),P.forEach(u),w=S(B),y=h(B,"INPUT",{class:!0,placeholder:!0}),B.forEach(u),I.forEach(u),this.h()},h(){a(l,"class","self-center text-xs font-medium mb-1"),a(d,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(d,"placeholder",c=s[3].t("Search Result Count")),d.required=!0,a(t,"class","w-full"),a(v,"class","self-center text-xs font-medium mb-1"),a(y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),a(y,"placeholder",D=s[3].t("Concurrent Requests")),y.required=!0,a(_,"class","w-full"),a(e,"class","mt-2 flex gap-2 mb-1")},m(E,I){R(E,e,I),r(e,t),r(t,l),r(l,i),r(t,n),r(t,d),fe(d,s[1].search.result_count),r(e,b),r(e,_),r(_,v),r(v,g),r(_,w),r(_,y),fe(y,s[1].search.concurrent_requests),V||(M=[J(d,"input",s[15]),J(y,"input",s[16])],V=!0)},p(E,I){I&8&&o!==(o=E[3].t("Search Result Count")+"")&&z(i,o),I&8&&c!==(c=E[3].t("Search Result Count"))&&a(d,"placeholder",c),I&34&&d.value!==E[1].search.result_count&&fe(d,E[1].search.result_count),I&8&&p!==(p=E[3].t("Concurrent Requests")+"")&&z(g,p),I&8&&D!==(D=E[3].t("Concurrent Requests"))&&a(y,"placeholder",D),I&34&&y.value!==E[1].search.concurrent_requests&&fe(y,E[1].search.concurrent_requests)},d(E){E&&u(e),V=!1,Xe(M)}}}function ks(s){let e,t=s[3].t("Off")+"",l;return{c(){e=f("span"),l=N(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=m(e);l=U(i,t),i.forEach(u),this.h()},h(){a(e,"class","ml-2 self-center")},m(o,i){R(o,e,i),r(e,l)},p(o,i){i&8&&t!==(t=o[3].t("Off")+"")&&z(l,t)},d(o){o&&u(e)}}}function Es(s){let e,t=s[3].t("On")+"",l;return{c(){e=f("span"),l=N(t),this.h()},l(o){e=h(o,"SPAN",{class:!0});var i=m(e);l=U(i,t),i.forEach(u),this.h()},h(){a(e,"class","ml-2 self-center")},m(o,i){R(o,e,i),r(e,l)},p(o,i){i&8&&t!==(t=o[3].t("On")+"")&&z(l,t)},d(o){o&&u(e)}}}function Is(s){let e,t,l,o,i,n=s[3].t("Save")+"",d,c,b,_,v=s[1]&&tl(s);return{c(){e=f("form"),t=f("div"),v&&v.c(),l=T(),o=f("div"),i=f("button"),d=N(n),this.h()},l(p){e=h(p,"FORM",{class:!0});var g=m(e);t=h(g,"DIV",{class:!0});var w=m(t);v&&v.l(w),w.forEach(u),l=S(g),o=h(g,"DIV",{class:!0});var y=m(o);i=h(y,"BUTTON",{class:!0,type:!0});var D=m(i);d=U(D,n),D.forEach(u),y.forEach(u),g.forEach(u),this.h()},h(){a(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]"),a(i,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),a(i,"type","submit"),a(o,"class","flex justify-end pt-3 text-sm font-medium"),a(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(p,g){R(p,e,g),r(e,t),v&&v.m(t,null),r(e,l),r(e,o),r(o,i),r(i,d),c=!0,b||(_=J(e,"submit",Et(s[19])),b=!0)},p(p,[g]){p[1]?v?(v.p(p,g),g&2&&Ie(v,1)):(v=tl(p),v.c(),Ie(v,1),v.m(t,null)):v&&(yt(),xe(v,1,1,()=>{v=null}),kt()),(!c||g&8)&&n!==(n=p[3].t("Save")+"")&&z(d,n)},i(p){c||(Ie(v),c=!0)},o(p){xe(v),c=!1},d(p){p&&u(e),v&&v.d(),b=!1,_()}}}function Ds(s,e,t){let l;const o=ht("i18n");tt(s,o,P=>t(3,l=P));let{saveHandler:i}=e,n=null,d=["searxng","google_pse","brave","serpstack","serper"],c="en",b=null;const _=async()=>{await El(localStorage.token,{web:n,youtube:{language:c.split(",").map(P=>P.trim()),translation:b}})};gt(async()=>{const P=await kl(localStorage.token);P&&(t(1,n=P.web),t(2,c=P.youtube.language.join(",")),b=P.youtube.translation)});function v(P){s.$$.not_equal(n.search.enabled,P)&&(n.search.enabled=P,t(1,n))}function p(){n.search.engine=_l(this),t(1,n),t(5,d)}function g(){n.search.searxng_query_url=this.value,t(1,n),t(5,d)}function w(){n.search.google_pse_api_key=this.value,t(1,n),t(5,d)}function y(){n.search.google_pse_engine_id=this.value,t(1,n),t(5,d)}function D(){n.search.brave_search_api_key=this.value,t(1,n),t(5,d)}function V(){n.search.serpstack_api_key=this.value,t(1,n),t(5,d)}function M(){n.search.serper_api_key=this.value,t(1,n),t(5,d)}function E(){n.search.result_count=this.value,t(1,n),t(5,d)}function I(){n.search.concurrent_requests=this.value,t(1,n),t(5,d)}const x=()=>{t(1,n.ssl_verification=!n.ssl_verification,n),_()};function A(){c=this.value,t(2,c)}const B=async()=>{await _(),i()};return s.$$set=P=>{"saveHandler"in P&&t(0,i=P.saveHandler)},[i,n,c,l,o,d,_,v,p,g,w,y,D,V,M,E,I,x,A,B]}class Vs extends ct{constructor(e){super(),dt(this,e,Ds,Is,nt,{saveHandler:0})}}function xs(s){let e,t;return e=new Vs({props:{saveHandler:s[11]}}),{c(){Ze(e.$$.fragment)},l(l){Ke(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[11]),e.$set(i)},i(l){t||(Ie(e.$$.fragment,l),t=!0)},o(l){xe(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function Ts(s){let e,t;return e=new _s({props:{saveHandler:s[10]}}),{c(){Ze(e.$$.fragment)},l(l){Ke(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[10]),e.$set(i)},i(l){t||(Ie(e.$$.fragment,l),t=!0)},o(l){xe(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function Ss(s){let e,t;return e=new hs({props:{saveHandler:s[9]}}),{c(){Ze(e.$$.fragment)},l(l){Ke(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[9]),e.$set(i)},i(l){t||(Ie(e.$$.fragment,l),t=!0)},o(l){xe(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function Ms(s){let e,t;return e=new cs({props:{saveHandler:s[8]}}),{c(){Ze(e.$$.fragment)},l(l){Ke(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p(l,o){const i={};o&4&&(i.saveHandler=l[8]),e.$set(i)},i(l){t||(Ie(e.$$.fragment,l),t=!0)},o(l){xe(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}function Hs(s){let e,t,l,o=s[2].t("Document Settings")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,_,v,p,g,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',y,D,V=s[2].t("General")+"",M,E,I,x,A,B='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',P,ee,ae=s[2].t("Chunk Params")+"",F,oe,se,G,ue,de='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Q,K,O=s[2].t("Query Params")+"",Z,te,le,_e,k,C,Y,W,L;const he=[Ms,Ss,Ts,xs],ie=[];function X(q,j){return q[1]==="general"?0:q[1]==="chunk"?1:q[1]==="query"?2:q[1]==="web"?3:-1}return~(k=X(s))&&(C=ie[k]=he[k](s)),{c(){e=f("div"),t=f("div"),l=f("div"),i=N(o),n=T(),d=f("button"),d.innerHTML=c,b=T(),_=f("div"),v=f("div"),p=f("button"),g=f("div"),g.innerHTML=w,y=T(),D=f("div"),M=N(V),I=T(),x=f("button"),A=f("div"),A.innerHTML=B,P=T(),ee=f("div"),F=N(ae),se=T(),G=f("button"),ue=f("div"),ue.innerHTML=de,Q=T(),K=f("div"),Z=N(O),le=T(),_e=f("div"),C&&C.c(),this.h()},l(q){e=h(q,"DIV",{});var j=m(e);t=h(j,"DIV",{class:!0});var ke=m(t);l=h(ke,"DIV",{class:!0});var Te=m(l);i=U(Te,o),Te.forEach(u),n=S(ke),d=h(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),Pe(d)!=="svelte-745w2y"&&(d.innerHTML=c),ke.forEach(u),b=S(j),_=h(j,"DIV",{class:!0});var He=m(_);v=h(He,"DIV",{class:!0});var we=m(v);p=h(we,"BUTTON",{class:!0});var be=m(p);g=h(be,"DIV",{class:!0,"data-svelte-h":!0}),Pe(g)!=="svelte-1k1ieum"&&(g.innerHTML=w),y=S(be),D=h(be,"DIV",{class:!0});var ve=m(D);M=U(ve,V),ve.forEach(u),be.forEach(u),I=S(we),x=h(we,"BUTTON",{class:!0});var Ae=m(x);A=h(Ae,"DIV",{class:!0,"data-svelte-h":!0}),Pe(A)!=="svelte-sarula"&&(A.innerHTML=B),P=S(Ae),ee=h(Ae,"DIV",{class:!0});var Ne=m(ee);F=U(Ne,ae),Ne.forEach(u),Ae.forEach(u),se=S(we),G=h(we,"BUTTON",{class:!0});var Ee=m(G);ue=h(Ee,"DIV",{class:!0,"data-svelte-h":!0}),Pe(ue)!=="svelte-1ray9mb"&&(ue.innerHTML=de),Q=S(Ee),K=h(Ee,"DIV",{class:!0});var ze=m(K);Z=U(ze,O),ze.forEach(u),Ee.forEach(u),we.forEach(u),le=S(He),_e=h(He,"DIV",{class:!0});var Ce=m(_e);C&&C.l(Ce),Ce.forEach(u),He.forEach(u),j.forEach(u),this.h()},h(){a(l,"class","text-lg font-medium self-center"),a(d,"class","self-center"),a(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),a(g,"class","self-center mr-2"),a(D,"class","self-center"),a(p,"class",E="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),a(A,"class","self-center mr-2"),a(ee,"class","self-center"),a(x,"class",oe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),a(ue,"class","self-center mr-2"),a(K,"class","self-center"),a(G,"class",te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),a(v,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),a(_e,"class","flex-1 md:min-h-[380px]"),a(_,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(q,j){R(q,e,j),r(e,t),r(t,l),r(l,i),r(t,n),r(t,d),r(e,b),r(e,_),r(_,v),r(v,p),r(p,g),r(p,y),r(p,D),r(D,M),r(v,I),r(v,x),r(x,A),r(x,P),r(x,ee),r(ee,F),r(v,se),r(v,G),r(G,ue),r(G,Q),r(G,K),r(K,Z),r(_,le),r(_,_e),~k&&ie[k].m(_e,null),Y=!0,W||(L=[J(d,"click",s[4]),J(p,"click",s[5]),J(x,"click",s[6]),J(G,"click",s[7])],W=!0)},p(q,j){(!Y||j&4)&&o!==(o=q[2].t("Document Settings")+"")&&z(i,o),(!Y||j&4)&&V!==(V=q[2].t("General")+"")&&z(M,V),(!Y||j&2&&E!==(E="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(q[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&a(p,"class",E),(!Y||j&4)&&ae!==(ae=q[2].t("Chunk Params")+"")&&z(F,ae),(!Y||j&2&&oe!==(oe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(q[1]==="chunk"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&a(x,"class",oe),(!Y||j&4)&&O!==(O=q[2].t("Query Params")+"")&&z(Z,O),(!Y||j&2&&te!==(te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(q[1]==="query"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&a(G,"class",te);let ke=k;k=X(q),k===ke?~k&&ie[k].p(q,j):(C&&(yt(),xe(ie[ke],1,1,()=>{ie[ke]=null}),kt()),~k?(C=ie[k],C?C.p(q,j):(C=ie[k]=he[k](q),C.c()),Ie(C,1),C.m(_e,null)):C=null)},i(q){Y||(Ie(C),Y=!0)},o(q){xe(C),Y=!1},d(q){q&&u(e),~k&&ie[k].d(),W=!1,Xe(L)}}}function Ls(s){let e,t,l;function o(n){s[12](n)}let i={$$slots:{default:[Hs]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Bt({props:i}),ut.push(()=>mt(e,"show",o)),{c(){Ze(e.$$.fragment)},l(n){Ke(e.$$.fragment,n)},m(n,d){Fe(e,n,d),l=!0},p(n,[d]){const c={};d&8199&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],_t(()=>t=!1)),e.$set(c)},i(n){l||(Ie(e.$$.fragment,n),l=!0)},o(n){xe(e.$$.fragment,n),l=!1},d(n){Ge(e,n)}}}function As(s,e,t){let l;const o=ht("i18n");tt(s,o,D=>t(2,l=D));let{show:i=!1}=e,n="general";const d=()=>{t(0,i=!1)},c=()=>{t(1,n="general")},b=()=>{t(1,n="chunk")},_=()=>{t(1,n="query")},v=()=>{Me.success(l.t("Settings saved successfully!"))},p=()=>{Me.success(l.t("Settings saved successfully!"))},g=()=>{Me.success(l.t("Settings saved successfully!"))},w=async()=>{Me.success(l.t("Settings saved successfully!")),await Tl(),await Al.set(await Kl())};function y(D){i=D,t(0,i)}return s.$$set=D=>{"show"in D&&t(0,i=D.show)},[i,n,l,o,d,c,b,_,v,p,g,w,y]}class Cs extends ct{constructor(e){super(),dt(this,e,As,Ls,nt,{show:0})}}function Bs(s){let e=s[4].t("Click here to select documents.")+"",t;return{c(){t=N(e)},l(l){t=U(l,e)},m(l,o){R(l,t,o)},p(l,o){o&16&&e!==(e=l[4].t("Click here to select documents.")+"")&&z(t,e)},d(l){l&&u(t)}}}function Ps(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=N(e),l=N(" document(s) selected.")},l(o){t=U(o,e),l=U(o," document(s) selected.")},m(o,i){R(o,t,i),R(o,l,i)},p(o,i){i&4&&e!==(e=o[2].length>0?`${o[2].length}`:"")&&z(t,e)},d(o){o&&(u(t),u(l))}}}function Ns(s){let e,t,l,o=s[4].t("Add Docs")+"",i,n,d,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',b,_,v,p,g,w,y,D,V,M,E,I,x=s[4].t("Tags")+"",A,B,P,ee,ae,F,oe=s[4].t("Save")+"",se,G,ue,de;function Q(Z,te){return Z[2]?Ps:Bs}let K=Q(s),O=K(s);return P=new xl({props:{tags:s[3],addTag:s[7],deleteTag:s[8]}}),{c(){e=f("div"),t=f("div"),l=f("div"),i=N(o),n=T(),d=f("button"),d.innerHTML=c,b=T(),_=f("div"),v=f("div"),p=f("form"),g=f("div"),w=f("input"),y=T(),D=f("button"),O.c(),V=T(),M=f("div"),E=f("div"),I=f("div"),A=N(x),B=T(),Ze(P.$$.fragment),ee=T(),ae=f("div"),F=f("button"),se=N(oe),this.h()},l(Z){e=h(Z,"DIV",{});var te=m(e);t=h(te,"DIV",{class:!0});var le=m(t);l=h(le,"DIV",{class:!0});var _e=m(l);i=U(_e,o),_e.forEach(u),n=S(le),d=h(le,"BUTTON",{class:!0,"data-svelte-h":!0}),Pe(d)!=="svelte-745w2y"&&(d.innerHTML=c),le.forEach(u),b=S(te),_=h(te,"DIV",{class:!0});var k=m(_);v=h(k,"DIV",{class:!0});var C=m(v);p=h(C,"FORM",{class:!0});var Y=m(p);g=h(Y,"DIV",{class:!0});var W=m(g);w=h(W,"INPUT",{id:!0,type:!0,class:!0}),y=S(W),D=h(W,"BUTTON",{class:!0,type:!0});var L=m(D);O.l(L),L.forEach(u),W.forEach(u),V=S(Y),M=h(Y,"DIV",{class:!0});var he=m(M);E=h(he,"DIV",{class:!0});var ie=m(E);I=h(ie,"DIV",{class:!0});var X=m(I);A=U(X,x),X.forEach(u),B=S(ie),Ke(P.$$.fragment,ie),ie.forEach(u),he.forEach(u),ee=S(Y),ae=h(Y,"DIV",{class:!0});var q=m(ae);F=h(q,"BUTTON",{class:!0,type:!0});var j=m(F);se=U(j,oe),j.forEach(u),q.forEach(u),Y.forEach(u),C.forEach(u),k.forEach(u),te.forEach(u),this.h()},h(){a(l,"class","text-lg font-medium self-center"),a(d,"class","self-center"),a(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),a(w,"id","upload-doc-input"),w.hidden=!0,a(w,"type","file"),w.multiple=!0,a(w,"class","svelte-1vx7r9s"),a(D,"class","w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl"),a(D,"type","button"),a(g,"class","mb-3 w-full"),a(I,"class","mb-1.5 text-xs text-gray-500"),a(E,"class","flex flex-col w-full"),a(M,"class","flex flex-col space-y-1.5"),a(F,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),a(F,"type","submit"),a(ae,"class","flex justify-end pt-5 text-sm font-medium"),a(p,"class","flex flex-col w-full"),a(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),a(_,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(Z,te){R(Z,e,te),r(e,t),r(t,l),r(l,i),r(t,n),r(t,d),r(e,b),r(e,_),r(_,v),r(v,p),r(p,g),r(g,w),s[10](w),r(g,y),r(g,D),O.m(D,null),r(p,V),r(p,M),r(M,E),r(E,I),r(I,A),r(E,B),Fe(P,E,null),r(p,ee),r(p,ae),r(ae,F),r(F,se),G=!0,ue||(de=[J(d,"click",s[9]),J(w,"change",s[11]),J(D,"click",s[12]),J(p,"submit",Et(s[13]))],ue=!0)},p(Z,te){(!G||te&16)&&o!==(o=Z[4].t("Add Docs")+"")&&z(i,o),K===(K=Q(Z))&&O?O.p(Z,te):(O.d(1),O=K(Z),O&&(O.c(),O.m(D,null))),(!G||te&16)&&x!==(x=Z[4].t("Tags")+"")&&z(A,x);const le={};te&8&&(le.tags=Z[3]),P.$set(le),(!G||te&16)&&oe!==(oe=Z[4].t("Save")+"")&&z(se,oe)},i(Z){G||(Ie(P.$$.fragment,Z),G=!0)},o(Z){xe(P.$$.fragment,Z),G=!1},d(Z){Z&&u(e),s[10](null),O.d(),Ge(P),ue=!1,Xe(de)}}}function Us(s){let e,t,l;function o(n){s[14](n)}let i={size:"sm",$$slots:{default:[Ns]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Bt({props:i}),ut.push(()=>mt(e,"show",o)),{c(){Ze(e.$$.fragment)},l(n){Ke(e.$$.fragment,n)},m(n,d){Fe(e,n,d),l=!0},p(n,[d]){const c={};d&131103&&(c.$$scope={dirty:d,ctx:n}),!t&&d&1&&(t=!0,c.show=n[0],_t(()=>t=!1)),e.$set(c)},i(n){l||(Ie(e.$$.fragment,n),l=!0)},o(n){xe(e.$$.fragment,n),l=!1},d(n){Ge(e,n)}}}function Os(s,e,t){let l;const o=ht("i18n");tt(s,o,E=>t(4,l=E));let{show:i=!1}=e,n,d,c=[];const b=async E=>{const I=await Il(localStorage.token,"",E).catch(x=>(Me.error(x),null));I&&(await Ct(localStorage.token,I.collection_name,I.filename,Dl(I.filename),I.filename,c.length>0?{tags:c}:null).catch(x=>(Me.error(x),null)),await Je.set(await rt(localStorage.token)))},_=async()=>{if(d&&d.length>0){for(const E of d)console.log(E,E.name.split(".").at(-1)),gl.includes(E.type)||bl.includes(E.name.split(".").at(-1))||Me.error(`Unknown File Type '${E.type}', but accepting and treating as plain text`),b(E);t(2,d=null),t(1,n.value="",n)}else Me.error(l.t("File not found."));t(0,i=!1),Je.set(await rt(localStorage.token))},v=async E=>{!c.find(I=>I.name===E)&&E!==""?t(3,c=[...c,{name:E}]):console.log("tag already exists")},p=async E=>{t(3,c=c.filter(I=>I.name!==E))};gt(()=>{});const g=()=>{t(0,i=!1)};function w(E){ut[E?"unshift":"push"](()=>{n=E,t(1,n)})}function y(){d=this.files,t(2,d)}const D=()=>{n.click()},V=()=>{_()};function M(E){i=E,t(0,i)}return s.$$set=E=>{"show"in E&&t(0,i=E.show)},[i,n,d,c,l,o,_,v,p,g,w,y,D,V,M]}class Rs extends ct{constructor(e){super(),dt(this,e,Os,Us,nt,{show:0})}}const{document:At}=Ml;function al(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function nl(s,e,t){const l=s.slice();return l[40]=e[t],l}function ol(s){let e,t,l,o,i,n;return i=new zl({props:{$$slots:{default:[qs]},$$scope:{ctx:s}}}),{c(){e=f("div"),t=f("div"),l=f("div"),o=f("div"),Ze(i.$$.fragment),this.h()},l(d){e=h(d,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var c=m(e);t=h(c,"DIV",{class:!0});var b=m(t);l=h(b,"DIV",{class:!0});var _=m(l);o=h(_,"DIV",{class:!0});var v=m(o);Ke(i.$$.fragment,v),v.forEach(u),_.forEach(u),b.forEach(u),c.forEach(u),this.h()},h(){a(o,"class","max-w-md"),a(l,"class","m-auto pt-64 flex flex-col justify-center"),a(t,"class","absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),a(e,"class","fixed w-full h-full flex z-50 touch-none pointer-events-none"),a(e,"id","dropzone"),a(e,"role","region"),a(e,"aria-label","Drag and Drop Container")},m(d,c){R(d,e,c),r(e,t),r(t,l),r(l,o),Fe(i,o,null),n=!0},i(d){n||(Ie(i.$$.fragment,d),n=!0)},o(d){xe(i.$$.fragment,d),n=!1},d(d){d&&u(e),Ge(i)}}}function qs(s){let e,t="Drop any files here to add to my documents";return{c(){e=f("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Pe(e)!=="svelte-19eg75t"&&(e.textContent=t),this.h()},h(){a(e,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(l,o){R(l,e,o)},p:at,d(l){l&&u(e)}}}function il(s){let e,t,l;function o(n){s[18](n)}let i={selectedDoc:s[9]};return s[8]!==void 0&&(i.show=s[8]),e=new Ql({props:i}),ut.push(()=>mt(e,"show",o)),{c(){Ze(e.$$.fragment)},l(n){Ke(e.$$.fragment,n)},m(n,d){Fe(e,n,d),l=!0},p(n,d){const c={};d[0]&512&&(c.selectedDoc=n[9]),!t&&d[0]&256&&(t=!0,c.show=n[8],_t(()=>t=!1)),e.$set(c)},i(n){l||(Ie(e.$$.fragment,n),l=!0)},o(n){xe(e.$$.fragment,n),l=!1},d(n){Ge(e,n)}}}function ul(s){let e,t,l,o,i,n;l=new Vl({props:{state:s[11].filter(fl).length===s[11].length?"checked":"unchecked",indeterminate:s[11].filter(hl).length>0&&s[11].filter(vl).length!==s[11].length}}),l.$on("change",s[24]);function d(_,v){return v[0]&2048&&(i=null),i==null&&(i=_[11].filter(Gs).length===0),i?zs:js}let c=d(s,[-1,-1]),b=c(s);return{c(){e=f("div"),t=f("div"),Ze(l.$$.fragment),o=T(),b.c(),this.h()},l(_){e=h(_,"DIV",{class:!0});var v=m(e);t=h(v,"DIV",{class:!0});var p=m(t);Ke(l.$$.fragment,p),p.forEach(u),o=S(v),b.l(v),v.forEach(u),this.h()},h(){a(t,"class","ml-0.5 pr-3 my-auto flex items-center"),a(e,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(_,v){R(_,e,v),r(e,t),Fe(l,t,null),r(e,o),b.m(e,null),n=!0},p(_,v){const p={};v[0]&2048&&(p.state=_[11].filter(fl).length===_[11].length?"checked":"unchecked"),v[0]&2048&&(p.indeterminate=_[11].filter(hl).length>0&&_[11].filter(vl).length!==_[11].length),l.$set(p),c===(c=d(_,v))&&b?b.p(_,v):(b.d(1),b=c(_),b&&(b.c(),b.m(e,null)))},i(_){n||(Ie(l.$$.fragment,_),n=!0)},o(_){xe(l.$$.fragment,_),n=!1},d(_){_&&u(e),Ge(l),b.d()}}}function js(s){let e,t,l=s[11].filter(pl).length+"",o,i,n,d,c,b,_=s[12].t("delete")+"",v,p,g;return{c(){e=f("div"),t=f("div"),o=N(l),i=N(" Selected"),n=T(),d=f("div"),c=f("button"),b=f("div"),v=N(_),this.h()},l(w){e=h(w,"DIV",{class:!0});var y=m(e);t=h(y,"DIV",{class:!0});var D=m(t);o=U(D,l),i=U(D," Selected"),D.forEach(u),n=S(y),d=h(y,"DIV",{class:!0});var V=m(d);c=h(V,"BUTTON",{class:!0});var M=m(c);b=h(M,"DIV",{class:!0});var E=m(b);v=U(E,_),E.forEach(u),M.forEach(u),V.forEach(u),y.forEach(u),this.h()},h(){a(t,"class","text-xs font-medium py-0.5 self-center mr-1"),a(b,"class","text-xs font-medium self-center line-clamp-1"),a(c,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),a(d,"class","flex gap-1"),a(e,"class","flex-1 flex w-full justify-between items-center")},m(w,y){R(w,e,y),r(e,t),r(t,o),r(t,i),r(e,n),r(e,d),r(d,c),r(c,b),r(b,v),p||(g=J(c,"click",s[27]),p=!0)},p(w,y){y[0]&2048&&l!==(l=w[11].filter(pl).length+"")&&z(o,l),y[0]&4096&&_!==(_=w[12].t("delete")+"")&&z(v,_)},d(w){w&&u(e),p=!1,g()}}}function zs(s){let e,t,l=s[12].t("all")+"",o,i,n,d,c,b=ft(s[5]),_=[];for(let v=0;v<b.length;v+=1)_[v]=cl(nl(s,b,v));return{c(){e=f("button"),t=f("div"),o=N(l),i=T();for(let v=0;v<_.length;v+=1)_[v].c();n=Tt(),this.h()},l(v){e=h(v,"BUTTON",{class:!0});var p=m(e);t=h(p,"DIV",{class:!0});var g=m(t);o=U(g,l),g.forEach(u),p.forEach(u),i=S(v);for(let w=0;w<_.length;w+=1)_[w].l(v);n=Tt(),this.h()},h(){a(t,"class","text-xs font-medium self-center line-clamp-1"),a(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,p){R(v,e,p),r(e,t),r(t,o),R(v,i,p);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(v,p);R(v,n,p),d||(c=J(e,"click",s[25]),d=!0)},p(v,p){if(p[0]&4096&&l!==(l=v[12].t("all")+"")&&z(o,l),p[0]&34){b=ft(v[5]);let g;for(g=0;g<b.length;g+=1){const w=nl(v,b,g);_[g]?_[g].p(w,p):(_[g]=cl(w),_[g].c(),_[g].m(n.parentNode,n))}for(;g<_.length;g+=1)_[g].d(1);_.length=b.length}},d(v){v&&(u(e),u(i),u(n)),Mt(_,v),d=!1,c()}}}function cl(s){let e,t,l,o=s[40]+"",i,n,d,c;function b(){return s[26](s[40])}return{c(){e=f("button"),t=f("div"),l=N("#"),i=N(o),n=T(),this.h()},l(_){e=h(_,"BUTTON",{class:!0});var v=m(e);t=h(v,"DIV",{class:!0});var p=m(t);l=U(p,"#"),i=U(p,o),p.forEach(u),n=S(v),v.forEach(u),this.h()},h(){a(t,"class","text-xs font-medium self-center line-clamp-1"),a(e,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(_,v){R(_,e,v),r(e,t),r(t,l),r(t,i),r(e,n),d||(c=J(e,"click",b),d=!0)},p(_,v){s=_,v[0]&32&&o!==(o=s[40]+"")&&z(i,o)},d(_){_&&u(e),d=!1,c()}}}function Zs(s){let e,t,l,o,i,n;return{c(){e=Oe("svg"),t=Oe("style"),l=N(`.spinner_qM83 {\r
										animation: spinner_8HQG 1.05s infinite;\r
									}\r
									.spinner_oXPr {\r
										animation-delay: 0.1s;\r
									}\r
									.spinner_ZTLf {\r
										animation-delay: 0.2s;\r
									}\r
									@keyframes spinner_8HQG {\r
										0%,\r
										57.14% {\r
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);\r
											transform: translate(0);\r
										}\r
										28.57% {\r
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);\r
											transform: translateY(-6px);\r
										}\r
										100% {\r
											transform: translate(0);\r
										}\r
									}\r
								`),o=Oe("circle"),i=Oe("circle"),n=Oe("circle"),this.h()},l(d){e=Re(d,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var c=m(e);t=Re(c,"style",{});var b=m(t);l=U(b,`.spinner_qM83 {\r
										animation: spinner_8HQG 1.05s infinite;\r
									}\r
									.spinner_oXPr {\r
										animation-delay: 0.1s;\r
									}\r
									.spinner_ZTLf {\r
										animation-delay: 0.2s;\r
									}\r
									@keyframes spinner_8HQG {\r
										0%,\r
										57.14% {\r
											animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);\r
											transform: translate(0);\r
										}\r
										28.57% {\r
											animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);\r
											transform: translateY(-6px);\r
										}\r
										100% {\r
											transform: translate(0);\r
										}\r
									}\r
								`),b.forEach(u),o=Re(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(o).forEach(u),i=Re(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(i).forEach(u),n=Re(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),m(n).forEach(u),c.forEach(u),this.h()},h(){a(o,"class","spinner_qM83"),a(o,"cx","4"),a(o,"cy","12"),a(o,"r","2.5"),a(i,"class","spinner_qM83 spinner_oXPr"),a(i,"cx","12"),a(i,"cy","12"),a(i,"r","2.5"),a(n,"class","spinner_qM83 spinner_ZTLf"),a(n,"cx","20"),a(n,"cy","12"),a(n,"r","2.5"),a(e,"class","w-6 h-6 translate-y-[0.5px]"),a(e,"fill","currentColor"),a(e,"viewBox","0 0 24 24"),a(e,"xmlns","http://www.w3.org/2000/svg")},m(d,c){R(d,e,c),r(e,t),r(t,l),r(e,o),r(e,i),r(e,n)},d(d){d&&u(e)}}}function Ks(s){let e,t,l;return{c(){e=Oe("svg"),t=Oe("path"),l=Oe("path"),this.h()},l(o){e=Re(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=m(e);t=Re(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(t).forEach(u),l=Re(i,"path",{d:!0}),m(l).forEach(u),i.forEach(u),this.h()},h(){a(t,"fill-rule","evenodd"),a(t,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),a(t,"clip-rule","evenodd"),a(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"viewBox","0 0 24 24"),a(e,"fill","currentColor"),a(e,"class","w-6 h-6")},m(o,i){R(o,e,i),r(e,t),r(e,l)},d(o){o&&u(e)}}}function dl(s){var _e;let e,t,l,o,i,n,d,c,b,_,v,p=s[37].name+"",g,w,y=s[37].filename+"",D,V,M,E,I=s[37].title+"",x,A,B,P,ee='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',ae,F,oe='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',se,G,ue,de;l=new Vl({props:{state:((_e=s[37])==null?void 0:_e.selected)??"unchecked"}});function Q(k,C){return k[37]?Ks:Zs}let K=Q(s),O=K(s);function Z(...k){return s[28](s[37],...k)}function te(...k){return s[29](s[37],...k)}function le(){return s[30](s[37],s[38],s[39])}return{c(){e=f("button"),t=f("div"),Ze(l.$$.fragment),o=T(),i=f("div"),n=f("div"),d=f("div"),O.c(),c=T(),b=f("div"),_=f("div"),v=N("#"),g=N(p),w=N(" ("),D=N(y),V=N(")"),M=T(),E=f("div"),x=N(I),A=T(),B=f("div"),P=f("button"),P.innerHTML=ee,ae=T(),F=f("button"),F.innerHTML=oe,se=T(),this.h()},l(k){e=h(k,"BUTTON",{class:!0});var C=m(e);t=h(C,"DIV",{class:!0});var Y=m(t);Ke(l.$$.fragment,Y),Y.forEach(u),o=S(C),i=h(C,"DIV",{class:!0});var W=m(i);n=h(W,"DIV",{class:!0});var L=m(n);d=h(L,"DIV",{class:!0});var he=m(d);O.l(he),he.forEach(u),c=S(L),b=h(L,"DIV",{class:!0});var ie=m(b);_=h(ie,"DIV",{class:!0});var X=m(_);v=U(X,"#"),g=U(X,p),w=U(X," ("),D=U(X,y),V=U(X,")"),X.forEach(u),M=S(ie),E=h(ie,"DIV",{class:!0});var q=m(E);x=U(q,I),q.forEach(u),ie.forEach(u),L.forEach(u),W.forEach(u),A=S(C),B=h(C,"DIV",{class:!0});var j=m(B);P=h(j,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Pe(P)!=="svelte-105zedk"&&(P.innerHTML=ee),ae=S(j),F=h(j,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Pe(F)!=="svelte-13wl5iz"&&(F.innerHTML=oe),j.forEach(u),se=S(C),C.forEach(u),this.h()},h(){a(t,"class","my-auto flex items-center"),a(d,"class","p-2.5 bg-red-400 text-white rounded-lg"),a(_,"class","font-bold line-clamp-1"),a(E,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),a(b,"class","self-center flex-1"),a(n,"class","flex items-center space-x-3"),a(i,"class","flex flex-1 space-x-4 cursor-pointer w-full"),a(P,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),a(P,"type","button"),a(F,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),a(F,"type","button"),a(B,"class","flex flex-row space-x-1 self-center"),a(e,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(k,C){R(k,e,C),r(e,t),Fe(l,t,null),r(e,o),r(e,i),r(i,n),r(n,d),O.m(d,null),r(n,c),r(n,b),r(b,_),r(_,v),r(_,g),r(_,w),r(_,D),r(_,V),r(b,M),r(b,E),r(E,x),r(e,A),r(e,B),r(B,P),r(B,ae),r(B,F),r(e,se),G=!0,ue||(de=[J(P,"click",Z),J(F,"click",te),J(e,"click",le)],ue=!0)},p(k,C){var W;s=k;const Y={};C[0]&2048&&(Y.state=((W=s[37])==null?void 0:W.selected)??"unchecked"),l.$set(Y),K!==(K=Q(s))&&(O.d(1),O=K(s),O&&(O.c(),O.m(d,null))),(!G||C[0]&2048)&&p!==(p=s[37].name+"")&&z(g,p),(!G||C[0]&2048)&&y!==(y=s[37].filename+"")&&z(D,y),(!G||C[0]&2048)&&I!==(I=s[37].title+"")&&z(x,I)},i(k){G||(Ie(l.$$.fragment,k),G=!0)},o(k){xe(l.$$.fragment,k),G=!1},d(k){k&&u(e),Ge(l),O.d(),ue=!1,Xe(de)}}}function Fs(s){let e,t,l,o=s[9],i,n,d,c,b,_,v,p,g,w,y=s[12].t("Documents")+"",D,V,M,E,I,x,A,B,P=s[12].t("Document Settings")+"",ee,ae,F,oe,se=s[12].t("Use '#' in the prompt input to load and select your documents.")+"",G,ue,de,Q,K,O='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',Z,te,le,_e,k,C,Y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',W,L,he,ie,X,q,j,ke,Te,He,we,be,ve=s[12].t("Import Documents Mapping")+"",Ae,Ne,Ee,ze='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',Ce,me,ge,Se=s[12].t("Export Documents Mapping")+"",We,qe,Ue,$='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',re,ne,pe;At.title=e=`\r
		`+s[12].t("Documents")+" | "+s[13]+`\r
	`;let ye=s[10]&&ol(s),Be=il(s);function ot(H){s[19](H)}let st={};s[7]!==void 0&&(st.show=s[7]),n=new Rs({props:st}),ut.push(()=>mt(n,"show",ot));function vt(H){s[20](H)}let $e={};s[6]!==void 0&&($e.show=s[6]),b=new Cs({props:$e}),ut.push(()=>mt(b,"show",vt));let De=s[5].length>0&&ul(s),Qe=ft(s[11]),Ve=[];for(let H=0;H<Qe.length;H+=1)Ve[H]=dl(al(s,Qe,H));const it=H=>xe(Ve[H],1,1,()=>{Ve[H]=null});return{c(){t=T(),ye&&ye.c(),l=T(),Be.c(),i=T(),Ze(n.$$.fragment),c=T(),Ze(b.$$.fragment),v=T(),p=f("div"),g=f("div"),w=f("div"),D=N(y),V=T(),M=f("div"),E=f("button"),I=Oe("svg"),x=Oe("path"),A=T(),B=f("div"),ee=N(P),ae=T(),F=f("div"),oe=N("ⓘ "),G=N(se),ue=T(),de=f("div"),Q=f("div"),K=f("div"),K.innerHTML=O,Z=T(),te=f("input"),_e=T(),k=f("div"),C=f("button"),C.innerHTML=Y,W=T(),L=f("hr"),he=T(),De&&De.c(),ie=T(),X=f("div");for(let H=0;H<Ve.length;H+=1)Ve[H].c();q=T(),j=f("div"),ke=f("div"),Te=f("input"),He=T(),we=f("button"),be=f("div"),Ae=N(ve),Ne=T(),Ee=f("div"),Ee.innerHTML=ze,Ce=T(),me=f("button"),ge=f("div"),We=N(Se),qe=T(),Ue=f("div"),Ue.innerHTML=$,this.h()},l(H){Sl("svelte-vxyf60",At.head).forEach(u),t=S(H),ye&&ye.l(H),l=S(H),Be.l(H),i=S(H),Ke(n.$$.fragment,H),c=S(H),Ke(b.$$.fragment,H),v=S(H),p=h(H,"DIV",{class:!0});var je=m(p);g=h(je,"DIV",{class:!0});var Ye=m(g);w=h(Ye,"DIV",{class:!0});var Le=m(w);D=U(Le,y),Le.forEach(u),V=S(Ye),M=h(Ye,"DIV",{});var et=m(M);E=h(et,"BUTTON",{class:!0,type:!0});var pt=m(E);I=Re(pt,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var bt=m(I);x=Re(bt,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),m(x).forEach(u),bt.forEach(u),A=S(pt),B=h(pt,"DIV",{class:!0});var Pt=m(B);ee=U(Pt,P),Pt.forEach(u),pt.forEach(u),et.forEach(u),Ye.forEach(u),ae=S(je),F=h(je,"DIV",{class:!0});var Ht=m(F);oe=U(Ht,"ⓘ "),G=U(Ht,se),Ht.forEach(u),je.forEach(u),ue=S(H),de=h(H,"DIV",{class:!0});var It=m(de);Q=h(It,"DIV",{class:!0});var Dt=m(Q);K=h(Dt,"DIV",{class:!0,"data-svelte-h":!0}),Pe(K)!=="svelte-v38fm1"&&(K.innerHTML=O),Z=S(Dt),te=h(Dt,"INPUT",{class:!0,placeholder:!0}),Dt.forEach(u),_e=S(It),k=h(It,"DIV",{});var Nt=m(k);C=h(Nt,"BUTTON",{class:!0,"data-svelte-h":!0}),Pe(C)!=="svelte-1rxkyow"&&(C.innerHTML=Y),Nt.forEach(u),It.forEach(u),W=S(H),L=h(H,"HR",{class:!0}),he=S(H),De&&De.l(H),ie=S(H),X=h(H,"DIV",{class:!0});var Ut=m(X);for(let Lt=0;Lt<Ve.length;Lt+=1)Ve[Lt].l(Ut);Ut.forEach(u),q=S(H),j=h(H,"DIV",{class:!0});var Ot=m(j);ke=h(Ot,"DIV",{class:!0});var wt=m(ke);Te=h(wt,"INPUT",{id:!0,type:!0,accept:!0}),He=S(wt),we=h(wt,"BUTTON",{class:!0});var Vt=m(we);be=h(Vt,"DIV",{class:!0});var Rt=m(be);Ae=U(Rt,ve),Rt.forEach(u),Ne=S(Vt),Ee=h(Vt,"DIV",{class:!0,"data-svelte-h":!0}),Pe(Ee)!=="svelte-aqr4dt"&&(Ee.innerHTML=ze),Vt.forEach(u),Ce=S(wt),me=h(wt,"BUTTON",{class:!0});var xt=m(me);ge=h(xt,"DIV",{class:!0});var qt=m(ge);We=U(qt,Se),qt.forEach(u),qe=S(xt),Ue=h(xt,"DIV",{class:!0,"data-svelte-h":!0}),Pe(Ue)!=="svelte-1n7zye"&&(Ue.innerHTML=$),xt.forEach(u),wt.forEach(u),Ot.forEach(u),this.h()},h(){a(w,"class","text-lg font-semibold self-center"),a(x,"fill-rule","evenodd"),a(x,"d","M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z"),a(x,"clip-rule","evenodd"),a(I,"xmlns","http://www.w3.org/2000/svg"),a(I,"viewBox","0 0 16 16"),a(I,"fill","currentColor"),a(I,"class","w-4 h-4"),a(B,"class","text-xs"),a(E,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),a(E,"type","button"),a(g,"class","flex justify-between items-center"),a(F,"class","text-gray-500 text-xs mt-1"),a(p,"class","mb-3"),a(K,"class","self-center ml-1 mr-3"),a(te,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),a(te,"placeholder",le=s[12].t("Search Documents")),a(Q,"class","flex flex-1"),a(C,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),a(de,"class","flex w-full space-x-2"),a(L,"class","dark:border-gray-850 my-2.5"),a(X,"class","my-3 mb-5"),a(Te,"id","documents-import-input"),a(Te,"type","file"),a(Te,"accept",".json"),Te.hidden=!0,a(be,"class","self-center mr-2 font-medium"),a(Ee,"class","self-center"),a(we,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),a(ge,"class","self-center mr-2 font-medium"),a(Ue,"class","self-center"),a(me,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),a(ke,"class","flex space-x-2"),a(j,"class","flex justify-end w-full mb-2")},m(H,ce){R(H,t,ce),ye&&ye.m(H,ce),R(H,l,ce),Be.m(H,ce),R(H,i,ce),Fe(n,H,ce),R(H,c,ce),Fe(b,H,ce),R(H,v,ce),R(H,p,ce),r(p,g),r(g,w),r(w,D),r(g,V),r(g,M),r(M,E),r(E,I),r(I,x),r(E,A),r(E,B),r(B,ee),r(p,ae),r(p,F),r(F,oe),r(F,G),R(H,ue,ce),R(H,de,ce),r(de,Q),r(Q,K),r(Q,Z),r(Q,te),fe(te,s[0]),r(de,_e),r(de,k),r(k,C),R(H,W,ce),R(H,L,ce),R(H,he,ce),De&&De.m(H,ce),R(H,ie,ce),R(H,X,ce);for(let je=0;je<Ve.length;je+=1)Ve[je]&&Ve[je].m(X,null);R(H,q,ce),R(H,j,ce),r(j,ke),r(ke,Te),s[31](Te),r(ke,He),r(ke,we),r(we,be),r(be,Ae),r(we,Ne),r(we,Ee),r(ke,Ce),r(ke,me),r(me,ge),r(ge,We),r(me,qe),r(me,Ue),re=!0,ne||(pe=[J(E,"click",s[21]),J(te,"input",s[22]),J(C,"click",s[23]),J(Te,"change",s[32]),J(Te,"change",s[33]),J(we,"click",s[34]),J(me,"click",s[35])],ne=!0)},p(H,ce){(!re||ce[0]&12288)&&e!==(e=`\r
		`+H[12].t("Documents")+" | "+H[13]+`\r
	`)&&(At.title=e),H[10]?ye?ce[0]&1024&&Ie(ye,1):(ye=ol(H),ye.c(),Ie(ye,1),ye.m(l.parentNode,l)):ye&&(yt(),xe(ye,1,1,()=>{ye=null}),kt()),ce[0]&512&&nt(o,o=H[9])?(yt(),xe(Be,1,1,at),kt(),Be=il(H),Be.c(),Ie(Be,1),Be.m(i.parentNode,i)):Be.p(H,ce);const je={};!d&&ce[0]&128&&(d=!0,je.show=H[7],_t(()=>d=!1)),n.$set(je);const Ye={};if(!_&&ce[0]&64&&(_=!0,Ye.show=H[6],_t(()=>_=!1)),b.$set(Ye),(!re||ce[0]&4096)&&y!==(y=H[12].t("Documents")+"")&&z(D,y),(!re||ce[0]&4096)&&P!==(P=H[12].t("Document Settings")+"")&&z(ee,P),(!re||ce[0]&4096)&&se!==(se=H[12].t("Use '#' in the prompt input to load and select your documents.")+"")&&z(G,se),(!re||ce[0]&4096&&le!==(le=H[12].t("Search Documents")))&&a(te,"placeholder",le),ce[0]&1&&te.value!==H[0]&&fe(te,H[0]),H[5].length>0?De?(De.p(H,ce),ce[0]&32&&Ie(De,1)):(De=ul(H),De.c(),Ie(De,1),De.m(ie.parentNode,ie)):De&&(yt(),xe(De,1,1,()=>{De=null}),kt()),ce[0]&68352){Qe=ft(H[11]);let Le;for(Le=0;Le<Qe.length;Le+=1){const et=al(H,Qe,Le);Ve[Le]?(Ve[Le].p(et,ce),Ie(Ve[Le],1)):(Ve[Le]=dl(et),Ve[Le].c(),Ie(Ve[Le],1),Ve[Le].m(X,null))}for(yt(),Le=Qe.length;Le<Ve.length;Le+=1)it(Le);kt()}(!re||ce[0]&4096)&&ve!==(ve=H[12].t("Import Documents Mapping")+"")&&z(Ae,ve),(!re||ce[0]&4096)&&Se!==(Se=H[12].t("Export Documents Mapping")+"")&&z(We,Se)},i(H){if(!re){Ie(ye),Ie(Be),Ie(n.$$.fragment,H),Ie(b.$$.fragment,H),Ie(De);for(let ce=0;ce<Qe.length;ce+=1)Ie(Ve[ce]);re=!0}},o(H){xe(ye),xe(Be),xe(n.$$.fragment,H),xe(b.$$.fragment,H),xe(De),Ve=Ve.filter(Boolean);for(let ce=0;ce<Ve.length;ce+=1)xe(Ve[ce]);re=!1},d(H){H&&(u(t),u(l),u(i),u(c),u(v),u(p),u(ue),u(de),u(W),u(L),u(he),u(ie),u(X),u(q),u(j)),ye&&ye.d(H),Be.d(H),Ge(n,H),Ge(b,H),De&&De.d(H),Mt(Ve,H),s[31](null),ne=!1,Xe(pe)}}}const Gs=s=>(s==null?void 0:s.selected)==="checked",fl=s=>(s==null?void 0:s.selected)==="checked",hl=s=>(s==null?void 0:s.selected)==="checked",vl=s=>(s==null?void 0:s.selected)==="checked",pl=s=>(s==null?void 0:s.selected)==="checked";function Ws(s,e,t){let l,o,i;tt(s,Je,k=>t(2,l=k)),tt(s,Cl,k=>t(13,i=k));const{saveAs:n}=Hl,d=ht("i18n");tt(s,d,k=>t(12,o=k));let c="",b="",_,v=[],p=!1,g=!1,w=!1,y,D="",V=!1;const M=async k=>{await zt(localStorage.token,k),await Je.set(await rt(localStorage.token))},E=async k=>{await Promise.all(k.map(async C=>await zt(localStorage.token,C.name))),await Je.set(await rt(localStorage.token))},I=async k=>{const C=await Il(localStorage.token,"",k).catch(Y=>(Me.error(Y),null));C&&(await Ct(localStorage.token,C.collection_name,C.filename,Dl(C.filename),C.filename).catch(Y=>(Me.error(Y),null)),await Je.set(await rt(localStorage.token)))};gt(()=>{Je.subscribe(L=>{t(5,v=L.reduce((he,ie,X,q)=>{var j;return[...new Set([...he,...(((j=ie==null?void 0:ie.content)==null?void 0:j.tags)??[]).map(ke=>ke.name)])]},[]))});const k=document.querySelector("body"),C=L=>{L.preventDefault(),t(10,V=!0)},Y=()=>{t(10,V=!1)},W=async L=>{var he,ie;if(L.preventDefault(),(he=L.dataTransfer)!=null&&he.files){let X=new FileReader;X.onload=j=>{files=[...files,{type:"image",url:`${j.target.result}`}]};const q=(ie=L.dataTransfer)==null?void 0:ie.files;if(q&&q.length>0)for(const j of q)console.log(j,j.name.split(".").at(-1)),gl.includes(j.type)||bl.includes(j.name.split(".").at(-1))||Me.error(`Unknown File Type '${j.type}', but accepting and treating as plain text`),I(j);else Me.error(o.t("File not found."))}t(10,V=!1)};return k==null||k.addEventListener("dragover",C),k==null||k.addEventListener("drop",W),k==null||k.addEventListener("dragleave",Y),()=>{k==null||k.removeEventListener("dragover",C),k==null||k.removeEventListener("drop",W),k==null||k.removeEventListener("dragleave",Y)}});let x;function A(k){w=k,t(8,w)}function B(k){g=k,t(7,g)}function P(k){p=k,t(6,p)}const ee=()=>{t(6,p=!p)};function ae(){b=this.value,t(0,b)}const F=()=>{t(7,g=!0)},oe=k=>{k.detail==="checked"?t(11,x=x.map(C=>({...C,selected:"checked"}))):k.detail==="unchecked"&&t(11,x=x.map(C=>({...C,selected:"unchecked"})))},se=async()=>{t(1,D="")},G=async k=>{t(1,D=k)},ue=async()=>{E(x.filter(k=>k.selected==="checked"))},de=async(k,C)=>{C.stopPropagation(),t(8,w=!w),t(9,y=k)},Q=(k,C)=>{C.stopPropagation(),M(k.name)},K=(k,C,Y)=>{(k==null?void 0:k.selected)==="checked"?t(11,C[Y].selected="unchecked",x):t(11,C[Y].selected="checked",x)};function O(k){ut[k?"unshift":"push"](()=>{_=k,t(4,_)})}function Z(){c=this.files,t(3,c)}const te=()=>{console.log(c);const k=new FileReader;k.onload=async C=>{const Y=JSON.parse(C.target.result);console.log(Y);for(const W of Y)await Ct(localStorage.token,W.collection_name,W.filename,W.name,W.title).catch(L=>(Me.error(L),null));await Je.set(await rt(localStorage.token))},k.readAsText(c[0])},le=()=>{_.click()},_e=async()=>{let k=new Blob([JSON.stringify(l)],{type:"application/json"});n(k,`documents-mapping-export-${Date.now()}.json`)};return s.$$.update=()=>{s.$$.dirty[0]&7&&t(11,x=l.filter(k=>{var C;return(D===""||(((C=k==null?void 0:k.content)==null?void 0:C.tags)??[]).map(Y=>Y.name).includes(D))&&(b===""||k.name.includes(b))}))},[b,D,l,c,_,v,p,g,w,y,V,x,o,i,n,d,M,E,A,B,P,ee,ae,F,oe,se,G,ue,de,Q,K,O,Z,te,le,_e]}class Qs extends ct{constructor(e){super(),dt(this,e,Ws,Fs,nt,{},null,[-1,-1])}}function Ys(s){let e,t;return e=new Qs({}),{c(){Ze(e.$$.fragment)},l(l){Ke(e.$$.fragment,l)},m(l,o){Fe(e,l,o),t=!0},p:at,i(l){t||(Ie(e.$$.fragment,l),t=!0)},o(l){xe(e.$$.fragment,l),t=!1},d(l){Ge(e,l)}}}class hr extends ct{constructor(e){super(),dt(this,e,null,Ys,nt,{})}}export{hr as component};
//# sourceMappingURL=9.149c1268.js.map
