{"version":3,"file":"9.149c1268.js","sources":["../../../../../../src/lib/components/documents/EditDocModal.svelte","../../../../../../src/lib/components/documents/Settings/General.svelte","../../../../../../src/lib/components/documents/Settings/ChunkParams.svelte","../../../../../../src/lib/components/documents/Settings/QueryParams.svelte","../../../../../../src/lib/components/documents/Settings/WebParams.svelte","../../../../../../src/lib/components/documents/SettingsModal.svelte","../../../../../../src/lib/components/documents/AddDocModal.svelte","../../../../../../src/lib/components/workspace/Documents.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport dayjs from 'dayjs';\r\n\timport { onMount, getContext } from 'svelte';\r\n\r\n\timport { getDocs, tagDocByName, updateDocByName } from '$lib/apis/documents';\r\n\timport Modal from '../common/Modal.svelte';\r\n\timport { documents } from '$lib/stores';\r\n\timport TagInput from '../common/Tags/TagInput.svelte';\r\n\timport Tags from '../common/Tags.svelte';\r\n\timport { addTagById } from '$lib/apis/chats';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let show = false;\r\n\texport let selectedDoc;\r\n\r\n\tlet tags = [];\r\n\r\n\tlet doc = {\r\n\t\tname: '',\r\n\t\ttitle: '',\r\n\t\tcontent: null\r\n\t};\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tconst res = await updateDocByName(localStorage.token, selectedDoc.name, {\r\n\t\t\ttitle: doc.title,\r\n\t\t\tname: doc.name\r\n\t\t}).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\tshow = false;\r\n\r\n\t\t\tdocuments.set(await getDocs(localStorage.token));\r\n\t\t}\r\n\t};\r\n\r\n\tconst addTagHandler = async (tagName) => {\r\n\t\tif (!tags.find((tag) => tag.name === tagName) && tagName !== '') {\r\n\t\t\ttags = [...tags, { name: tagName }];\r\n\r\n\t\t\tawait tagDocByName(localStorage.token, doc.name, {\r\n\t\t\t\tname: doc.name,\r\n\t\t\t\ttags: tags\r\n\t\t\t});\r\n\r\n\t\t\tdocuments.set(await getDocs(localStorage.token));\r\n\t\t} else {\r\n\t\t\tconsole.log('tag already exists');\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteTagHandler = async (tagName) => {\r\n\t\ttags = tags.filter((tag) => tag.name !== tagName);\r\n\r\n\t\tawait tagDocByName(localStorage.token, doc.name, {\r\n\t\t\tname: doc.name,\r\n\t\t\ttags: tags\r\n\t\t});\r\n\r\n\t\tdocuments.set(await getDocs(localStorage.token));\r\n\t};\r\n\r\n\tonMount(() => {\r\n\t\tif (selectedDoc) {\r\n\t\t\tdoc = JSON.parse(JSON.stringify(selectedDoc));\r\n\r\n\t\t\ttags = doc?.content?.tags ?? [];\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<Modal size=\"sm\" bind:show>\r\n\t<div>\r\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4\">\r\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Edit Doc')}</div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshow = false;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-5 h-5\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200\">\r\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\r\n\t\t\t\t<form\r\n\t\t\t\t\tclass=\"flex flex-col w-full\"\r\n\t\t\t\t\ton:submit|preventDefault={() => {\r\n\t\t\t\t\t\tsubmitHandler();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" flex flex-col space-y-1.5\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Name Tag')}</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex flex-1\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"bg-gray-200 dark:bg-gray-800 font-bold px-3 py-0.5 border border-r-0 dark:border-gray-800 rounded-l-xl flex items-center\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t#\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-r-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tbind:value={doc.name}\r\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Title')}</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-xl py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tbind:value={doc.title}\r\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-2 text-xs text-gray-500\">{$i18n.t('Tags')}</div>\r\n\r\n\t\t\t\t\t\t\t<Tags {tags} addTag={addTagHandler} deleteTag={deleteTagHandler} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex justify-end pt-5 text-sm font-medium\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{$i18n.t('Save')}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</Modal>\r\n\r\n<style>\r\n\tinput::-webkit-outer-spin-button,\r\n\tinput::-webkit-inner-spin-button {\r\n\t\t/* display: none; <- Crashes Chrome on hover */\r\n\t\t-webkit-appearance: none;\r\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\r\n\t}\r\n\r\n\t.tabs::-webkit-scrollbar {\r\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\r\n\t}\r\n\r\n\t.tabs {\r\n\t\t-ms-overflow-style: none; /* IE and Edge */\r\n\t\tscrollbar-width: none; /* Firefox */\r\n\t}\r\n\r\n\tinput[type='number'] {\r\n\t\t-moz-appearance: textfield; /* Firefox */\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getDocs } from '$lib/apis/documents';\r\n\timport {\r\n\t\tgetQuerySettings,\r\n\t\tscanDocs,\r\n\t\tupdateQuerySettings,\r\n\t\tresetVectorDB,\r\n\t\tgetEmbeddingConfig,\r\n\t\tupdateEmbeddingConfig,\r\n\t\tgetRerankingConfig,\r\n\t\tupdateRerankingConfig,\r\n\t\tresetUploadDir\r\n\t} from '$lib/apis/rag';\r\n\r\n\timport { documents, models } from '$lib/stores';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet scanDirLoading = false;\r\n\tlet updateEmbeddingModelLoading = false;\r\n\tlet updateRerankingModelLoading = false;\r\n\r\n\tlet showResetConfirm = false;\r\n\tlet showResetUploadDirConfirm = false;\r\n\r\n\tlet embeddingEngine = '';\r\n\tlet embeddingModel = '';\r\n\tlet rerankingModel = '';\r\n\r\n\tlet OpenAIKey = '';\r\n\tlet OpenAIUrl = '';\r\n\tlet OpenAIBatchSize = 1;\r\n\r\n\tlet querySettings = {\r\n\t\ttemplate: '',\r\n\t\tr: 0.0,\r\n\t\tk: 4,\r\n\t\thybrid: false\r\n\t};\r\n\r\n\tconst scanHandler = async () => {\r\n\t\tscanDirLoading = true;\r\n\t\tconst res = await scanDocs(localStorage.token);\r\n\t\tscanDirLoading = false;\r\n\r\n\t\tif (res) {\r\n\t\t\tawait documents.set(await getDocs(localStorage.token));\r\n\t\t\ttoast.success($i18n.t('Scan complete!'));\r\n\t\t}\r\n\t};\r\n\r\n\tconst embeddingModelUpdateHandler = async () => {\r\n\t\tif (embeddingEngine === '' && embeddingModel.split('/').length - 1 > 1) {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(\r\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (embeddingEngine === 'ollama' && embeddingModel === '') {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(\r\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (embeddingEngine === 'openai' && embeddingModel === '') {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(\r\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ((embeddingEngine === 'openai' && OpenAIKey === '') || OpenAIUrl === '') {\r\n\t\t\ttoast.error($i18n.t('OpenAI URL/Key required.'));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconsole.log('Update embedding model attempt:', embeddingModel);\r\n\r\n\t\tupdateEmbeddingModelLoading = true;\r\n\t\tconst res = await updateEmbeddingConfig(localStorage.token, {\r\n\t\t\tembedding_engine: embeddingEngine,\r\n\t\t\tembedding_model: embeddingModel,\r\n\t\t\t...(embeddingEngine === 'openai'\r\n\t\t\t\t? {\r\n\t\t\t\t\t\topenai_config: {\r\n\t\t\t\t\t\t\tkey: OpenAIKey,\r\n\t\t\t\t\t\t\turl: OpenAIUrl,\r\n\t\t\t\t\t\t\tbatch_size: OpenAIBatchSize\r\n\t\t\t\t\t\t}\r\n\t\t\t\t  }\r\n\t\t\t\t: {})\r\n\t\t}).catch(async (error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\tawait setEmbeddingConfig();\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tupdateEmbeddingModelLoading = false;\r\n\r\n\t\tif (res) {\r\n\t\t\tconsole.log('embeddingModelUpdateHandler:', res);\r\n\t\t\tif (res.status === true) {\r\n\t\t\t\ttoast.success($i18n.t('Embedding model set to \"{{embedding_model}}\"', res), {\r\n\t\t\t\t\tduration: 1000 * 10\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst rerankingModelUpdateHandler = async () => {\r\n\t\tconsole.log('Update reranking model attempt:', rerankingModel);\r\n\r\n\t\tupdateRerankingModelLoading = true;\r\n\t\tconst res = await updateRerankingConfig(localStorage.token, {\r\n\t\t\treranking_model: rerankingModel\r\n\t\t}).catch(async (error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\tawait setRerankingConfig();\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tupdateRerankingModelLoading = false;\r\n\r\n\t\tif (res) {\r\n\t\t\tconsole.log('rerankingModelUpdateHandler:', res);\r\n\t\t\tif (res.status === true) {\r\n\t\t\t\tif (rerankingModel === '') {\r\n\t\t\t\t\ttoast.success($i18n.t('Reranking model disabled', res), {\r\n\t\t\t\t\t\tduration: 1000 * 10\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttoast.success($i18n.t('Reranking model set to \"{{reranking_model}}\"', res), {\r\n\t\t\t\t\t\tduration: 1000 * 10\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tembeddingModelUpdateHandler();\r\n\r\n\t\tif (querySettings.hybrid) {\r\n\t\t\trerankingModelUpdateHandler();\r\n\t\t}\r\n\t};\r\n\r\n\tconst setEmbeddingConfig = async () => {\r\n\t\tconst embeddingConfig = await getEmbeddingConfig(localStorage.token);\r\n\r\n\t\tif (embeddingConfig) {\r\n\t\t\tembeddingEngine = embeddingConfig.embedding_engine;\r\n\t\t\tembeddingModel = embeddingConfig.embedding_model;\r\n\r\n\t\t\tOpenAIKey = embeddingConfig.openai_config.key;\r\n\t\t\tOpenAIUrl = embeddingConfig.openai_config.url;\r\n\t\t\tOpenAIBatchSize = embeddingConfig.openai_config.batch_size ?? 1;\r\n\t\t}\r\n\t};\r\n\r\n\tconst setRerankingConfig = async () => {\r\n\t\tconst rerankingConfig = await getRerankingConfig(localStorage.token);\r\n\r\n\t\tif (rerankingConfig) {\r\n\t\t\trerankingModel = rerankingConfig.reranking_model;\r\n\t\t}\r\n\t};\r\n\r\n\tconst toggleHybridSearch = async () => {\r\n\t\tquerySettings.hybrid = !querySettings.hybrid;\r\n\t\tquerySettings = await updateQuerySettings(localStorage.token, querySettings);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tawait setEmbeddingConfig();\r\n\t\tawait setRerankingConfig();\r\n\r\n\t\tquerySettings = await getQuerySettings(localStorage.token);\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={() => {\r\n\t\tsubmitHandler();\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-2.5 pr-1.5 overflow-y-scroll max-h-[28rem]\">\r\n\t\t<div class=\"flex flex-col gap-0.5\">\r\n\t\t\t<div class=\" mb-0.5 text-sm font-medium\">{$i18n.t('General Settings')}</div>\r\n\r\n\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t{$i18n.t('Scan for documents from S3 path {{path}}', { path: 'DOCS_DIR (s3://modelops/example/data/docs)' })}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\" self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg flex flex-row space-x-1 items-center {scanDirLoading\r\n\t\t\t\t\t\t? ' cursor-not-allowed'\r\n\t\t\t\t\t\t: ''}\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tscanHandler();\r\n\t\t\t\t\t\tconsole.log('check');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tdisabled={scanDirLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"self-center font-medium\">{$i18n.t('Scan')}</div>\r\n\r\n\t\t\t\t\t{#if scanDirLoading}\r\n\t\t\t\t\t\t<div class=\"ml-3 self-center\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\tclass=\" w-3 h-3\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</style><path\r\n\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t/><path\r\n\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- <div class=\" flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Embedding Model Engine')}</div>\r\n\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\tbind:value={embeddingEngine}\r\n\t\t\t\t\t\tplaceholder=\"Select an embedding model engine\"\r\n\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\tif (e.target.value === 'ollama') {\r\n\t\t\t\t\t\t\t\tembeddingModel = '';\r\n\t\t\t\t\t\t\t} else if (e.target.value === 'openai') {\r\n\t\t\t\t\t\t\t\tembeddingModel = 'text-embedding-3-small';\r\n\t\t\t\t\t\t\t} else if (e.target.value === '') {\r\n\t\t\t\t\t\t\t\tembeddingModel = 'sentence-transformers/all-MiniLM-L6-v2';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default (SentenceTransformers)')}</option>\r\n\t\t\t\t\t\t<option value=\"ollama\">{$i18n.t('Ollama')}</option>\r\n\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('OpenAI')}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div> -->\r\n\r\n\t\t\t{#if embeddingEngine === 'openai'}\r\n\t\t\t\t<div class=\"my-0.5 flex gap-2\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\tbind:value={OpenAIUrl}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\t\t\tbind:value={OpenAIKey}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex mt-0.5 space-x-2\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Embedding Batch Size')}</div>\r\n\t\t\t\t\t<div class=\" flex-1\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"steps-range\"\r\n\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tmax=\"2048\"\r\n\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\tbind:value={OpenAIBatchSize}\r\n\t\t\t\t\t\t\tclass=\"w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tbind:value={OpenAIBatchSize}\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tclass=\" bg-transparent text-center w-14\"\r\n\t\t\t\t\t\t\tmin=\"-2\"\r\n\t\t\t\t\t\t\tmax=\"16000\"\r\n\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div class=\" flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Hybrid Search')}</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\ttoggleHybridSearch();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-700 my-1\" />\r\n\r\n\t\t<div class=\"space-y-2\" />\r\n\t\t<div>\r\n\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Embedding Model')}</div>\r\n\r\n\t\t\t{#if embeddingEngine === 'ollama'}\r\n\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\tbind:value={embeddingModel}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if !embeddingModel}\r\n\t\t\t\t\t\t\t\t<option value=\"\" disabled selected>{$i18n.t('Select a model')}</option>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t{#each $models.filter((m) => m.id && !m.external) as model}\r\n\t\t\t\t\t\t\t\t<option value={model.name} class=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t>{model.name + ' (' + (model.size / 1024 ** 3).toFixed(1) + ' GB)'}</option\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{:else}\r\n\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Set embedding model (e.g. {{model}})', {\r\n\t\t\t\t\t\t\t\tmodel: embeddingModel.slice(-40)\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tbind:value={embeddingModel}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if embeddingEngine === ''}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tembeddingModelUpdateHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={updateEmbeddingModelLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if updateEmbeddingModelLoading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style><path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/><path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t'Warning: If you update or change your embedding model, you will need to re-import all documents.'\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t<div class=\" \">\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Reranking Model')}</div>\r\n\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"disabled sw-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Disabled - a local sentence-transformer is used instead', {\r\n\t\t\t\t\t\t\t\t\tmodel: 'BAAI/bge-reranker-v2-m3'\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\tbind:value={rerankingModel}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\trerankingModelUpdateHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={updateRerankingModelLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if updateRerankingModelLoading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style><path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/><path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" dark:border-gray-850\" />\r\n\r\n\t\t<div>\r\n\t\t\t{#if showResetUploadDirConfirm}\r\n\t\t\t\t<div class=\"flex justify-between rounded-md items-center py-2 px-3.5 w-full transition\">\r\n\t\t\t\t\t<div class=\"flex items-center space-x-3\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<span>{$i18n.t('Are you sure?')}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex space-x-1.5 items-center\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"hover:text-white transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tconst res = resetUploadDir(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Success'));\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tshowResetUploadDirConfirm = false;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"hover:text-white transition\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tshowResetUploadDirConfirm = false;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{:else}\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\" flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tshowResetUploadDirConfirm = true;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Reset Upload Directory')}</div>\r\n\t\t\t\t</button>\r\n\t\t\t{/if}\r\n\r\n\t\t\t{#if showResetConfirm}\r\n\t\t\t\t<div class=\"flex justify-between rounded-md items-center py-2 px-3.5 w-full transition\">\r\n\t\t\t\t\t<div class=\"flex items-center space-x-3\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<span>{$i18n.t('Are you sure?')}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex space-x-1.5 items-center\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"hover:text-white transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tconst res = resetVectorDB(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Success'));\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tshowResetConfirm = false;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"hover:text-white transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tshowResetConfirm = false;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{:else}\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\" flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tshowResetConfirm = true;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Reset Vector Storage')}</div>\r\n\t\t\t\t</button>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { getDocs } from '$lib/apis/documents';\r\n\timport {\r\n\t\tgetRAGConfig,\r\n\t\tupdateRAGConfig,\r\n\t\tgetQuerySettings,\r\n\t\tscanDocs,\r\n\t\tupdateQuerySettings,\r\n\t\tresetVectorDB,\r\n\t\tgetEmbeddingConfig,\r\n\t\tupdateEmbeddingConfig,\r\n\t\tgetRerankingConfig,\r\n\t\tupdateRerankingConfig\r\n\t} from '$lib/apis/rag';\r\n\r\n\timport { documents, models } from '$lib/stores';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet scanDirLoading = false;\r\n\tlet updateEmbeddingModelLoading = false;\r\n\tlet updateRerankingModelLoading = false;\r\n\r\n\tlet showResetConfirm = false;\r\n\r\n\tlet chunkSize = 0;\r\n\tlet chunkOverlap = 0;\r\n\tlet pdfExtractImages = true;\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tconst res = await updateRAGConfig(localStorage.token, {\r\n\t\t\tpdf_extract_images: pdfExtractImages,\r\n\t\t\tchunk: {\r\n\t\t\t\tchunk_overlap: chunkOverlap,\r\n\t\t\t\tchunk_size: chunkSize\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tconst res = await getRAGConfig(localStorage.token);\r\n\r\n\t\tif (res) {\r\n\t\t\tpdfExtractImages = res.pdf_extract_images;\r\n\r\n\t\t\tchunkSize = res.chunk.chunk_size;\r\n\t\t\tchunkOverlap = res.chunk.chunk_overlap;\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={() => {\r\n\t\tsubmitHandler();\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]\">\r\n\t\t<div class=\" \">\r\n\t\t\t<div class=\" text-sm font-medium\">{$i18n.t('Chunk Params')}</div>\r\n\r\n\t\t\t<div class=\" flex\">\r\n\t\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\"self-center text-xs font-medium min-w-fit\">{$i18n.t('Chunk Size')}</div>\r\n\r\n\t\t\t\t\t<div class=\"self-center p-3\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Chunk Size')}\r\n\t\t\t\t\t\t\tbind:value={chunkSize}\r\n\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit\">\r\n\t\t\t\t\t\t{$i18n.t('Chunk Overlap')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"self-center p-3\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Chunk Overlap')}\r\n\t\t\t\t\t\t\tbind:value={chunkOverlap}\r\n\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"pr-2\">\r\n\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t\t<div class=\" text-xs font-medium\">{$i18n.t('PDF Extract Images (OCR)')}</div>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\" text-xs font-medium text-gray-500\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tpdfExtractImages = !pdfExtractImages;\r\n\t\t\t\t\t\t}}>{pdfExtractImages ? $i18n.t('On') : $i18n.t('Off')}</button\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { getDocs } from '$lib/apis/documents';\r\n\timport {\r\n\t\tgetRAGConfig,\r\n\t\tupdateRAGConfig,\r\n\t\tgetQuerySettings,\r\n\t\tscanDocs,\r\n\t\tupdateQuerySettings,\r\n\t\tresetVectorDB,\r\n\t\tgetEmbeddingConfig,\r\n\t\tupdateEmbeddingConfig,\r\n\t\tgetRerankingConfig,\r\n\t\tupdateRerankingConfig\r\n\t} from '$lib/apis/rag';\r\n\r\n\timport { documents, models } from '$lib/stores';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet querySettings = {\r\n\t\ttemplate: '',\r\n\t\tr: 0.0,\r\n\t\tk: 4,\r\n\t\thybrid: false\r\n\t};\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tquerySettings = await updateQuerySettings(localStorage.token, querySettings);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tquerySettings = await getQuerySettings(localStorage.token);\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={() => {\r\n\t\tsubmitHandler();\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 pr-1.5 overflow-y-scroll max-h-[25rem]\">\r\n\t\t<div class=\" \">\r\n\t\t\t<div class=\" text-sm font-medium\">{$i18n.t('Query Params')}</div>\r\n\r\n\t\t\t<div class=\" flex\">\r\n\t\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\"self-center text-xs font-medium min-w-fit\">{$i18n.t('Top K')}</div>\r\n\r\n\t\t\t\t\t<div class=\"self-center p-3\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Top K')}\r\n\t\t\t\t\t\t\tbind:value={querySettings.k}\r\n\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit\">\r\n\t\t\t\t\t\t\t{$i18n.t('Minimum Score')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"self-center p-3\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Score')}\r\n\t\t\t\t\t\t\t\tbind:value={querySettings.r}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\tmin=\"0.0\"\r\n\t\t\t\t\t\t\t\ttitle={$i18n.t('The score should be a value between 0.0 (0%) and 1.0 (100%).')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t'Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\" dark:border-gray-700 my-3\" />\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('RAG Template')}</div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tbind:value={querySettings.template}\r\n\t\t\t\t\tclass=\"w-full rounded-lg px-4 py-3 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none\"\r\n\t\t\t\t\trows=\"4\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { getRAGConfig, updateRAGConfig } from '$lib/apis/rag';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\r\n\timport { documents, models } from '$lib/stores';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet webConfig = null;\r\n\tlet webSearchEngines = ['searxng', 'google_pse', 'brave', 'serpstack', 'serper'];\r\n\r\n\tlet youtubeLanguage = 'en';\r\n\tlet youtubeTranslation = null;\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tconst res = await updateRAGConfig(localStorage.token, {\r\n\t\t\tweb: webConfig,\r\n\t\t\tyoutube: {\r\n\t\t\t\tlanguage: youtubeLanguage.split(',').map((lang) => lang.trim()),\r\n\t\t\t\ttranslation: youtubeTranslation\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tconst res = await getRAGConfig(localStorage.token);\r\n\r\n\t\tif (res) {\r\n\t\t\twebConfig = res.web;\r\n\r\n\t\t\tyoutubeLanguage = res.youtube.language.join(',');\r\n\t\t\tyoutubeTranslation = res.youtube.translation;\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tawait submitHandler();\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 pr-1.5 overflow-y-scroll h-full max-h-[22rem]\">\r\n\t\t{#if webConfig}\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Web Search')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Enable Web Search')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Switch bind:state={webConfig.search.enabled} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Web Search Engine')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right\"\r\n\t\t\t\t\t\t\tbind:value={webConfig.search.engine}\r\n\t\t\t\t\t\t\tplaceholder=\"Select a engine\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option disabled selected value=\"\">Select a engine</option>\r\n\t\t\t\t\t\t\t{#each webSearchEngines as engine}\r\n\t\t\t\t\t\t\t\t<option value={engine}>{engine}</option>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if webConfig.search.engine !== ''}\r\n\t\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t\t{#if webConfig.search.engine === 'searxng'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Searxng Query URL')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Searxng Query URL')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.searxng_query_url}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'google_pse'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Google PSE API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Google PSE API Key')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.google_pse_api_key}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Google PSE Engine Id')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Google PSE Engine Id')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.google_pse_engine_id}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'brave'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Brave Search API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Brave Search API Key')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.brave_search_api_key}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'serpstack'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Serpstack API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serpstack API Key')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serpstack_api_key}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'serper'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Serper API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serper API Key')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serper_api_key}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t{#if webConfig.search.enabled}\r\n\t\t\t\t\t<div class=\"mt-2 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Search Result Count')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Search Result Count')}\r\n\t\t\t\t\t\t\t\tbind:value={webConfig.search.result_count}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Concurrent Requests')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Concurrent Requests')}\r\n\t\t\t\t\t\t\t\tbind:value={webConfig.search.concurrent_requests}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\" dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Web Loader Settings')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Bypass SSL verification for Websites')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\twebConfig.ssl_verification = !webConfig.ssl_verification;\r\n\t\t\t\t\t\t\t\tsubmitHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if webConfig.ssl_verification === true}\r\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" mt-2 mb-1 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Youtube Loader Settings')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" w-20 text-xs font-medium self-center\">{$i18n.t('Language')}</div>\r\n\t\t\t\t\t\t<div class=\" flex-1 self-center\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter language codes')}\r\n\t\t\t\t\t\t\t\tbind:value={youtubeLanguage}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script>\r\n\timport { getContext, tick } from 'svelte';\r\n\timport Modal from '../common/Modal.svelte';\r\n\timport General from './Settings/General.svelte';\r\n\timport ChunkParams from './Settings/ChunkParams.svelte';\r\n\timport QueryParams from './Settings/QueryParams.svelte';\r\n\timport WebParams from './Settings/WebParams.svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { config } from '$lib/stores';\r\n\timport { getBackendConfig } from '$lib/apis';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let show = false;\r\n\r\n\tlet selectedTab = 'general';\r\n</script>\r\n\r\n<Modal bind:show>\r\n\t<div>\r\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4\">\r\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Document Settings')}</div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshow = false;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-5 h-5\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"flex flex-col md:flex-row w-full p-4 md:space-x-4\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0\"\r\n\t\t\t>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t\t\t'general'\r\n\t\t\t\t\t\t? 'bg-gray-200 dark:bg-gray-700'\r\n\t\t\t\t\t\t: ' hover:bg-gray-300 dark:hover:bg-gray-800'}\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tselectedTab = 'general';\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\" self-center\">{$i18n.t('General')}</div>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t\t\t'chunk'\r\n\t\t\t\t\t\t? 'bg-gray-200 dark:bg-gray-700'\r\n\t\t\t\t\t\t: ' hover:bg-gray-300 dark:hover:bg-gray-800'}\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tselectedTab = 'chunk';\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Chunk Params')}</div>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t\t\t'query'\r\n\t\t\t\t\t\t? 'bg-gray-200 dark:bg-gray-700'\r\n\t\t\t\t\t\t: ' hover:bg-gray-300 dark:hover:bg-gray-800'}\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tselectedTab = 'query';\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path d=\"M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z\" />\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Query Params')}</div>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<!-- <button\r\n\t\t\t\t\tclass=\"px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t\t\t'web'\r\n\t\t\t\t\t\t? 'bg-gray-200 dark:bg-gray-700'\r\n\t\t\t\t\t\t: ' hover:bg-gray-300 dark:hover:bg-gray-800'}\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tselectedTab = 'web';\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\" self-center\">{$i18n.t('Web Params')}</div>\r\n\t\t\t\t</button> -->\r\n\t\t\t</div>\r\n\t\t\t<div class=\"flex-1 md:min-h-[380px]\">\r\n\t\t\t\t{#if selectedTab === 'general'}\r\n\t\t\t\t\t<General\r\n\t\t\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t{:else if selectedTab === 'chunk'}\r\n\t\t\t\t\t<ChunkParams\r\n\t\t\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t{:else if selectedTab === 'query'}\r\n\t\t\t\t\t<QueryParams\r\n\t\t\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t{:else if selectedTab === 'web'}\r\n\t\t\t\t\t<WebParams\r\n\t\t\t\t\t\tsaveHandler={async () => {\r\n\t\t\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\r\n\t\t\t\t\t\t\tawait tick();\r\n\t\t\t\t\t\t\tawait config.set(await getBackendConfig());\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</Modal>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport dayjs from 'dayjs';\r\n\timport { onMount, getContext } from 'svelte';\r\n\r\n\timport { createNewDoc, getDocs, tagDocByName, updateDocByName } from '$lib/apis/documents';\r\n\timport Modal from '../common/Modal.svelte';\r\n\timport { documents } from '$lib/stores';\r\n\timport TagInput from '../common/Tags/TagInput.svelte';\r\n\timport Tags from '../common/Tags.svelte';\r\n\timport { addTagById } from '$lib/apis/chats';\r\n\timport { uploadDocToVectorDB } from '$lib/apis/rag';\r\n\timport { transformFileName } from '$lib/utils';\r\n\timport { SUPPORTED_FILE_EXTENSIONS, SUPPORTED_FILE_TYPE } from '$lib/constants';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let show = false;\r\n\tlet uploadDocInputElement: HTMLInputElement;\r\n\tlet inputFiles;\r\n\tlet tags = [];\r\n\r\n\tlet doc = {\r\n\t\tname: '',\r\n\t\ttitle: '',\r\n\t\tcontent: null\r\n\t};\r\n\r\n\tconst uploadDoc = async (file) => {\r\n\t\tconst res = await uploadDocToVectorDB(localStorage.token, '', file).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\tawait createNewDoc(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\tres.collection_name,\r\n\t\t\t\tres.filename,\r\n\t\t\t\ttransformFileName(res.filename),\r\n\t\t\t\tres.filename,\r\n\t\t\t\ttags.length > 0\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\ttags: tags\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: null\r\n\t\t\t).catch((error) => {\r\n\t\t\t\ttoast.error(error);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t\tawait documents.set(await getDocs(localStorage.token));\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tif (inputFiles && inputFiles.length > 0) {\r\n\t\t\tfor (const file of inputFiles) {\r\n\t\t\t\tconsole.log(file, file.name.split('.').at(-1));\r\n\t\t\t\tif (\r\n\t\t\t\t\tSUPPORTED_FILE_TYPE.includes(file['type']) ||\r\n\t\t\t\t\tSUPPORTED_FILE_EXTENSIONS.includes(file.name.split('.').at(-1))\r\n\t\t\t\t) {\r\n\t\t\t\t\tuploadDoc(file);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttoast.error(\r\n\t\t\t\t\t\t`Unknown File Type '${file['type']}', but accepting and treating as plain text`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tuploadDoc(file);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinputFiles = null;\r\n\t\t\tuploadDocInputElement.value = '';\r\n\t\t} else {\r\n\t\t\ttoast.error($i18n.t(`File not found.`));\r\n\t\t}\r\n\r\n\t\tshow = false;\r\n\t\tdocuments.set(await getDocs(localStorage.token));\r\n\t};\r\n\r\n\tconst addTagHandler = async (tagName) => {\r\n\t\tif (!tags.find((tag) => tag.name === tagName) && tagName !== '') {\r\n\t\t\ttags = [...tags, { name: tagName }];\r\n\t\t} else {\r\n\t\t\tconsole.log('tag already exists');\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteTagHandler = async (tagName) => {\r\n\t\ttags = tags.filter((tag) => tag.name !== tagName);\r\n\t};\r\n\r\n\tonMount(() => {});\r\n</script>\r\n\r\n<Modal size=\"sm\" bind:show>\r\n\t<div>\r\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4\">\r\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Add Docs')}</div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshow = false;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-5 h-5\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200\">\r\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\r\n\t\t\t\t<form\r\n\t\t\t\t\tclass=\"flex flex-col w-full\"\r\n\t\t\t\t\ton:submit|preventDefault={() => {\r\n\t\t\t\t\t\tsubmitHandler();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"mb-3 w-full\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"upload-doc-input\"\r\n\t\t\t\t\t\t\tbind:this={uploadDocInputElement}\r\n\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\tbind:files={inputFiles}\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"w-full text-sm font-medium py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 text-center rounded-xl\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tuploadDocInputElement.click();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if inputFiles}\r\n\t\t\t\t\t\t\t\t{inputFiles.length > 0 ? `${inputFiles.length}` : ''} document(s) selected.\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t{$i18n.t('Click here to select documents.')}\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\" flex flex-col space-y-1.5\">\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-xs text-gray-500\">{$i18n.t('Tags')}</div>\r\n\r\n\t\t\t\t\t\t\t<Tags {tags} addTag={addTagHandler} deleteTag={deleteTagHandler} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex justify-end pt-5 text-sm font-medium\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{$i18n.t('Save')}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</Modal>\r\n\r\n<style>\r\n\tinput::-webkit-outer-spin-button,\r\n\tinput::-webkit-inner-spin-button {\r\n\t\t/* display: none; <- Crashes Chrome on hover */\r\n\t\t-webkit-appearance: none;\r\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\r\n\t}\r\n\r\n\t.tabs::-webkit-scrollbar {\r\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\r\n\t}\r\n\r\n\t.tabs {\r\n\t\t-ms-overflow-style: none; /* IE and Edge */\r\n\t\tscrollbar-width: none; /* Firefox */\r\n\t}\r\n\r\n\tinput[type='number'] {\r\n\t\t-moz-appearance: textfield; /* Firefox */\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport fileSaver from 'file-saver';\r\n\tconst { saveAs } = fileSaver;\r\n\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { WEBUI_NAME, documents } from '$lib/stores';\r\n\timport { createNewDoc, deleteDocByName, getDocs } from '$lib/apis/documents';\r\n\r\n\timport { SUPPORTED_FILE_TYPE, SUPPORTED_FILE_EXTENSIONS } from '$lib/constants';\r\n\timport { uploadDocToVectorDB } from '$lib/apis/rag';\r\n\timport { transformFileName } from '$lib/utils';\r\n\r\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\r\n\r\n\timport EditDocModal from '$lib/components/documents/EditDocModal.svelte';\r\n\timport AddFilesPlaceholder from '$lib/components/AddFilesPlaceholder.svelte';\r\n\timport SettingsModal from '$lib/components/documents/SettingsModal.svelte';\r\n\timport AddDocModal from '$lib/components/documents/AddDocModal.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet importFiles = '';\r\n\r\n\tlet inputFiles = '';\r\n\tlet query = '';\r\n\tlet documentsImportInputElement: HTMLInputElement;\r\n\tlet tags = [];\r\n\r\n\tlet showSettingsModal = false;\r\n\tlet showAddDocModal = false;\r\n\tlet showEditDocModal = false;\r\n\tlet selectedDoc;\r\n\tlet selectedTag = '';\r\n\r\n\tlet dragged = false;\r\n\r\n\tconst deleteDoc = async (name) => {\r\n\t\tawait deleteDocByName(localStorage.token, name);\r\n\t\tawait documents.set(await getDocs(localStorage.token));\r\n\t};\r\n\r\n\tconst deleteDocs = async (docs) => {\r\n\t\tconst res = await Promise.all(\r\n\t\t\tdocs.map(async (doc) => {\r\n\t\t\t\treturn await deleteDocByName(localStorage.token, doc.name);\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tawait documents.set(await getDocs(localStorage.token));\r\n\t};\r\n\r\n\tconst uploadDoc = async (file) => {\r\n\t\tconst res = await uploadDocToVectorDB(localStorage.token, '', file).catch((error) => {\r\n\t\t\ttoast.error(error);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\tawait createNewDoc(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\tres.collection_name,\r\n\t\t\t\tres.filename,\r\n\t\t\t\ttransformFileName(res.filename),\r\n\t\t\t\tres.filename\r\n\t\t\t).catch((error) => {\r\n\t\t\t\ttoast.error(error);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t\tawait documents.set(await getDocs(localStorage.token));\r\n\t\t}\r\n\t};\r\n\r\n\tonMount(() => {\r\n\t\tdocuments.subscribe((docs) => {\r\n\t\t\ttags = docs.reduce((a, e, i, arr) => {\r\n\t\t\t\treturn [...new Set([...a, ...(e?.content?.tags ?? []).map((tag) => tag.name)])];\r\n\t\t\t}, []);\r\n\t\t});\r\n\t\tconst dropZone = document.querySelector('body');\r\n\r\n\t\tconst onDragOver = (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tdragged = true;\r\n\t\t};\r\n\r\n\t\tconst onDragLeave = () => {\r\n\t\t\tdragged = false;\r\n\t\t};\r\n\r\n\t\tconst onDrop = async (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (e.dataTransfer?.files) {\r\n\t\t\t\tlet reader = new FileReader();\r\n\r\n\t\t\t\treader.onload = (event) => {\r\n\t\t\t\t\tfiles = [\r\n\t\t\t\t\t\t...files,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\t\t\turl: `${event.target.result}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t];\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst inputFiles = e.dataTransfer?.files;\r\n\r\n\t\t\t\tif (inputFiles && inputFiles.length > 0) {\r\n\t\t\t\t\tfor (const file of inputFiles) {\r\n\t\t\t\t\t\tconsole.log(file, file.name.split('.').at(-1));\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tSUPPORTED_FILE_TYPE.includes(file['type']) ||\r\n\t\t\t\t\t\t\tSUPPORTED_FILE_EXTENSIONS.includes(file.name.split('.').at(-1))\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tuploadDoc(file);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttoast.error(\r\n\t\t\t\t\t\t\t\t`Unknown File Type '${file['type']}', but accepting and treating as plain text`\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tuploadDoc(file);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttoast.error($i18n.t(`File not found.`));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tdragged = false;\r\n\t\t};\r\n\r\n\t\tdropZone?.addEventListener('dragover', onDragOver);\r\n\t\tdropZone?.addEventListener('drop', onDrop);\r\n\t\tdropZone?.addEventListener('dragleave', onDragLeave);\r\n\r\n\t\treturn () => {\r\n\t\t\tdropZone?.removeEventListener('dragover', onDragOver);\r\n\t\t\tdropZone?.removeEventListener('drop', onDrop);\r\n\t\t\tdropZone?.removeEventListener('dragleave', onDragLeave);\r\n\t\t};\r\n\t});\r\n\r\n\tlet filteredDocs;\r\n\r\n\t$: filteredDocs = $documents.filter(\r\n\t\t(doc) =>\r\n\t\t\t(selectedTag === '' ||\r\n\t\t\t\t(doc?.content?.tags ?? []).map((tag) => tag.name).includes(selectedTag)) &&\r\n\t\t\t(query === '' || doc.name.includes(query))\r\n\t);\r\n</script>\r\n\r\n<svelte:head>\r\n\t<title>\r\n\t\t{$i18n.t('Documents')} | {$WEBUI_NAME}\r\n\t</title>\r\n</svelte:head>\r\n\r\n{#if dragged}\r\n\t<div\r\n\t\tclass=\"fixed w-full h-full flex z-50 touch-none pointer-events-none\"\r\n\t\tid=\"dropzone\"\r\n\t\trole=\"region\"\r\n\t\taria-label=\"Drag and Drop Container\"\r\n\t>\r\n\t\t<div class=\"absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center\">\r\n\t\t\t<div class=\"m-auto pt-64 flex flex-col justify-center\">\r\n\t\t\t\t<div class=\"max-w-md\">\r\n\t\t\t\t\t<AddFilesPlaceholder>\r\n\t\t\t\t\t\t<div class=\" mt-2 text-center text-sm dark:text-gray-200 w-full\">\r\n\t\t\t\t\t\t\tDrop any files here to add to my documents\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</AddFilesPlaceholder>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n{/if}\r\n\r\n{#key selectedDoc}\r\n\t<EditDocModal bind:show={showEditDocModal} {selectedDoc} />\r\n{/key}\r\n\r\n<AddDocModal bind:show={showAddDocModal} />\r\n\r\n<SettingsModal bind:show={showSettingsModal} />\r\n\r\n<div class=\"mb-3\">\r\n\t<div class=\"flex justify-between items-center\">\r\n\t\t<div class=\" text-lg font-semibold self-center\">{$i18n.t('Documents')}</div>\r\n\r\n\t\t<div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition\"\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowSettingsModal = !showSettingsModal;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\r\n\t\t\t\t<div class=\" text-xs\">{$i18n.t('Document Settings')}</div>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\" text-gray-500 text-xs mt-1\">\r\n\t\t {$i18n.t(\"Use '#' in the prompt input to load and select your documents.\")}\r\n\t</div>\r\n</div>\r\n\r\n<div class=\" flex w-full space-x-2\">\r\n\t<div class=\"flex flex-1\">\r\n\t\t<div class=\" self-center ml-1 mr-3\">\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\td=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\r\n\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t\t<input\r\n\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent\"\r\n\t\t\tbind:value={query}\r\n\t\t\tplaceholder={$i18n.t('Search Documents')}\r\n\t\t/>\r\n\t</div>\r\n\r\n\t<div>\r\n\t\t<button\r\n\t\t\tclass=\" px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tshowAddDocModal = true;\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</button>\r\n\t</div>\r\n</div>\r\n\r\n<!-- <div>\r\n    <div\r\n        class=\"my-3 py-16 rounded-lg border-2 border-dashed dark:border-gray-600 {dragged &&\r\n            ' dark:bg-gray-700'} \"\r\n        role=\"region\"\r\n        on:drop={onDrop}\r\n        on:dragover={onDragOver}\r\n        on:dragleave={onDragLeave}\r\n    >\r\n        <div class=\"  pointer-events-none\">\r\n            <div class=\"text-center dark:text-white text-2xl font-semibold z-50\">{$i18n.t('Add Files')}</div>\r\n\r\n            <div class=\" mt-2 text-center text-sm dark:text-gray-200 w-full\">\r\n                Drop any files here to add to my documents\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> -->\r\n\r\n<hr class=\" dark:border-gray-850 my-2.5\" />\r\n\r\n{#if tags.length > 0}\r\n\t<div class=\"px-2.5 pt-1 flex gap-1 flex-wrap\">\r\n\t\t<div class=\"ml-0.5 pr-3 my-auto flex items-center\">\r\n\t\t\t<Checkbox\r\n\t\t\t\tstate={filteredDocs.filter((doc) => doc?.selected === 'checked').length ===\r\n\t\t\t\tfilteredDocs.length\r\n\t\t\t\t\t? 'checked'\r\n\t\t\t\t\t: 'unchecked'}\r\n\t\t\t\tindeterminate={filteredDocs.filter((doc) => doc?.selected === 'checked').length > 0 &&\r\n\t\t\t\t\tfilteredDocs.filter((doc) => doc?.selected === 'checked').length !== filteredDocs.length}\r\n\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\tif (e.detail === 'checked') {\r\n\t\t\t\t\t\tfilteredDocs = filteredDocs.map((doc) => ({ ...doc, selected: 'checked' }));\r\n\t\t\t\t\t} else if (e.detail === 'unchecked') {\r\n\t\t\t\t\t\tfilteredDocs = filteredDocs.map((doc) => ({ ...doc, selected: 'unchecked' }));\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\r\n\t\t{#if filteredDocs.filter((doc) => doc?.selected === 'checked').length === 0}\r\n\t\t\t<button\r\n\t\t\t\tclass=\"px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white\"\r\n\t\t\t\ton:click={async () => {\r\n\t\t\t\t\tselectedTag = '';\r\n\t\t\t\t\t// await chats.set(await getChatListByTagName(localStorage.token, tag.name));\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div class=\" text-xs font-medium self-center line-clamp-1\">{$i18n.t('all')}</div>\r\n\t\t\t</button>\r\n\r\n\t\t\t{#each tags as tag}\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white\"\r\n\t\t\t\t\ton:click={async () => {\r\n\t\t\t\t\t\tselectedTag = tag;\r\n\t\t\t\t\t\t// await chats.set(await getChatListByTagName(localStorage.token, tag.name));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" text-xs font-medium self-center line-clamp-1\">\r\n\t\t\t\t\t\t#{tag}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</button>\r\n\t\t\t{/each}\r\n\t\t{:else}\r\n\t\t\t<div class=\"flex-1 flex w-full justify-between items-center\">\r\n\t\t\t\t<div class=\"text-xs font-medium py-0.5 self-center mr-1\">\r\n\t\t\t\t\t{filteredDocs.filter((doc) => doc?.selected === 'checked').length} Selected\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"flex gap-1\">\r\n\t\t\t\t\t<!-- <button\r\n                        class=\"px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white\"\r\n                        on:click={async () => {\r\n                            selectedTag = '';\r\n                            // await chats.set(await getChatListByTagName(localStorage.token, tag.name));\r\n                        }}\r\n                    >\r\n                        <div class=\" text-xs font-medium self-center line-clamp-1\">add tags</div>\r\n                    </button> -->\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white\"\r\n\t\t\t\t\t\ton:click={async () => {\r\n\t\t\t\t\t\t\tdeleteDocs(filteredDocs.filter((doc) => doc.selected === 'checked'));\r\n\t\t\t\t\t\t\t// await chats.set(await getChatListByTagName(localStorage.token, tag.name));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\" text-xs font-medium self-center line-clamp-1\">\r\n\t\t\t\t\t\t\t{$i18n.t('delete')}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n{/if}\r\n\r\n<div class=\"my-3 mb-5\">\r\n\t{#each filteredDocs as doc}\r\n\t\t<button\r\n\t\t\tclass=\" flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tif (doc?.selected === 'checked') {\r\n\t\t\t\t\tdoc.selected = 'unchecked';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdoc.selected = 'checked';\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\"my-auto flex items-center\">\r\n\t\t\t\t<Checkbox state={doc?.selected ?? 'unchecked'} />\r\n\t\t\t</div>\r\n\t\t\t<div class=\" flex flex-1 space-x-4 cursor-pointer w-full\">\r\n\t\t\t\t<div class=\" flex items-center space-x-3\">\r\n\t\t\t\t\t<div class=\"p-2.5 bg-red-400 text-white rounded-lg\">\r\n\t\t\t\t\t\t{#if doc}\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-6 h-6\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\tclass=\" w-6 h-6 translate-y-[0.5px]\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t\t\t.spinner_qM83 {\r\n\t\t\t\t\t\t\t\t\t\tanimation: spinner_8HQG 1.05s infinite;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t.spinner_oXPr {\r\n\t\t\t\t\t\t\t\t\t\tanimation-delay: 0.1s;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t.spinner_ZTLf {\r\n\t\t\t\t\t\t\t\t\t\tanimation-delay: 0.2s;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t@keyframes spinner_8HQG {\r\n\t\t\t\t\t\t\t\t\t\t0%,\r\n\t\t\t\t\t\t\t\t\t\t57.14% {\r\n\t\t\t\t\t\t\t\t\t\t\tanimation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);\r\n\t\t\t\t\t\t\t\t\t\t\ttransform: translate(0);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t28.57% {\r\n\t\t\t\t\t\t\t\t\t\t\tanimation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);\r\n\t\t\t\t\t\t\t\t\t\t\ttransform: translateY(-6px);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\ttransform: translate(0);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</style><circle class=\"spinner_qM83\" cx=\"4\" cy=\"12\" r=\"2.5\" /><circle\r\n\t\t\t\t\t\t\t\t\tclass=\"spinner_qM83 spinner_oXPr\"\r\n\t\t\t\t\t\t\t\t\tcx=\"12\"\r\n\t\t\t\t\t\t\t\t\tcy=\"12\"\r\n\t\t\t\t\t\t\t\t\tr=\"2.5\"\r\n\t\t\t\t\t\t\t\t/><circle class=\"spinner_qM83 spinner_ZTLf\" cx=\"20\" cy=\"12\" r=\"2.5\" /></svg\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\" self-center flex-1\">\r\n\t\t\t\t\t\t<div class=\" font-bold line-clamp-1\">#{doc.name} ({doc.filename})</div>\r\n\t\t\t\t\t\t<div class=\" text-xs overflow-hidden text-ellipsis line-clamp-1\">\r\n\t\t\t\t\t\t\t{doc.title}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"flex flex-row space-x-1 self-center\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\ton:click={async (e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tshowEditDocModal = !showEditDocModal;\r\n\t\t\t\t\t\tselectedDoc = doc;\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\td=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<!-- <button\r\n            class=\"self-center w-fit text-sm px-2 py-2 border dark:border-gray-600 rounded-xl\"\r\n            type=\"button\"\r\n            on:click={() => {\r\n                console.log('download file');\r\n            }}\r\n        >\r\n            <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 16 16\"\r\n                fill=\"currentColor\"\r\n                class=\"w-4 h-4\"\r\n            >\r\n                <path\r\n                    d=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n                />\r\n                <path\r\n                    d=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n                />\r\n            </svg>\r\n        </button> -->\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\ton:click={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\t\t\tdeleteDoc(doc.name);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\td=\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</button>\r\n\t{/each}\r\n</div>\r\n\r\n<div class=\" flex justify-end w-full mb-2\">\r\n\t<div class=\"flex space-x-2\">\r\n\t\t<input\r\n\t\t\tid=\"documents-import-input\"\r\n\t\t\tbind:this={documentsImportInputElement}\r\n\t\t\tbind:files={importFiles}\r\n\t\t\ttype=\"file\"\r\n\t\t\taccept=\".json\"\r\n\t\t\thidden\r\n\t\t\ton:change={() => {\r\n\t\t\t\tconsole.log(importFiles);\r\n\r\n\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\treader.onload = async (event) => {\r\n\t\t\t\t\tconst savedDocs = JSON.parse(event.target.result);\r\n\t\t\t\t\tconsole.log(savedDocs);\r\n\r\n\t\t\t\t\tfor (const doc of savedDocs) {\r\n\t\t\t\t\t\tawait createNewDoc(\r\n\t\t\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t\t\tdoc.collection_name,\r\n\t\t\t\t\t\t\tdoc.filename,\r\n\t\t\t\t\t\t\tdoc.name,\r\n\t\t\t\t\t\t\tdoc.title\r\n\t\t\t\t\t\t).catch((error) => {\r\n\t\t\t\t\t\t\ttoast.error(error);\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tawait documents.set(await getDocs(localStorage.token));\r\n\t\t\t\t};\r\n\r\n\t\t\t\treader.readAsText(importFiles[0]);\r\n\t\t\t}}\r\n\t\t/>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tdocumentsImportInputElement.click();\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2 font-medium\">{$i18n.t('Import Documents Mapping')}</div>\r\n\r\n\t\t\t<div class=\" self-center\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\ton:click={async () => {\r\n\t\t\t\tlet blob = new Blob([JSON.stringify($documents)], {\r\n\t\t\t\t\ttype: 'application/json'\r\n\t\t\t\t});\r\n\t\t\t\tsaveAs(blob, `documents-mapping-export-${Date.now()}.json`);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2 font-medium\">{$i18n.t('Export Documents Mapping')}</div>\r\n\r\n\t\t\t<div class=\" self-center\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t</button>\r\n\t</div>\r\n</div>\r\n"],"names":["ctx","insert_hydration","target","div15","anchor","append_hydration","div1","div0","button0","div14","div13","form","div11","div5","div2","div4","div3","input0","set_input_value","div8","div6","div7","input1","div10","div9","div12","button1","set_data","t0","t0_value","t3","t3_value","dirty","t8","t8_value","t11","t11_value","t14","t14_value","i18n","getContext","show","$$props","selectedDoc","tags","doc","submitHandler","updateDocByName","error","toast","documents","getDocs","addTagHandler","tagName","tag","$$invalidate","tagDocByName","deleteTagHandler","onMount","_a","div","input2","input3","t2","t2_value","span","t","t_value","if_block","create_if_block_6","input","create_if_block_5","each_value","ensure_array_like","func","i","add_render_callback","select","create_if_block_7","button","svg","path0","path1","option","option_value_value","create_if_block_3","attr","input_placeholder_value","t1","t1_value","svg0","create_if_block_10","if_block1","create_if_block_9","create_if_block_8","create_if_block_4","create_if_block_2","create_if_block_1","create_if_block","hr0","hr1","button2","t4","t4_value","t13","t13_value","t16","t16_value","t22","t22_value","m","saveHandler","scanDirLoading","updateEmbeddingModelLoading","updateRerankingModelLoading","showResetConfirm","showResetUploadDirConfirm","embeddingEngine","embeddingModel","rerankingModel","OpenAIKey","OpenAIUrl","OpenAIBatchSize","querySettings","scanHandler","res","scanDocs","$i18n","embeddingModelUpdateHandler","updateEmbeddingConfig","setEmbeddingConfig","rerankingModelUpdateHandler","updateRerankingConfig","setRerankingConfig","embeddingConfig","getEmbeddingConfig","rerankingConfig","getRerankingConfig","toggleHybridSearch","updateQuerySettings","getQuerySettings","to_number","select_value","resetUploadDir","resetVectorDB","t5","t5_value","t10","t10_value","t12","t12_value","chunkSize","chunkOverlap","pdfExtractImages","updateRAGConfig","getRAGConfig","hr","textarea","t7","t7_value","if_block0","div17","div16","t17","t17_value","t19","t19_value","webConfig","webSearchEngines","youtubeLanguage","youtubeTranslation","lang","value","button1_class_value","button2_class_value","button3","button3_class_value","current","selectedTab","tick","config","getBackendConfig","uploadDocInputElement","inputFiles","uploadDoc","file","uploadDocToVectorDB","createNewDoc","transformFileName","SUPPORTED_FILE_TYPE","SUPPORTED_FILE_EXTENSIONS","$$value","func_1","func_2","func_3","show_if","checkbox_changes","func_4","style","circle0","circle1","circle2","document_1","title_value","each_blocks","t20","t20_value","t23","t23_value","saveAs","fileSaver","importFiles","query","documentsImportInputElement","showSettingsModal","showAddDocModal","showEditDocModal","selectedTag","dragged","deleteDoc","name","deleteDocByName","deleteDocs","docs","a","e","arr","dropZone","onDragOver","onDragLeave","onDrop","reader","event","_b","filteredDocs","doc_index","savedDocs","blob","$documents"],"mappings":"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"}